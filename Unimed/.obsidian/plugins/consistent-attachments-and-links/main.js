/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

(function initCjs() {
  const globalThisRecord = globalThis;
  globalThisRecord["__name"] ??= name;
  const originalRequire = require;
  if (originalRequire && !originalRequire.__isPatched) {
    require = Object.assign(
      (id) => requirePatched(id),
      originalRequire,
      {
        __isPatched: true
      }
    );
  }
  const newFuncs = {
    __extractDefault: () => extractDefault,
    process: () => {
      const browserProcess = {
        browser: true,
        cwd: () => "/",
        env: {},
        platform: "android"
      };
      return browserProcess;
    }
  };
  for (const key of Object.keys(newFuncs)) {
    globalThisRecord[key] ??= newFuncs[key]?.();
  }
  function name(obj) {
    return obj;
  }
  function extractDefault(module2) {
    return module2 && module2.__esModule && module2.default ? module2.default : module2;
  }
  function requirePatched(id) {
    const module2 = originalRequire?.(id);
    if (module2) {
      return extractDefault(module2);
    }
    if (id === "process" || id === "node:process") {
      console.error(`Module not found: ${id}. Fake process object is returned instead.`);
      return globalThis.process;
    }
    console.error(`Module not found: ${id}. Empty object is returned instead.`);
    return {};
  }
})();

"use strict";var lg=Object.create;var vi=Object.defineProperty;var ug=Object.getOwnPropertyDescriptor;var cg=Object.getOwnPropertyNames;var dg=Object.getPrototypeOf,fg=Object.prototype.hasOwnProperty;var gt=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),tu=(t,e)=>{for(var n in e)vi(t,n,{get:e[n],enumerable:!0})},nu=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of cg(e))!fg.call(t,s)&&s!==n&&vi(t,s,{get:()=>e[s],enumerable:!(r=ug(e,s))||r.enumerable});return t};var et=(t,e,n)=>(n=t!=null?lg(dg(t)):{},nu(e||!t||!t.__esModule?vi(n,"default",{value:t,enumerable:!0}):n,t)),hg=t=>nu(vi({},"__esModule",{value:!0}),t);var uu=gt((Sk,lu)=>{"use strict";function At(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}function au(t,e){for(var n="",r=0,s=-1,o=0,l,u=0;u<=t.length;++u){if(u<t.length)l=t.charCodeAt(u);else{if(l===47)break;l=47}if(l===47){if(!(s===u-1||o===1))if(s!==u-1&&o===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){var d=n.lastIndexOf("/");if(d!==n.length-1){d===-1?(n="",r=0):(n=n.slice(0,d),r=n.length-1-n.lastIndexOf("/")),s=u,o=0;continue}}else if(n.length===2||n.length===1){n="",r=0,s=u,o=0;continue}}e&&(n.length>0?n+="/..":n="..",r=2)}else n.length>0?n+="/"+t.slice(s+1,u):n=t.slice(s+1,u),r=u-s-1;s=u,o=0}else l===46&&o!==-1?++o:o=-1}return n}function wg(t,e){var n=e.dir||e.root,r=e.base||(e.name||"")+(e.ext||"");return n?n===e.root?n+r:n+t+r:r}var Un={resolve:function(){for(var e="",n=!1,r,s=arguments.length-1;s>=-1&&!n;s--){var o;s>=0?o=arguments[s]:(r===void 0&&(r=process.cwd()),o=r),At(o),o.length!==0&&(e=o+"/"+e,n=o.charCodeAt(0)===47)}return e=au(e,!n),n?e.length>0?"/"+e:"/":e.length>0?e:"."},normalize:function(e){if(At(e),e.length===0)return".";var n=e.charCodeAt(0)===47,r=e.charCodeAt(e.length-1)===47;return e=au(e,!n),e.length===0&&!n&&(e="."),e.length>0&&r&&(e+="/"),n?"/"+e:e},isAbsolute:function(e){return At(e),e.length>0&&e.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var e,n=0;n<arguments.length;++n){var r=arguments[n];At(r),r.length>0&&(e===void 0?e=r:e+="/"+r)}return e===void 0?".":Un.normalize(e)},relative:function(e,n){if(At(e),At(n),e===n||(e=Un.resolve(e),n=Un.resolve(n),e===n))return"";for(var r=1;r<e.length&&e.charCodeAt(r)===47;++r);for(var s=e.length,o=s-r,l=1;l<n.length&&n.charCodeAt(l)===47;++l);for(var u=n.length,d=u-l,p=o<d?o:d,h=-1,m=0;m<=p;++m){if(m===p){if(d>p){if(n.charCodeAt(l+m)===47)return n.slice(l+m+1);if(m===0)return n.slice(l+m)}else o>p&&(e.charCodeAt(r+m)===47?h=m:m===0&&(h=0));break}var w=e.charCodeAt(r+m),y=n.charCodeAt(l+m);if(w!==y)break;w===47&&(h=m)}var x="";for(m=r+h+1;m<=s;++m)(m===s||e.charCodeAt(m)===47)&&(x.length===0?x+="..":x+="/..");return x.length>0?x+n.slice(l+h):(l+=h,n.charCodeAt(l)===47&&++l,n.slice(l))},_makeLong:function(e){return e},dirname:function(e){if(At(e),e.length===0)return".";for(var n=e.charCodeAt(0),r=n===47,s=-1,o=!0,l=e.length-1;l>=1;--l)if(n=e.charCodeAt(l),n===47){if(!o){s=l;break}}else o=!1;return s===-1?r?"/":".":r&&s===1?"//":e.slice(0,s)},basename:function(e,n){if(n!==void 0&&typeof n!="string")throw new TypeError('"ext" argument must be a string');At(e);var r=0,s=-1,o=!0,l;if(n!==void 0&&n.length>0&&n.length<=e.length){if(n.length===e.length&&n===e)return"";var u=n.length-1,d=-1;for(l=e.length-1;l>=0;--l){var p=e.charCodeAt(l);if(p===47){if(!o){r=l+1;break}}else d===-1&&(o=!1,d=l+1),u>=0&&(p===n.charCodeAt(u)?--u===-1&&(s=l):(u=-1,s=d))}return r===s?s=d:s===-1&&(s=e.length),e.slice(r,s)}else{for(l=e.length-1;l>=0;--l)if(e.charCodeAt(l)===47){if(!o){r=l+1;break}}else s===-1&&(o=!1,s=l+1);return s===-1?"":e.slice(r,s)}},extname:function(e){At(e);for(var n=-1,r=0,s=-1,o=!0,l=0,u=e.length-1;u>=0;--u){var d=e.charCodeAt(u);if(d===47){if(!o){r=u+1;break}continue}s===-1&&(o=!1,s=u+1),d===46?n===-1?n=u:l!==1&&(l=1):n!==-1&&(l=-1)}return n===-1||s===-1||l===0||l===1&&n===s-1&&n===r+1?"":e.slice(n,s)},format:function(e){if(e===null||typeof e!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return wg("/",e)},parse:function(e){At(e);var n={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return n;var r=e.charCodeAt(0),s=r===47,o;s?(n.root="/",o=1):o=0;for(var l=-1,u=0,d=-1,p=!0,h=e.length-1,m=0;h>=o;--h){if(r=e.charCodeAt(h),r===47){if(!p){u=h+1;break}continue}d===-1&&(p=!1,d=h+1),r===46?l===-1?l=h:m!==1&&(m=1):l!==-1&&(m=-1)}return l===-1||d===-1||m===0||m===1&&l===d-1&&l===u+1?d!==-1&&(u===0&&s?n.base=n.name=e.slice(1,d):n.base=n.name=e.slice(u,d)):(u===0&&s?(n.name=e.slice(1,l),n.base=e.slice(1,d)):(n.name=e.slice(u,l),n.base=e.slice(u,d)),n.ext=e.slice(l,d)),u>0?n.dir=e.slice(0,u-1):s&&(n.dir="/"),n},sep:"/",delimiter:":",win32:null,posix:null};Un.posix=Un;lu.exports=Un});var Au=gt((Zk,Cu)=>{var Gn=1e3,qn=Gn*60,Kn=qn*60,vn=Kn*24,Tg=vn*7,Fg=vn*365.25;Cu.exports=function(t,e){e=e||{};var n=typeof t;if(n==="string"&&t.length>0)return Pg(t);if(n==="number"&&isFinite(t))return e.long?Mg(t):Dg(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function Pg(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]),r=(e[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*Fg;case"weeks":case"week":case"w":return n*Tg;case"days":case"day":case"d":return n*vn;case"hours":case"hour":case"hrs":case"hr":case"h":return n*Kn;case"minutes":case"minute":case"mins":case"min":case"m":return n*qn;case"seconds":case"second":case"secs":case"sec":case"s":return n*Gn;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function Dg(t){var e=Math.abs(t);return e>=vn?Math.round(t/vn)+"d":e>=Kn?Math.round(t/Kn)+"h":e>=qn?Math.round(t/qn)+"m":e>=Gn?Math.round(t/Gn)+"s":t+"ms"}function Mg(t){var e=Math.abs(t);return e>=vn?_i(t,e,vn,"day"):e>=Kn?_i(t,e,Kn,"hour"):e>=qn?_i(t,e,qn,"minute"):e>=Gn?_i(t,e,Gn,"second"):t+" ms"}function _i(t,e,n,r){var s=e>=n*1.5;return Math.round(t/n)+" "+r+(s?"s":"")}});var zo=gt((Qk,Eu)=>{function Ig(t){n.debug=n,n.default=n,n.coerce=d,n.disable=l,n.enable=s,n.enabled=u,n.humanize=Au(),n.destroy=p,Object.keys(t).forEach(h=>{n[h]=t[h]}),n.names=[],n.skips=[],n.formatters={};function e(h){let m=0;for(let w=0;w<h.length;w++)m=(m<<5)-m+h.charCodeAt(w),m|=0;return n.colors[Math.abs(m)%n.colors.length]}n.selectColor=e;function n(h){let m,w=null,y,x;function P(...S){if(!P.enabled)return;let C=P,T=Number(new Date),F=T-(m||T);C.diff=F,C.prev=m,C.curr=T,m=T,S[0]=n.coerce(S[0]),typeof S[0]!="string"&&S.unshift("%O");let B=0;S[0]=S[0].replace(/%([a-zA-Z%])/g,(E,Q)=>{if(E==="%%")return"%";B++;let j=n.formatters[Q];if(typeof j=="function"){let G=S[B];E=j.call(C,G),S.splice(B,1),B--}return E}),n.formatArgs.call(C,S),(C.log||n.log).apply(C,S)}return P.namespace=h,P.useColors=n.useColors(),P.color=n.selectColor(h),P.extend=r,P.destroy=n.destroy,Object.defineProperty(P,"enabled",{enumerable:!0,configurable:!1,get:()=>w!==null?w:(y!==n.namespaces&&(y=n.namespaces,x=n.enabled(h)),x),set:S=>{w=S}}),typeof n.init=="function"&&n.init(P),P}function r(h,m){let w=n(this.namespace+(typeof m>"u"?":":m)+h);return w.log=this.log,w}function s(h){n.save(h),n.namespaces=h,n.names=[],n.skips=[];let m=(typeof h=="string"?h:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let w of m)w[0]==="-"?n.skips.push(w.slice(1)):n.names.push(w)}function o(h,m){let w=0,y=0,x=-1,P=0;for(;w<h.length;)if(y<m.length&&(m[y]===h[w]||m[y]==="*"))m[y]==="*"?(x=y,P=w,y++):(w++,y++);else if(x!==-1)y=x+1,P++,w=P;else return!1;for(;y<m.length&&m[y]==="*";)y++;return y===m.length}function l(){let h=[...n.names,...n.skips.map(m=>"-"+m)].join(",");return n.enable(""),h}function u(h){for(let m of n.skips)if(o(h,m))return!1;for(let m of n.names)if(o(h,m))return!0;return!1}function d(h){return h instanceof Error?h.stack||h.message:h}function p(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}Eu.exports=Ig});var Su=gt((Ge,Ti)=>{Ge.formatArgs=Lg;Ge.save=Rg;Ge.load=Ng;Ge.useColors=Og;Ge.storage=Wg();Ge.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Ge.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function Og(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let t;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(t=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(t[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function Lg(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+Ti.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let n=0,r=0;t[0].replace(/%[a-zA-Z%]/g,s=>{s!=="%%"&&(n++,s==="%c"&&(r=n))}),t.splice(r,0,e)}Ge.log=console.debug||console.log||(()=>{});function Rg(t){try{t?Ge.storage.setItem("debug",t):Ge.storage.removeItem("debug")}catch{}}function Ng(){let t;try{t=Ge.storage.getItem("debug")||Ge.storage.getItem("DEBUG")}catch{}return!t&&typeof process<"u"&&"env"in process&&(t=process.env.DEBUG),t}function Wg(){try{return localStorage}catch{}}Ti.exports=zo()(Ge);var{formatters:Bg}=Ti.exports;Bg.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var Tu=gt((Jk,_u)=>{"use strict";_u.exports=(t,e=process.argv)=>{let n=t.startsWith("-")?"":t.length===1?"-":"--",r=e.indexOf(n+t),s=e.indexOf("--");return r!==-1&&(s===-1||r<s)}});var Du=gt((Xk,Pu)=>{"use strict";var Yg=require("os"),Fu=require("tty"),rt=Tu(),{env:xe}=process,tn;rt("no-color")||rt("no-colors")||rt("color=false")||rt("color=never")?tn=0:(rt("color")||rt("colors")||rt("color=true")||rt("color=always"))&&(tn=1);"FORCE_COLOR"in xe&&(xe.FORCE_COLOR==="true"?tn=1:xe.FORCE_COLOR==="false"?tn=0:tn=xe.FORCE_COLOR.length===0?1:Math.min(parseInt(xe.FORCE_COLOR,10),3));function Uo(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}function Ho(t,e){if(tn===0)return 0;if(rt("color=16m")||rt("color=full")||rt("color=truecolor"))return 3;if(rt("color=256"))return 2;if(t&&!e&&tn===void 0)return 0;let n=tn||0;if(xe.TERM==="dumb")return n;if(process.platform==="win32"){let r=Yg.release().split(".");return Number(r[0])>=10&&Number(r[2])>=10586?Number(r[2])>=14931?3:2:1}if("CI"in xe)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(r=>r in xe)||xe.CI_NAME==="codeship"?1:n;if("TEAMCITY_VERSION"in xe)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(xe.TEAMCITY_VERSION)?1:0;if(xe.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in xe){let r=parseInt((xe.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(xe.TERM_PROGRAM){case"iTerm.app":return r>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(xe.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(xe.TERM)||"COLORTERM"in xe?1:n}function Vg(t){let e=Ho(t,t&&t.isTTY);return Uo(e)}Pu.exports={supportsColor:Vg,stdout:Uo(Ho(!0,Fu.isatty(1))),stderr:Uo(Ho(!0,Fu.isatty(2)))}});var Iu=gt((Ce,Pi)=>{var zg=require("tty"),Fi=require("util");Ce.init=Kg;Ce.log=jg;Ce.formatArgs=Hg;Ce.save=Gg;Ce.load=qg;Ce.useColors=Ug;Ce.destroy=Fi.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");Ce.colors=[6,2,3,4,5,1];try{let t=Du();t&&(t.stderr||t).level>=2&&(Ce.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}Ce.inspectOpts=Object.keys(process.env).filter(t=>/^debug_/i.test(t)).reduce((t,e)=>{let n=e.substring(6).toLowerCase().replace(/_([a-z])/g,(s,o)=>o.toUpperCase()),r=process.env[e];return/^(yes|on|true|enabled)$/i.test(r)?r=!0:/^(no|off|false|disabled)$/i.test(r)?r=!1:r==="null"?r=null:r=Number(r),t[n]=r,t},{});function Ug(){return"colors"in Ce.inspectOpts?!!Ce.inspectOpts.colors:zg.isatty(process.stderr.fd)}function Hg(t){let{namespace:e,useColors:n}=this;if(n){let r=this.color,s="\x1B[3"+(r<8?r:"8;5;"+r),o=`  ${s};1m${e} \x1B[0m`;t[0]=o+t[0].split(`
`).join(`
`+o),t.push(s+"m+"+Pi.exports.humanize(this.diff)+"\x1B[0m")}else t[0]=$g()+e+" "+t[0]}function $g(){return Ce.inspectOpts.hideDate?"":new Date().toISOString()+" "}function jg(...t){return process.stderr.write(Fi.formatWithOptions(Ce.inspectOpts,...t)+`
`)}function Gg(t){t?process.env.DEBUG=t:delete process.env.DEBUG}function qg(){return process.env.DEBUG}function Kg(t){t.inspectOpts={};let e=Object.keys(Ce.inspectOpts);for(let n=0;n<e.length;n++)t.inspectOpts[e[n]]=Ce.inspectOpts[e[n]]}Pi.exports=zo()(Ce);var{formatters:Mu}=Pi.exports;Mu.o=function(t){return this.inspectOpts.colors=this.useColors,Fi.inspect(t,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};Mu.O=function(t){return this.inspectOpts.colors=this.useColors,Fi.inspect(t,this.inspectOpts)}});var Ou=gt((eb,$o)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?$o.exports=Su():$o.exports=Iu()});var qu=gt((Ri,Gu)=>{(function(t,e){typeof Ri=="object"&&typeof Gu<"u"?e(Ri):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.compareVersions={}))})(Ri,function(t){"use strict";let e=/^[v^~<>=]*?(\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+))?(?:-([\da-z\-]+(?:\.[\da-z\-]+)*))?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i,n=S=>{if(typeof S!="string")throw new TypeError("Invalid argument expected string");let C=S.match(e);if(!C)throw new Error(`Invalid argument not valid semver ('${S}' received)`);return C.shift(),C},r=S=>S==="*"||S==="x"||S==="X",s=S=>{let C=parseInt(S,10);return isNaN(C)?S:C},o=(S,C)=>typeof S!=typeof C?[String(S),String(C)]:[S,C],l=(S,C)=>{if(r(S)||r(C))return 0;let[T,F]=o(s(S),s(C));return T>F?1:T<F?-1:0},u=(S,C)=>{for(let T=0;T<Math.max(S.length,C.length);T++){let F=l(S[T]||"0",C[T]||"0");if(F!==0)return F}return 0},d=(S,C)=>{let T=n(S),F=n(C),B=T.pop(),Y=F.pop(),E=u(T,F);return E!==0?E:B&&Y?u(B.split("."),Y.split(".")):B||Y?B?-1:1:0},p=(S,C,T)=>{w(T);let F=d(S,C);return h[T].includes(F)},h={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1],"!=":[-1,1]},m=Object.keys(h),w=S=>{if(typeof S!="string")throw new TypeError(`Invalid operator type, expected string but got ${typeof S}`);if(m.indexOf(S)===-1)throw new Error(`Invalid operator, expected one of ${m.join("|")}`)},y=(S,C)=>{if(C=C.replace(/([><=]+)\s+/g,"$1"),C.includes("||"))return C.split("||").some(ee=>y(S,ee));if(C.includes(" - ")){let[ee,ce]=C.split(" - ",2);return y(S,`>=${ee} <=${ce}`)}else if(C.includes(" "))return C.trim().replace(/\s{2,}/g," ").split(" ").every(ee=>y(S,ee));let T=C.match(/^([<>=~^]+)/),F=T?T[1]:"=";if(F!=="^"&&F!=="~")return p(S,C,F);let[B,Y,E,,Q]=n(S),[j,G,ne,,ae]=n(C),X=[B,Y,E],N=[j,G??"x",ne??"x"];if(ae&&(!Q||u(X,N)!==0||u(Q.split("."),ae.split("."))===-1))return!1;let U=N.findIndex(ee=>ee!=="0")+1,V=F==="~"?2:U>1?U:1;return!(u(X.slice(0,V),N.slice(0,V))!==0||u(X.slice(V),N.slice(V))===-1)},x=S=>typeof S=="string"&&/^[v\d]/.test(S)&&e.test(S),P=S=>typeof S=="string"&&/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/.test(S);t.compare=p,t.compareVersions=d,t.satisfies=y,t.validate=x,t.validateStrict=P})});var Ed=gt((tS,Ad)=>{"use strict";var cs=Object.prototype.hasOwnProperty,Cd=Object.prototype.toString,wd=Object.defineProperty,yd=Object.getOwnPropertyDescriptor,kd=function(e){return typeof Array.isArray=="function"?Array.isArray(e):Cd.call(e)==="[object Array]"},bd=function(e){if(!e||Cd.call(e)!=="[object Object]")return!1;var n=cs.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&cs.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;var s;for(s in e);return typeof s>"u"||cs.call(e,s)},vd=function(e,n){wd&&n.name==="__proto__"?wd(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},xd=function(e,n){if(n==="__proto__")if(cs.call(e,n)){if(yd)return yd(e,n).value}else return;return e[n]};Ad.exports=function t(){var e,n,r,s,o,l,u=arguments[0],d=1,p=arguments.length,h=!1;for(typeof u=="boolean"&&(h=u,u=arguments[1]||{},d=2),(u==null||typeof u!="object"&&typeof u!="function")&&(u={});d<p;++d)if(e=arguments[d],e!=null)for(n in e)r=xd(u,n),s=xd(e,n),u!==s&&(h&&s&&(bd(s)||(o=kd(s)))?(o?(o=!1,l=r&&kd(r)?r:[]):l=r&&bd(r)?r:{},vd(u,{name:n,newValue:t(h,l,s)})):typeof s<"u"&&vd(u,{name:n,newValue:s}));return u}});var In=gt((ll,pr)=>{(function(t,e){typeof ll=="object"&&typeof pr<"u"?pr.exports=e():typeof define=="function"&&define.amd?define(e):t.moment=e()})(ll,function(){"use strict";var t;function e(){return t.apply(null,arguments)}function n(i){t=i}function r(i){return i instanceof Array||Object.prototype.toString.call(i)==="[object Array]"}function s(i){return i!=null&&Object.prototype.toString.call(i)==="[object Object]"}function o(i,a){return Object.prototype.hasOwnProperty.call(i,a)}function l(i){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(i).length===0;var a;for(a in i)if(o(i,a))return!1;return!0}function u(i){return i===void 0}function d(i){return typeof i=="number"||Object.prototype.toString.call(i)==="[object Number]"}function p(i){return i instanceof Date||Object.prototype.toString.call(i)==="[object Date]"}function h(i,a){var c=[],f,g=i.length;for(f=0;f<g;++f)c.push(a(i[f],f));return c}function m(i,a){for(var c in a)o(a,c)&&(i[c]=a[c]);return o(a,"toString")&&(i.toString=a.toString),o(a,"valueOf")&&(i.valueOf=a.valueOf),i}function w(i,a,c,f){return Ml(i,a,c,f,!0).utc()}function y(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function x(i){return i._pf==null&&(i._pf=y()),i._pf}var P;Array.prototype.some?P=Array.prototype.some:P=function(i){var a=Object(this),c=a.length>>>0,f;for(f=0;f<c;f++)if(f in a&&i.call(this,a[f],f,a))return!0;return!1};function S(i){var a=null,c=!1,f=i._d&&!isNaN(i._d.getTime());if(f&&(a=x(i),c=P.call(a.parsedDateParts,function(g){return g!=null}),f=a.overflow<0&&!a.empty&&!a.invalidEra&&!a.invalidMonth&&!a.invalidWeekday&&!a.weekdayMismatch&&!a.nullInput&&!a.invalidFormat&&!a.userInvalidated&&(!a.meridiem||a.meridiem&&c),i._strict&&(f=f&&a.charsLeftOver===0&&a.unusedTokens.length===0&&a.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(i))i._isValid=f;else return f;return i._isValid}function C(i){var a=w(NaN);return i!=null?m(x(a),i):x(a).userInvalidated=!0,a}var T=e.momentProperties=[],F=!1;function B(i,a){var c,f,g,b=T.length;if(u(a._isAMomentObject)||(i._isAMomentObject=a._isAMomentObject),u(a._i)||(i._i=a._i),u(a._f)||(i._f=a._f),u(a._l)||(i._l=a._l),u(a._strict)||(i._strict=a._strict),u(a._tzm)||(i._tzm=a._tzm),u(a._isUTC)||(i._isUTC=a._isUTC),u(a._offset)||(i._offset=a._offset),u(a._pf)||(i._pf=x(a)),u(a._locale)||(i._locale=a._locale),b>0)for(c=0;c<b;c++)f=T[c],g=a[f],u(g)||(i[f]=g);return i}function Y(i){B(this,i),this._d=new Date(i._d!=null?i._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),F===!1&&(F=!0,e.updateOffset(this),F=!1)}function E(i){return i instanceof Y||i!=null&&i._isAMomentObject!=null}function Q(i){e.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+i)}function j(i,a){var c=!0;return m(function(){if(e.deprecationHandler!=null&&e.deprecationHandler(null,i),c){var f=[],g,b,A,O=arguments.length;for(b=0;b<O;b++){if(g="",typeof arguments[b]=="object"){g+=`
[`+b+"] ";for(A in arguments[0])o(arguments[0],A)&&(g+=A+": "+arguments[0][A]+", ");g=g.slice(0,-2)}else g=arguments[b];f.push(g)}Q(i+`
Arguments: `+Array.prototype.slice.call(f).join("")+`
`+new Error().stack),c=!1}return a.apply(this,arguments)},a)}var G={};function ne(i,a){e.deprecationHandler!=null&&e.deprecationHandler(i,a),G[i]||(Q(a),G[i]=!0)}e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;function ae(i){return typeof Function<"u"&&i instanceof Function||Object.prototype.toString.call(i)==="[object Function]"}function X(i){var a,c;for(c in i)o(i,c)&&(a=i[c],ae(a)?this[c]=a:this["_"+c]=a);this._config=i,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function N(i,a){var c=m({},i),f;for(f in a)o(a,f)&&(s(i[f])&&s(a[f])?(c[f]={},m(c[f],i[f]),m(c[f],a[f])):a[f]!=null?c[f]=a[f]:delete c[f]);for(f in i)o(i,f)&&!o(a,f)&&s(i[f])&&(c[f]=m({},c[f]));return c}function U(i){i!=null&&this.set(i)}var V;Object.keys?V=Object.keys:V=function(i){var a,c=[];for(a in i)o(i,a)&&c.push(a);return c};var ee={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function ce(i,a,c){var f=this._calendar[i]||this._calendar.sameElse;return ae(f)?f.call(a,c):f}function he(i,a,c){var f=""+Math.abs(i),g=a-f.length,b=i>=0;return(b?c?"+":"":"-")+Math.pow(10,Math.max(0,g)).toString().substr(1)+f}var $e=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,v=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Te={},Fe={};function k(i,a,c,f){var g=f;typeof f=="string"&&(g=function(){return this[f]()}),i&&(Fe[i]=g),a&&(Fe[a[0]]=function(){return he(g.apply(this,arguments),a[1],a[2])}),c&&(Fe[c]=function(){return this.localeData().ordinal(g.apply(this,arguments),i)})}function Le(i){return i.match(/\[[\s\S]/)?i.replace(/^\[|\]$/g,""):i.replace(/\\/g,"")}function Mt(i){var a=i.match($e),c,f;for(c=0,f=a.length;c<f;c++)Fe[a[c]]?a[c]=Fe[a[c]]:a[c]=Le(a[c]);return function(g){var b="",A;for(A=0;A<f;A++)b+=ae(a[A])?a[A].call(g,i):a[A];return b}}function Zt(i,a){return i.isValid()?(a=fn(a,i.localeData()),Te[a]=Te[a]||Mt(a),Te[a](i)):i.localeData().invalidDate()}function fn(i,a){var c=5;function f(g){return a.longDateFormat(g)||g}for(v.lastIndex=0;c>=0&&v.test(i);)i=i.replace(v,f),v.lastIndex=0,c-=1;return i}var we={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function hn(i){var a=this._longDateFormat[i],c=this._longDateFormat[i.toUpperCase()];return a||!c?a:(this._longDateFormat[i]=c.match($e).map(function(f){return f==="MMMM"||f==="MM"||f==="DD"||f==="dddd"?f.slice(1):f}).join(""),this._longDateFormat[i])}var ct="Invalid date";function It(){return this._invalidDate}var Qt="%d",wr=/\d{1,2}/;function ho(i){return this._ordinal.replace("%d",i)}var ni={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function ri(i,a,c,f){var g=this._relativeTime[c];return ae(g)?g(i,a,c,f):g.replace(/%d/i,i)}function ii(i,a){var c=this._relativeTime[i>0?"future":"past"];return ae(c)?c(a):c.replace(/%s/i,a)}var si={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function Re(i){return typeof i=="string"?si[i]||si[i.toLowerCase()]:void 0}function Ln(i){var a={},c,f;for(f in i)o(i,f)&&(c=Re(f),c&&(a[c]=i[f]));return a}var po={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function mo(i){var a=[],c;for(c in i)o(i,c)&&a.push({unit:c,priority:po[c]});return a.sort(function(f,g){return f.priority-g.priority}),a}var oi=/\d/,Ne=/\d\d/,ai=/\d{3}/,_=/\d{4}/,M=/[+-]?\d{6}/,I=/\d\d?/,q=/\d\d\d\d?/,re=/\d\d\d\d\d\d?/,Pe=/\d{1,3}/,dt=/\d{1,4}/,je=/[+-]?\d{1,6}/,Je=/\d+/,vt=/[+-]?\d+/,We=/Z|[+-]\d\d:?\d\d/gi,ft=/Z|[+-]\d\d(?::?\d\d)?/gi,ht=/[+-]?\d+(\.\d{1,3})?/,yr=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Rn=/^[1-9]\d?/,go=/^([1-9]\d|\d)/,li;li={};function L(i,a,c){li[i]=ae(a)?a:function(f,g){return f&&c?c:a}}function Ff(i,a){return o(li,i)?li[i](a._strict,a._locale):new RegExp(Pf(i))}function Pf(i){return Ot(i.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,c,f,g,b){return c||f||g||b}))}function Ot(i){return i.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Xe(i){return i<0?Math.ceil(i)||0:Math.floor(i)}function K(i){var a=+i,c=0;return a!==0&&isFinite(a)&&(c=Xe(a)),c}var wo={};function ie(i,a){var c,f=a,g;for(typeof i=="string"&&(i=[i]),d(a)&&(f=function(b,A){A[a]=K(b)}),g=i.length,c=0;c<g;c++)wo[i[c]]=f}function kr(i,a){ie(i,function(c,f,g,b){g._w=g._w||{},a(c,g._w,g,b)})}function Df(i,a,c){a!=null&&o(wo,i)&&wo[i](a,c._a,c,i)}function ui(i){return i%4===0&&i%100!==0||i%400===0}var De=0,Lt=1,xt=2,ye=3,pt=4,Rt=5,pn=6,Mf=7,If=8;k("Y",0,0,function(){var i=this.year();return i<=9999?he(i,4):"+"+i}),k(0,["YY",2],0,function(){return this.year()%100}),k(0,["YYYY",4],0,"year"),k(0,["YYYYY",5],0,"year"),k(0,["YYYYYY",6,!0],0,"year"),L("Y",vt),L("YY",I,Ne),L("YYYY",dt,_),L("YYYYY",je,M),L("YYYYYY",je,M),ie(["YYYYY","YYYYYY"],De),ie("YYYY",function(i,a){a[De]=i.length===2?e.parseTwoDigitYear(i):K(i)}),ie("YY",function(i,a){a[De]=e.parseTwoDigitYear(i)}),ie("Y",function(i,a){a[De]=parseInt(i,10)});function br(i){return ui(i)?366:365}e.parseTwoDigitYear=function(i){return K(i)+(K(i)>68?1900:2e3)};var gl=Nn("FullYear",!0);function Of(){return ui(this.year())}function Nn(i,a){return function(c){return c!=null?(wl(this,i,c),e.updateOffset(this,a),this):vr(this,i)}}function vr(i,a){if(!i.isValid())return NaN;var c=i._d,f=i._isUTC;switch(a){case"Milliseconds":return f?c.getUTCMilliseconds():c.getMilliseconds();case"Seconds":return f?c.getUTCSeconds():c.getSeconds();case"Minutes":return f?c.getUTCMinutes():c.getMinutes();case"Hours":return f?c.getUTCHours():c.getHours();case"Date":return f?c.getUTCDate():c.getDate();case"Day":return f?c.getUTCDay():c.getDay();case"Month":return f?c.getUTCMonth():c.getMonth();case"FullYear":return f?c.getUTCFullYear():c.getFullYear();default:return NaN}}function wl(i,a,c){var f,g,b,A,O;if(!(!i.isValid()||isNaN(c))){switch(f=i._d,g=i._isUTC,a){case"Milliseconds":return void(g?f.setUTCMilliseconds(c):f.setMilliseconds(c));case"Seconds":return void(g?f.setUTCSeconds(c):f.setSeconds(c));case"Minutes":return void(g?f.setUTCMinutes(c):f.setMinutes(c));case"Hours":return void(g?f.setUTCHours(c):f.setHours(c));case"Date":return void(g?f.setUTCDate(c):f.setDate(c));case"FullYear":break;default:return}b=c,A=i.month(),O=i.date(),O=O===29&&A===1&&!ui(b)?28:O,g?f.setUTCFullYear(b,A,O):f.setFullYear(b,A,O)}}function Lf(i){return i=Re(i),ae(this[i])?this[i]():this}function Rf(i,a){if(typeof i=="object"){i=Ln(i);var c=mo(i),f,g=c.length;for(f=0;f<g;f++)this[c[f].unit](i[c[f].unit])}else if(i=Re(i),ae(this[i]))return this[i](a);return this}function Nf(i,a){return(i%a+a)%a}var pe;Array.prototype.indexOf?pe=Array.prototype.indexOf:pe=function(i){var a;for(a=0;a<this.length;++a)if(this[a]===i)return a;return-1};function yo(i,a){if(isNaN(i)||isNaN(a))return NaN;var c=Nf(a,12);return i+=(a-c)/12,c===1?ui(i)?29:28:31-c%7%2}k("M",["MM",2],"Mo",function(){return this.month()+1}),k("MMM",0,0,function(i){return this.localeData().monthsShort(this,i)}),k("MMMM",0,0,function(i){return this.localeData().months(this,i)}),L("M",I,Rn),L("MM",I,Ne),L("MMM",function(i,a){return a.monthsShortRegex(i)}),L("MMMM",function(i,a){return a.monthsRegex(i)}),ie(["M","MM"],function(i,a){a[Lt]=K(i)-1}),ie(["MMM","MMMM"],function(i,a,c,f){var g=c._locale.monthsParse(i,f,c._strict);g!=null?a[Lt]=g:x(c).invalidMonth=i});var Wf="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),yl="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),kl=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Bf=yr,Yf=yr;function Vf(i,a){return i?r(this._months)?this._months[i.month()]:this._months[(this._months.isFormat||kl).test(a)?"format":"standalone"][i.month()]:r(this._months)?this._months:this._months.standalone}function zf(i,a){return i?r(this._monthsShort)?this._monthsShort[i.month()]:this._monthsShort[kl.test(a)?"format":"standalone"][i.month()]:r(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function Uf(i,a,c){var f,g,b,A=i.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],f=0;f<12;++f)b=w([2e3,f]),this._shortMonthsParse[f]=this.monthsShort(b,"").toLocaleLowerCase(),this._longMonthsParse[f]=this.months(b,"").toLocaleLowerCase();return c?a==="MMM"?(g=pe.call(this._shortMonthsParse,A),g!==-1?g:null):(g=pe.call(this._longMonthsParse,A),g!==-1?g:null):a==="MMM"?(g=pe.call(this._shortMonthsParse,A),g!==-1?g:(g=pe.call(this._longMonthsParse,A),g!==-1?g:null)):(g=pe.call(this._longMonthsParse,A),g!==-1?g:(g=pe.call(this._shortMonthsParse,A),g!==-1?g:null))}function Hf(i,a,c){var f,g,b;if(this._monthsParseExact)return Uf.call(this,i,a,c);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),f=0;f<12;f++){if(g=w([2e3,f]),c&&!this._longMonthsParse[f]&&(this._longMonthsParse[f]=new RegExp("^"+this.months(g,"").replace(".","")+"$","i"),this._shortMonthsParse[f]=new RegExp("^"+this.monthsShort(g,"").replace(".","")+"$","i")),!c&&!this._monthsParse[f]&&(b="^"+this.months(g,"")+"|^"+this.monthsShort(g,""),this._monthsParse[f]=new RegExp(b.replace(".",""),"i")),c&&a==="MMMM"&&this._longMonthsParse[f].test(i))return f;if(c&&a==="MMM"&&this._shortMonthsParse[f].test(i))return f;if(!c&&this._monthsParse[f].test(i))return f}}function bl(i,a){if(!i.isValid())return i;if(typeof a=="string"){if(/^\d+$/.test(a))a=K(a);else if(a=i.localeData().monthsParse(a),!d(a))return i}var c=a,f=i.date();return f=f<29?f:Math.min(f,yo(i.year(),c)),i._isUTC?i._d.setUTCMonth(c,f):i._d.setMonth(c,f),i}function vl(i){return i!=null?(bl(this,i),e.updateOffset(this,!0),this):vr(this,"Month")}function $f(){return yo(this.year(),this.month())}function jf(i){return this._monthsParseExact?(o(this,"_monthsRegex")||xl.call(this),i?this._monthsShortStrictRegex:this._monthsShortRegex):(o(this,"_monthsShortRegex")||(this._monthsShortRegex=Bf),this._monthsShortStrictRegex&&i?this._monthsShortStrictRegex:this._monthsShortRegex)}function Gf(i){return this._monthsParseExact?(o(this,"_monthsRegex")||xl.call(this),i?this._monthsStrictRegex:this._monthsRegex):(o(this,"_monthsRegex")||(this._monthsRegex=Yf),this._monthsStrictRegex&&i?this._monthsStrictRegex:this._monthsRegex)}function xl(){function i(z,Z){return Z.length-z.length}var a=[],c=[],f=[],g,b,A,O;for(g=0;g<12;g++)b=w([2e3,g]),A=Ot(this.monthsShort(b,"")),O=Ot(this.months(b,"")),a.push(A),c.push(O),f.push(O),f.push(A);a.sort(i),c.sort(i),f.sort(i),this._monthsRegex=new RegExp("^("+f.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+c.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+a.join("|")+")","i")}function qf(i,a,c,f,g,b,A){var O;return i<100&&i>=0?(O=new Date(i+400,a,c,f,g,b,A),isFinite(O.getFullYear())&&O.setFullYear(i)):O=new Date(i,a,c,f,g,b,A),O}function xr(i){var a,c;return i<100&&i>=0?(c=Array.prototype.slice.call(arguments),c[0]=i+400,a=new Date(Date.UTC.apply(null,c)),isFinite(a.getUTCFullYear())&&a.setUTCFullYear(i)):a=new Date(Date.UTC.apply(null,arguments)),a}function ci(i,a,c){var f=7+a-c,g=(7+xr(i,0,f).getUTCDay()-a)%7;return-g+f-1}function Cl(i,a,c,f,g){var b=(7+c-f)%7,A=ci(i,f,g),O=1+7*(a-1)+b+A,z,Z;return O<=0?(z=i-1,Z=br(z)+O):O>br(i)?(z=i+1,Z=O-br(i)):(z=i,Z=O),{year:z,dayOfYear:Z}}function Cr(i,a,c){var f=ci(i.year(),a,c),g=Math.floor((i.dayOfYear()-f-1)/7)+1,b,A;return g<1?(A=i.year()-1,b=g+Nt(A,a,c)):g>Nt(i.year(),a,c)?(b=g-Nt(i.year(),a,c),A=i.year()+1):(A=i.year(),b=g),{week:b,year:A}}function Nt(i,a,c){var f=ci(i,a,c),g=ci(i+1,a,c);return(br(i)-f+g)/7}k("w",["ww",2],"wo","week"),k("W",["WW",2],"Wo","isoWeek"),L("w",I,Rn),L("ww",I,Ne),L("W",I,Rn),L("WW",I,Ne),kr(["w","ww","W","WW"],function(i,a,c,f){a[f.substr(0,1)]=K(i)});function Kf(i){return Cr(i,this._week.dow,this._week.doy).week}var Zf={dow:0,doy:6};function Qf(){return this._week.dow}function Jf(){return this._week.doy}function Xf(i){var a=this.localeData().week(this);return i==null?a:this.add((i-a)*7,"d")}function eh(i){var a=Cr(this,1,4).week;return i==null?a:this.add((i-a)*7,"d")}k("d",0,"do","day"),k("dd",0,0,function(i){return this.localeData().weekdaysMin(this,i)}),k("ddd",0,0,function(i){return this.localeData().weekdaysShort(this,i)}),k("dddd",0,0,function(i){return this.localeData().weekdays(this,i)}),k("e",0,0,"weekday"),k("E",0,0,"isoWeekday"),L("d",I),L("e",I),L("E",I),L("dd",function(i,a){return a.weekdaysMinRegex(i)}),L("ddd",function(i,a){return a.weekdaysShortRegex(i)}),L("dddd",function(i,a){return a.weekdaysRegex(i)}),kr(["dd","ddd","dddd"],function(i,a,c,f){var g=c._locale.weekdaysParse(i,f,c._strict);g!=null?a.d=g:x(c).invalidWeekday=i}),kr(["d","e","E"],function(i,a,c,f){a[f]=K(i)});function th(i,a){return typeof i!="string"?i:isNaN(i)?(i=a.weekdaysParse(i),typeof i=="number"?i:null):parseInt(i,10)}function nh(i,a){return typeof i=="string"?a.weekdaysParse(i)%7||7:isNaN(i)?null:i}function ko(i,a){return i.slice(a,7).concat(i.slice(0,a))}var rh="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Al="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),ih="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),sh=yr,oh=yr,ah=yr;function lh(i,a){var c=r(this._weekdays)?this._weekdays:this._weekdays[i&&i!==!0&&this._weekdays.isFormat.test(a)?"format":"standalone"];return i===!0?ko(c,this._week.dow):i?c[i.day()]:c}function uh(i){return i===!0?ko(this._weekdaysShort,this._week.dow):i?this._weekdaysShort[i.day()]:this._weekdaysShort}function ch(i){return i===!0?ko(this._weekdaysMin,this._week.dow):i?this._weekdaysMin[i.day()]:this._weekdaysMin}function dh(i,a,c){var f,g,b,A=i.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],f=0;f<7;++f)b=w([2e3,1]).day(f),this._minWeekdaysParse[f]=this.weekdaysMin(b,"").toLocaleLowerCase(),this._shortWeekdaysParse[f]=this.weekdaysShort(b,"").toLocaleLowerCase(),this._weekdaysParse[f]=this.weekdays(b,"").toLocaleLowerCase();return c?a==="dddd"?(g=pe.call(this._weekdaysParse,A),g!==-1?g:null):a==="ddd"?(g=pe.call(this._shortWeekdaysParse,A),g!==-1?g:null):(g=pe.call(this._minWeekdaysParse,A),g!==-1?g:null):a==="dddd"?(g=pe.call(this._weekdaysParse,A),g!==-1||(g=pe.call(this._shortWeekdaysParse,A),g!==-1)?g:(g=pe.call(this._minWeekdaysParse,A),g!==-1?g:null)):a==="ddd"?(g=pe.call(this._shortWeekdaysParse,A),g!==-1||(g=pe.call(this._weekdaysParse,A),g!==-1)?g:(g=pe.call(this._minWeekdaysParse,A),g!==-1?g:null)):(g=pe.call(this._minWeekdaysParse,A),g!==-1||(g=pe.call(this._weekdaysParse,A),g!==-1)?g:(g=pe.call(this._shortWeekdaysParse,A),g!==-1?g:null))}function fh(i,a,c){var f,g,b;if(this._weekdaysParseExact)return dh.call(this,i,a,c);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),f=0;f<7;f++){if(g=w([2e3,1]).day(f),c&&!this._fullWeekdaysParse[f]&&(this._fullWeekdaysParse[f]=new RegExp("^"+this.weekdays(g,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[f]=new RegExp("^"+this.weekdaysShort(g,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[f]=new RegExp("^"+this.weekdaysMin(g,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[f]||(b="^"+this.weekdays(g,"")+"|^"+this.weekdaysShort(g,"")+"|^"+this.weekdaysMin(g,""),this._weekdaysParse[f]=new RegExp(b.replace(".",""),"i")),c&&a==="dddd"&&this._fullWeekdaysParse[f].test(i))return f;if(c&&a==="ddd"&&this._shortWeekdaysParse[f].test(i))return f;if(c&&a==="dd"&&this._minWeekdaysParse[f].test(i))return f;if(!c&&this._weekdaysParse[f].test(i))return f}}function hh(i){if(!this.isValid())return i!=null?this:NaN;var a=vr(this,"Day");return i!=null?(i=th(i,this.localeData()),this.add(i-a,"d")):a}function ph(i){if(!this.isValid())return i!=null?this:NaN;var a=(this.day()+7-this.localeData()._week.dow)%7;return i==null?a:this.add(i-a,"d")}function mh(i){if(!this.isValid())return i!=null?this:NaN;if(i!=null){var a=nh(i,this.localeData());return this.day(this.day()%7?a:a-7)}else return this.day()||7}function gh(i){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||bo.call(this),i?this._weekdaysStrictRegex:this._weekdaysRegex):(o(this,"_weekdaysRegex")||(this._weekdaysRegex=sh),this._weekdaysStrictRegex&&i?this._weekdaysStrictRegex:this._weekdaysRegex)}function wh(i){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||bo.call(this),i?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(o(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=oh),this._weekdaysShortStrictRegex&&i?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function yh(i){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||bo.call(this),i?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(o(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=ah),this._weekdaysMinStrictRegex&&i?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function bo(){function i(Be,zt){return zt.length-Be.length}var a=[],c=[],f=[],g=[],b,A,O,z,Z;for(b=0;b<7;b++)A=w([2e3,1]).day(b),O=Ot(this.weekdaysMin(A,"")),z=Ot(this.weekdaysShort(A,"")),Z=Ot(this.weekdays(A,"")),a.push(O),c.push(z),f.push(Z),g.push(O),g.push(z),g.push(Z);a.sort(i),c.sort(i),f.sort(i),g.sort(i),this._weekdaysRegex=new RegExp("^("+g.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+f.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function vo(){return this.hours()%12||12}function kh(){return this.hours()||24}k("H",["HH",2],0,"hour"),k("h",["hh",2],0,vo),k("k",["kk",2],0,kh),k("hmm",0,0,function(){return""+vo.apply(this)+he(this.minutes(),2)}),k("hmmss",0,0,function(){return""+vo.apply(this)+he(this.minutes(),2)+he(this.seconds(),2)}),k("Hmm",0,0,function(){return""+this.hours()+he(this.minutes(),2)}),k("Hmmss",0,0,function(){return""+this.hours()+he(this.minutes(),2)+he(this.seconds(),2)});function El(i,a){k(i,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),a)})}El("a",!0),El("A",!1);function Sl(i,a){return a._meridiemParse}L("a",Sl),L("A",Sl),L("H",I,go),L("h",I,Rn),L("k",I,Rn),L("HH",I,Ne),L("hh",I,Ne),L("kk",I,Ne),L("hmm",q),L("hmmss",re),L("Hmm",q),L("Hmmss",re),ie(["H","HH"],ye),ie(["k","kk"],function(i,a,c){var f=K(i);a[ye]=f===24?0:f}),ie(["a","A"],function(i,a,c){c._isPm=c._locale.isPM(i),c._meridiem=i}),ie(["h","hh"],function(i,a,c){a[ye]=K(i),x(c).bigHour=!0}),ie("hmm",function(i,a,c){var f=i.length-2;a[ye]=K(i.substr(0,f)),a[pt]=K(i.substr(f)),x(c).bigHour=!0}),ie("hmmss",function(i,a,c){var f=i.length-4,g=i.length-2;a[ye]=K(i.substr(0,f)),a[pt]=K(i.substr(f,2)),a[Rt]=K(i.substr(g)),x(c).bigHour=!0}),ie("Hmm",function(i,a,c){var f=i.length-2;a[ye]=K(i.substr(0,f)),a[pt]=K(i.substr(f))}),ie("Hmmss",function(i,a,c){var f=i.length-4,g=i.length-2;a[ye]=K(i.substr(0,f)),a[pt]=K(i.substr(f,2)),a[Rt]=K(i.substr(g))});function bh(i){return(i+"").toLowerCase().charAt(0)==="p"}var vh=/[ap]\.?m?\.?/i,xh=Nn("Hours",!0);function Ch(i,a,c){return i>11?c?"pm":"PM":c?"am":"AM"}var _l={calendar:ee,longDateFormat:we,invalidDate:ct,ordinal:Qt,dayOfMonthOrdinalParse:wr,relativeTime:ni,months:Wf,monthsShort:yl,week:Zf,weekdays:rh,weekdaysMin:ih,weekdaysShort:Al,meridiemParse:vh},ue={},Ar={},Er;function Ah(i,a){var c,f=Math.min(i.length,a.length);for(c=0;c<f;c+=1)if(i[c]!==a[c])return c;return f}function Tl(i){return i&&i.toLowerCase().replace("_","-")}function Eh(i){for(var a=0,c,f,g,b;a<i.length;){for(b=Tl(i[a]).split("-"),c=b.length,f=Tl(i[a+1]),f=f?f.split("-"):null;c>0;){if(g=di(b.slice(0,c).join("-")),g)return g;if(f&&f.length>=c&&Ah(b,f)>=c-1)break;c--}a++}return Er}function Sh(i){return!!(i&&i.match("^[^/\\\\]*$"))}function di(i){var a=null,c;if(ue[i]===void 0&&typeof pr<"u"&&pr&&pr.exports&&Sh(i))try{a=Er._abbr,c=require,c("./locale/"+i),Jt(a)}catch{ue[i]=null}return ue[i]}function Jt(i,a){var c;return i&&(u(a)?c=Wt(i):c=xo(i,a),c?Er=c:typeof console<"u"&&console.warn&&console.warn("Locale "+i+" not found. Did you forget to load it?")),Er._abbr}function xo(i,a){if(a!==null){var c,f=_l;if(a.abbr=i,ue[i]!=null)ne("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),f=ue[i]._config;else if(a.parentLocale!=null)if(ue[a.parentLocale]!=null)f=ue[a.parentLocale]._config;else if(c=di(a.parentLocale),c!=null)f=c._config;else return Ar[a.parentLocale]||(Ar[a.parentLocale]=[]),Ar[a.parentLocale].push({name:i,config:a}),null;return ue[i]=new U(N(f,a)),Ar[i]&&Ar[i].forEach(function(g){xo(g.name,g.config)}),Jt(i),ue[i]}else return delete ue[i],null}function _h(i,a){if(a!=null){var c,f,g=_l;ue[i]!=null&&ue[i].parentLocale!=null?ue[i].set(N(ue[i]._config,a)):(f=di(i),f!=null&&(g=f._config),a=N(g,a),f==null&&(a.abbr=i),c=new U(a),c.parentLocale=ue[i],ue[i]=c),Jt(i)}else ue[i]!=null&&(ue[i].parentLocale!=null?(ue[i]=ue[i].parentLocale,i===Jt()&&Jt(i)):ue[i]!=null&&delete ue[i]);return ue[i]}function Wt(i){var a;if(i&&i._locale&&i._locale._abbr&&(i=i._locale._abbr),!i)return Er;if(!r(i)){if(a=di(i),a)return a;i=[i]}return Eh(i)}function Th(){return V(ue)}function Co(i){var a,c=i._a;return c&&x(i).overflow===-2&&(a=c[Lt]<0||c[Lt]>11?Lt:c[xt]<1||c[xt]>yo(c[De],c[Lt])?xt:c[ye]<0||c[ye]>24||c[ye]===24&&(c[pt]!==0||c[Rt]!==0||c[pn]!==0)?ye:c[pt]<0||c[pt]>59?pt:c[Rt]<0||c[Rt]>59?Rt:c[pn]<0||c[pn]>999?pn:-1,x(i)._overflowDayOfYear&&(a<De||a>xt)&&(a=xt),x(i)._overflowWeeks&&a===-1&&(a=Mf),x(i)._overflowWeekday&&a===-1&&(a=If),x(i).overflow=a),i}var Fh=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ph=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Dh=/Z|[+-]\d\d(?::?\d\d)?/,fi=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Ao=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Mh=/^\/?Date\((-?\d+)/i,Ih=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Oh={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Fl(i){var a,c,f=i._i,g=Fh.exec(f)||Ph.exec(f),b,A,O,z,Z=fi.length,Be=Ao.length;if(g){for(x(i).iso=!0,a=0,c=Z;a<c;a++)if(fi[a][1].exec(g[1])){A=fi[a][0],b=fi[a][2]!==!1;break}if(A==null){i._isValid=!1;return}if(g[3]){for(a=0,c=Be;a<c;a++)if(Ao[a][1].exec(g[3])){O=(g[2]||" ")+Ao[a][0];break}if(O==null){i._isValid=!1;return}}if(!b&&O!=null){i._isValid=!1;return}if(g[4])if(Dh.exec(g[4]))z="Z";else{i._isValid=!1;return}i._f=A+(O||"")+(z||""),So(i)}else i._isValid=!1}function Lh(i,a,c,f,g,b){var A=[Rh(i),yl.indexOf(a),parseInt(c,10),parseInt(f,10),parseInt(g,10)];return b&&A.push(parseInt(b,10)),A}function Rh(i){var a=parseInt(i,10);return a<=49?2e3+a:a<=999?1900+a:a}function Nh(i){return i.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Wh(i,a,c){if(i){var f=Al.indexOf(i),g=new Date(a[0],a[1],a[2]).getDay();if(f!==g)return x(c).weekdayMismatch=!0,c._isValid=!1,!1}return!0}function Bh(i,a,c){if(i)return Oh[i];if(a)return 0;var f=parseInt(c,10),g=f%100,b=(f-g)/100;return b*60+g}function Pl(i){var a=Ih.exec(Nh(i._i)),c;if(a){if(c=Lh(a[4],a[3],a[2],a[5],a[6],a[7]),!Wh(a[1],c,i))return;i._a=c,i._tzm=Bh(a[8],a[9],a[10]),i._d=xr.apply(null,i._a),i._d.setUTCMinutes(i._d.getUTCMinutes()-i._tzm),x(i).rfc2822=!0}else i._isValid=!1}function Yh(i){var a=Mh.exec(i._i);if(a!==null){i._d=new Date(+a[1]);return}if(Fl(i),i._isValid===!1)delete i._isValid;else return;if(Pl(i),i._isValid===!1)delete i._isValid;else return;i._strict?i._isValid=!1:e.createFromInputFallback(i)}e.createFromInputFallback=j("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(i){i._d=new Date(i._i+(i._useUTC?" UTC":""))});function Wn(i,a,c){return i??a??c}function Vh(i){var a=new Date(e.now());return i._useUTC?[a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()]:[a.getFullYear(),a.getMonth(),a.getDate()]}function Eo(i){var a,c,f=[],g,b,A;if(!i._d){for(g=Vh(i),i._w&&i._a[xt]==null&&i._a[Lt]==null&&zh(i),i._dayOfYear!=null&&(A=Wn(i._a[De],g[De]),(i._dayOfYear>br(A)||i._dayOfYear===0)&&(x(i)._overflowDayOfYear=!0),c=xr(A,0,i._dayOfYear),i._a[Lt]=c.getUTCMonth(),i._a[xt]=c.getUTCDate()),a=0;a<3&&i._a[a]==null;++a)i._a[a]=f[a]=g[a];for(;a<7;a++)i._a[a]=f[a]=i._a[a]==null?a===2?1:0:i._a[a];i._a[ye]===24&&i._a[pt]===0&&i._a[Rt]===0&&i._a[pn]===0&&(i._nextDay=!0,i._a[ye]=0),i._d=(i._useUTC?xr:qf).apply(null,f),b=i._useUTC?i._d.getUTCDay():i._d.getDay(),i._tzm!=null&&i._d.setUTCMinutes(i._d.getUTCMinutes()-i._tzm),i._nextDay&&(i._a[ye]=24),i._w&&typeof i._w.d<"u"&&i._w.d!==b&&(x(i).weekdayMismatch=!0)}}function zh(i){var a,c,f,g,b,A,O,z,Z;a=i._w,a.GG!=null||a.W!=null||a.E!=null?(b=1,A=4,c=Wn(a.GG,i._a[De],Cr(le(),1,4).year),f=Wn(a.W,1),g=Wn(a.E,1),(g<1||g>7)&&(z=!0)):(b=i._locale._week.dow,A=i._locale._week.doy,Z=Cr(le(),b,A),c=Wn(a.gg,i._a[De],Z.year),f=Wn(a.w,Z.week),a.d!=null?(g=a.d,(g<0||g>6)&&(z=!0)):a.e!=null?(g=a.e+b,(a.e<0||a.e>6)&&(z=!0)):g=b),f<1||f>Nt(c,b,A)?x(i)._overflowWeeks=!0:z!=null?x(i)._overflowWeekday=!0:(O=Cl(c,f,g,b,A),i._a[De]=O.year,i._dayOfYear=O.dayOfYear)}e.ISO_8601=function(){},e.RFC_2822=function(){};function So(i){if(i._f===e.ISO_8601){Fl(i);return}if(i._f===e.RFC_2822){Pl(i);return}i._a=[],x(i).empty=!0;var a=""+i._i,c,f,g,b,A,O=a.length,z=0,Z,Be;for(g=fn(i._f,i._locale).match($e)||[],Be=g.length,c=0;c<Be;c++)b=g[c],f=(a.match(Ff(b,i))||[])[0],f&&(A=a.substr(0,a.indexOf(f)),A.length>0&&x(i).unusedInput.push(A),a=a.slice(a.indexOf(f)+f.length),z+=f.length),Fe[b]?(f?x(i).empty=!1:x(i).unusedTokens.push(b),Df(b,f,i)):i._strict&&!f&&x(i).unusedTokens.push(b);x(i).charsLeftOver=O-z,a.length>0&&x(i).unusedInput.push(a),i._a[ye]<=12&&x(i).bigHour===!0&&i._a[ye]>0&&(x(i).bigHour=void 0),x(i).parsedDateParts=i._a.slice(0),x(i).meridiem=i._meridiem,i._a[ye]=Uh(i._locale,i._a[ye],i._meridiem),Z=x(i).era,Z!==null&&(i._a[De]=i._locale.erasConvertYear(Z,i._a[De])),Eo(i),Co(i)}function Uh(i,a,c){var f;return c==null?a:i.meridiemHour!=null?i.meridiemHour(a,c):(i.isPM!=null&&(f=i.isPM(c),f&&a<12&&(a+=12),!f&&a===12&&(a=0)),a)}function Hh(i){var a,c,f,g,b,A,O=!1,z=i._f.length;if(z===0){x(i).invalidFormat=!0,i._d=new Date(NaN);return}for(g=0;g<z;g++)b=0,A=!1,a=B({},i),i._useUTC!=null&&(a._useUTC=i._useUTC),a._f=i._f[g],So(a),S(a)&&(A=!0),b+=x(a).charsLeftOver,b+=x(a).unusedTokens.length*10,x(a).score=b,O?b<f&&(f=b,c=a):(f==null||b<f||A)&&(f=b,c=a,A&&(O=!0));m(i,c||a)}function $h(i){if(!i._d){var a=Ln(i._i),c=a.day===void 0?a.date:a.day;i._a=h([a.year,a.month,c,a.hour,a.minute,a.second,a.millisecond],function(f){return f&&parseInt(f,10)}),Eo(i)}}function jh(i){var a=new Y(Co(Dl(i)));return a._nextDay&&(a.add(1,"d"),a._nextDay=void 0),a}function Dl(i){var a=i._i,c=i._f;return i._locale=i._locale||Wt(i._l),a===null||c===void 0&&a===""?C({nullInput:!0}):(typeof a=="string"&&(i._i=a=i._locale.preparse(a)),E(a)?new Y(Co(a)):(p(a)?i._d=a:r(c)?Hh(i):c?So(i):Gh(i),S(i)||(i._d=null),i))}function Gh(i){var a=i._i;u(a)?i._d=new Date(e.now()):p(a)?i._d=new Date(a.valueOf()):typeof a=="string"?Yh(i):r(a)?(i._a=h(a.slice(0),function(c){return parseInt(c,10)}),Eo(i)):s(a)?$h(i):d(a)?i._d=new Date(a):e.createFromInputFallback(i)}function Ml(i,a,c,f,g){var b={};return(a===!0||a===!1)&&(f=a,a=void 0),(c===!0||c===!1)&&(f=c,c=void 0),(s(i)&&l(i)||r(i)&&i.length===0)&&(i=void 0),b._isAMomentObject=!0,b._useUTC=b._isUTC=g,b._l=c,b._i=i,b._f=a,b._strict=f,jh(b)}function le(i,a,c,f){return Ml(i,a,c,f,!1)}var qh=j("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var i=le.apply(null,arguments);return this.isValid()&&i.isValid()?i<this?this:i:C()}),Kh=j("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var i=le.apply(null,arguments);return this.isValid()&&i.isValid()?i>this?this:i:C()});function Il(i,a){var c,f;if(a.length===1&&r(a[0])&&(a=a[0]),!a.length)return le();for(c=a[0],f=1;f<a.length;++f)(!a[f].isValid()||a[f][i](c))&&(c=a[f]);return c}function Zh(){var i=[].slice.call(arguments,0);return Il("isBefore",i)}function Qh(){var i=[].slice.call(arguments,0);return Il("isAfter",i)}var Jh=function(){return Date.now?Date.now():+new Date},Sr=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Xh(i){var a,c=!1,f,g=Sr.length;for(a in i)if(o(i,a)&&!(pe.call(Sr,a)!==-1&&(i[a]==null||!isNaN(i[a]))))return!1;for(f=0;f<g;++f)if(i[Sr[f]]){if(c)return!1;parseFloat(i[Sr[f]])!==K(i[Sr[f]])&&(c=!0)}return!0}function ep(){return this._isValid}function tp(){return mt(NaN)}function hi(i){var a=Ln(i),c=a.year||0,f=a.quarter||0,g=a.month||0,b=a.week||a.isoWeek||0,A=a.day||0,O=a.hour||0,z=a.minute||0,Z=a.second||0,Be=a.millisecond||0;this._isValid=Xh(a),this._milliseconds=+Be+Z*1e3+z*6e4+O*1e3*60*60,this._days=+A+b*7,this._months=+g+f*3+c*12,this._data={},this._locale=Wt(),this._bubble()}function pi(i){return i instanceof hi}function _o(i){return i<0?Math.round(-1*i)*-1:Math.round(i)}function np(i,a,c){var f=Math.min(i.length,a.length),g=Math.abs(i.length-a.length),b=0,A;for(A=0;A<f;A++)(c&&i[A]!==a[A]||!c&&K(i[A])!==K(a[A]))&&b++;return b+g}function Ol(i,a){k(i,0,0,function(){var c=this.utcOffset(),f="+";return c<0&&(c=-c,f="-"),f+he(~~(c/60),2)+a+he(~~c%60,2)})}Ol("Z",":"),Ol("ZZ",""),L("Z",ft),L("ZZ",ft),ie(["Z","ZZ"],function(i,a,c){c._useUTC=!0,c._tzm=To(ft,i)});var rp=/([\+\-]|\d\d)/gi;function To(i,a){var c=(a||"").match(i),f,g,b;return c===null?null:(f=c[c.length-1]||[],g=(f+"").match(rp)||["-",0,0],b=+(g[1]*60)+K(g[2]),b===0?0:g[0]==="+"?b:-b)}function Fo(i,a){var c,f;return a._isUTC?(c=a.clone(),f=(E(i)||p(i)?i.valueOf():le(i).valueOf())-c.valueOf(),c._d.setTime(c._d.valueOf()+f),e.updateOffset(c,!1),c):le(i).local()}function Po(i){return-Math.round(i._d.getTimezoneOffset())}e.updateOffset=function(){};function ip(i,a,c){var f=this._offset||0,g;if(!this.isValid())return i!=null?this:NaN;if(i!=null){if(typeof i=="string"){if(i=To(ft,i),i===null)return this}else Math.abs(i)<16&&!c&&(i=i*60);return!this._isUTC&&a&&(g=Po(this)),this._offset=i,this._isUTC=!0,g!=null&&this.add(g,"m"),f!==i&&(!a||this._changeInProgress?Wl(this,mt(i-f,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?f:Po(this)}function sp(i,a){return i!=null?(typeof i!="string"&&(i=-i),this.utcOffset(i,a),this):-this.utcOffset()}function op(i){return this.utcOffset(0,i)}function ap(i){return this._isUTC&&(this.utcOffset(0,i),this._isUTC=!1,i&&this.subtract(Po(this),"m")),this}function lp(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var i=To(We,this._i);i!=null?this.utcOffset(i):this.utcOffset(0,!0)}return this}function up(i){return this.isValid()?(i=i?le(i).utcOffset():0,(this.utcOffset()-i)%60===0):!1}function cp(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function dp(){if(!u(this._isDSTShifted))return this._isDSTShifted;var i={},a;return B(i,this),i=Dl(i),i._a?(a=i._isUTC?w(i._a):le(i._a),this._isDSTShifted=this.isValid()&&np(i._a,a.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function fp(){return this.isValid()?!this._isUTC:!1}function hp(){return this.isValid()?this._isUTC:!1}function Ll(){return this.isValid()?this._isUTC&&this._offset===0:!1}var pp=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,mp=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function mt(i,a){var c=i,f=null,g,b,A;return pi(i)?c={ms:i._milliseconds,d:i._days,M:i._months}:d(i)||!isNaN(+i)?(c={},a?c[a]=+i:c.milliseconds=+i):(f=pp.exec(i))?(g=f[1]==="-"?-1:1,c={y:0,d:K(f[xt])*g,h:K(f[ye])*g,m:K(f[pt])*g,s:K(f[Rt])*g,ms:K(_o(f[pn]*1e3))*g}):(f=mp.exec(i))?(g=f[1]==="-"?-1:1,c={y:mn(f[2],g),M:mn(f[3],g),w:mn(f[4],g),d:mn(f[5],g),h:mn(f[6],g),m:mn(f[7],g),s:mn(f[8],g)}):c==null?c={}:typeof c=="object"&&("from"in c||"to"in c)&&(A=gp(le(c.from),le(c.to)),c={},c.ms=A.milliseconds,c.M=A.months),b=new hi(c),pi(i)&&o(i,"_locale")&&(b._locale=i._locale),pi(i)&&o(i,"_isValid")&&(b._isValid=i._isValid),b}mt.fn=hi.prototype,mt.invalid=tp;function mn(i,a){var c=i&&parseFloat(i.replace(",","."));return(isNaN(c)?0:c)*a}function Rl(i,a){var c={};return c.months=a.month()-i.month()+(a.year()-i.year())*12,i.clone().add(c.months,"M").isAfter(a)&&--c.months,c.milliseconds=+a-+i.clone().add(c.months,"M"),c}function gp(i,a){var c;return i.isValid()&&a.isValid()?(a=Fo(a,i),i.isBefore(a)?c=Rl(i,a):(c=Rl(a,i),c.milliseconds=-c.milliseconds,c.months=-c.months),c):{milliseconds:0,months:0}}function Nl(i,a){return function(c,f){var g,b;return f!==null&&!isNaN(+f)&&(ne(a,"moment()."+a+"(period, number) is deprecated. Please use moment()."+a+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),b=c,c=f,f=b),g=mt(c,f),Wl(this,g,i),this}}function Wl(i,a,c,f){var g=a._milliseconds,b=_o(a._days),A=_o(a._months);i.isValid()&&(f=f??!0,A&&bl(i,vr(i,"Month")+A*c),b&&wl(i,"Date",vr(i,"Date")+b*c),g&&i._d.setTime(i._d.valueOf()+g*c),f&&e.updateOffset(i,b||A))}var wp=Nl(1,"add"),yp=Nl(-1,"subtract");function Bl(i){return typeof i=="string"||i instanceof String}function kp(i){return E(i)||p(i)||Bl(i)||d(i)||vp(i)||bp(i)||i===null||i===void 0}function bp(i){var a=s(i)&&!l(i),c=!1,f=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],g,b,A=f.length;for(g=0;g<A;g+=1)b=f[g],c=c||o(i,b);return a&&c}function vp(i){var a=r(i),c=!1;return a&&(c=i.filter(function(f){return!d(f)&&Bl(i)}).length===0),a&&c}function xp(i){var a=s(i)&&!l(i),c=!1,f=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],g,b;for(g=0;g<f.length;g+=1)b=f[g],c=c||o(i,b);return a&&c}function Cp(i,a){var c=i.diff(a,"days",!0);return c<-6?"sameElse":c<-1?"lastWeek":c<0?"lastDay":c<1?"sameDay":c<2?"nextDay":c<7?"nextWeek":"sameElse"}function Ap(i,a){arguments.length===1&&(arguments[0]?kp(arguments[0])?(i=arguments[0],a=void 0):xp(arguments[0])&&(a=arguments[0],i=void 0):(i=void 0,a=void 0));var c=i||le(),f=Fo(c,this).startOf("day"),g=e.calendarFormat(this,f)||"sameElse",b=a&&(ae(a[g])?a[g].call(this,c):a[g]);return this.format(b||this.localeData().calendar(g,this,le(c)))}function Ep(){return new Y(this)}function Sp(i,a){var c=E(i)?i:le(i);return this.isValid()&&c.isValid()?(a=Re(a)||"millisecond",a==="millisecond"?this.valueOf()>c.valueOf():c.valueOf()<this.clone().startOf(a).valueOf()):!1}function _p(i,a){var c=E(i)?i:le(i);return this.isValid()&&c.isValid()?(a=Re(a)||"millisecond",a==="millisecond"?this.valueOf()<c.valueOf():this.clone().endOf(a).valueOf()<c.valueOf()):!1}function Tp(i,a,c,f){var g=E(i)?i:le(i),b=E(a)?a:le(a);return this.isValid()&&g.isValid()&&b.isValid()?(f=f||"()",(f[0]==="("?this.isAfter(g,c):!this.isBefore(g,c))&&(f[1]===")"?this.isBefore(b,c):!this.isAfter(b,c))):!1}function Fp(i,a){var c=E(i)?i:le(i),f;return this.isValid()&&c.isValid()?(a=Re(a)||"millisecond",a==="millisecond"?this.valueOf()===c.valueOf():(f=c.valueOf(),this.clone().startOf(a).valueOf()<=f&&f<=this.clone().endOf(a).valueOf())):!1}function Pp(i,a){return this.isSame(i,a)||this.isAfter(i,a)}function Dp(i,a){return this.isSame(i,a)||this.isBefore(i,a)}function Mp(i,a,c){var f,g,b;if(!this.isValid())return NaN;if(f=Fo(i,this),!f.isValid())return NaN;switch(g=(f.utcOffset()-this.utcOffset())*6e4,a=Re(a),a){case"year":b=mi(this,f)/12;break;case"month":b=mi(this,f);break;case"quarter":b=mi(this,f)/3;break;case"second":b=(this-f)/1e3;break;case"minute":b=(this-f)/6e4;break;case"hour":b=(this-f)/36e5;break;case"day":b=(this-f-g)/864e5;break;case"week":b=(this-f-g)/6048e5;break;default:b=this-f}return c?b:Xe(b)}function mi(i,a){if(i.date()<a.date())return-mi(a,i);var c=(a.year()-i.year())*12+(a.month()-i.month()),f=i.clone().add(c,"months"),g,b;return a-f<0?(g=i.clone().add(c-1,"months"),b=(a-f)/(f-g)):(g=i.clone().add(c+1,"months"),b=(a-f)/(g-f)),-(c+b)||0}e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Ip(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Op(i){if(!this.isValid())return null;var a=i!==!0,c=a?this.clone().utc():this;return c.year()<0||c.year()>9999?Zt(c,a?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):ae(Date.prototype.toISOString)?a?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Zt(c,"Z")):Zt(c,a?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Lp(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var i="moment",a="",c,f,g,b;return this.isLocal()||(i=this.utcOffset()===0?"moment.utc":"moment.parseZone",a="Z"),c="["+i+'("]',f=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",g="-MM-DD[T]HH:mm:ss.SSS",b=a+'[")]',this.format(c+f+g+b)}function Rp(i){i||(i=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var a=Zt(this,i);return this.localeData().postformat(a)}function Np(i,a){return this.isValid()&&(E(i)&&i.isValid()||le(i).isValid())?mt({to:this,from:i}).locale(this.locale()).humanize(!a):this.localeData().invalidDate()}function Wp(i){return this.from(le(),i)}function Bp(i,a){return this.isValid()&&(E(i)&&i.isValid()||le(i).isValid())?mt({from:this,to:i}).locale(this.locale()).humanize(!a):this.localeData().invalidDate()}function Yp(i){return this.to(le(),i)}function Yl(i){var a;return i===void 0?this._locale._abbr:(a=Wt(i),a!=null&&(this._locale=a),this)}var Vl=j("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(i){return i===void 0?this.localeData():this.locale(i)});function zl(){return this._locale}var gi=1e3,Bn=60*gi,wi=60*Bn,Ul=(365*400+97)*24*wi;function Yn(i,a){return(i%a+a)%a}function Hl(i,a,c){return i<100&&i>=0?new Date(i+400,a,c)-Ul:new Date(i,a,c).valueOf()}function $l(i,a,c){return i<100&&i>=0?Date.UTC(i+400,a,c)-Ul:Date.UTC(i,a,c)}function Vp(i){var a,c;if(i=Re(i),i===void 0||i==="millisecond"||!this.isValid())return this;switch(c=this._isUTC?$l:Hl,i){case"year":a=c(this.year(),0,1);break;case"quarter":a=c(this.year(),this.month()-this.month()%3,1);break;case"month":a=c(this.year(),this.month(),1);break;case"week":a=c(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":a=c(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":a=c(this.year(),this.month(),this.date());break;case"hour":a=this._d.valueOf(),a-=Yn(a+(this._isUTC?0:this.utcOffset()*Bn),wi);break;case"minute":a=this._d.valueOf(),a-=Yn(a,Bn);break;case"second":a=this._d.valueOf(),a-=Yn(a,gi);break}return this._d.setTime(a),e.updateOffset(this,!0),this}function zp(i){var a,c;if(i=Re(i),i===void 0||i==="millisecond"||!this.isValid())return this;switch(c=this._isUTC?$l:Hl,i){case"year":a=c(this.year()+1,0,1)-1;break;case"quarter":a=c(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":a=c(this.year(),this.month()+1,1)-1;break;case"week":a=c(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":a=c(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":a=c(this.year(),this.month(),this.date()+1)-1;break;case"hour":a=this._d.valueOf(),a+=wi-Yn(a+(this._isUTC?0:this.utcOffset()*Bn),wi)-1;break;case"minute":a=this._d.valueOf(),a+=Bn-Yn(a,Bn)-1;break;case"second":a=this._d.valueOf(),a+=gi-Yn(a,gi)-1;break}return this._d.setTime(a),e.updateOffset(this,!0),this}function Up(){return this._d.valueOf()-(this._offset||0)*6e4}function Hp(){return Math.floor(this.valueOf()/1e3)}function $p(){return new Date(this.valueOf())}function jp(){var i=this;return[i.year(),i.month(),i.date(),i.hour(),i.minute(),i.second(),i.millisecond()]}function Gp(){var i=this;return{years:i.year(),months:i.month(),date:i.date(),hours:i.hours(),minutes:i.minutes(),seconds:i.seconds(),milliseconds:i.milliseconds()}}function qp(){return this.isValid()?this.toISOString():null}function Kp(){return S(this)}function Zp(){return m({},x(this))}function Qp(){return x(this).overflow}function Jp(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}k("N",0,0,"eraAbbr"),k("NN",0,0,"eraAbbr"),k("NNN",0,0,"eraAbbr"),k("NNNN",0,0,"eraName"),k("NNNNN",0,0,"eraNarrow"),k("y",["y",1],"yo","eraYear"),k("y",["yy",2],0,"eraYear"),k("y",["yyy",3],0,"eraYear"),k("y",["yyyy",4],0,"eraYear"),L("N",Do),L("NN",Do),L("NNN",Do),L("NNNN",um),L("NNNNN",cm),ie(["N","NN","NNN","NNNN","NNNNN"],function(i,a,c,f){var g=c._locale.erasParse(i,f,c._strict);g?x(c).era=g:x(c).invalidEra=i}),L("y",Je),L("yy",Je),L("yyy",Je),L("yyyy",Je),L("yo",dm),ie(["y","yy","yyy","yyyy"],De),ie(["yo"],function(i,a,c,f){var g;c._locale._eraYearOrdinalRegex&&(g=i.match(c._locale._eraYearOrdinalRegex)),c._locale.eraYearOrdinalParse?a[De]=c._locale.eraYearOrdinalParse(i,g):a[De]=parseInt(i,10)});function Xp(i,a){var c,f,g,b=this._eras||Wt("en")._eras;for(c=0,f=b.length;c<f;++c){switch(typeof b[c].since){case"string":g=e(b[c].since).startOf("day"),b[c].since=g.valueOf();break}switch(typeof b[c].until){case"undefined":b[c].until=1/0;break;case"string":g=e(b[c].until).startOf("day").valueOf(),b[c].until=g.valueOf();break}}return b}function em(i,a,c){var f,g,b=this.eras(),A,O,z;for(i=i.toUpperCase(),f=0,g=b.length;f<g;++f)if(A=b[f].name.toUpperCase(),O=b[f].abbr.toUpperCase(),z=b[f].narrow.toUpperCase(),c)switch(a){case"N":case"NN":case"NNN":if(O===i)return b[f];break;case"NNNN":if(A===i)return b[f];break;case"NNNNN":if(z===i)return b[f];break}else if([A,O,z].indexOf(i)>=0)return b[f]}function tm(i,a){var c=i.since<=i.until?1:-1;return a===void 0?e(i.since).year():e(i.since).year()+(a-i.offset)*c}function nm(){var i,a,c,f=this.localeData().eras();for(i=0,a=f.length;i<a;++i)if(c=this.clone().startOf("day").valueOf(),f[i].since<=c&&c<=f[i].until||f[i].until<=c&&c<=f[i].since)return f[i].name;return""}function rm(){var i,a,c,f=this.localeData().eras();for(i=0,a=f.length;i<a;++i)if(c=this.clone().startOf("day").valueOf(),f[i].since<=c&&c<=f[i].until||f[i].until<=c&&c<=f[i].since)return f[i].narrow;return""}function im(){var i,a,c,f=this.localeData().eras();for(i=0,a=f.length;i<a;++i)if(c=this.clone().startOf("day").valueOf(),f[i].since<=c&&c<=f[i].until||f[i].until<=c&&c<=f[i].since)return f[i].abbr;return""}function sm(){var i,a,c,f,g=this.localeData().eras();for(i=0,a=g.length;i<a;++i)if(c=g[i].since<=g[i].until?1:-1,f=this.clone().startOf("day").valueOf(),g[i].since<=f&&f<=g[i].until||g[i].until<=f&&f<=g[i].since)return(this.year()-e(g[i].since).year())*c+g[i].offset;return this.year()}function om(i){return o(this,"_erasNameRegex")||Mo.call(this),i?this._erasNameRegex:this._erasRegex}function am(i){return o(this,"_erasAbbrRegex")||Mo.call(this),i?this._erasAbbrRegex:this._erasRegex}function lm(i){return o(this,"_erasNarrowRegex")||Mo.call(this),i?this._erasNarrowRegex:this._erasRegex}function Do(i,a){return a.erasAbbrRegex(i)}function um(i,a){return a.erasNameRegex(i)}function cm(i,a){return a.erasNarrowRegex(i)}function dm(i,a){return a._eraYearOrdinalRegex||Je}function Mo(){var i=[],a=[],c=[],f=[],g,b,A,O,z,Z=this.eras();for(g=0,b=Z.length;g<b;++g)A=Ot(Z[g].name),O=Ot(Z[g].abbr),z=Ot(Z[g].narrow),a.push(A),i.push(O),c.push(z),f.push(A),f.push(O),f.push(z);this._erasRegex=new RegExp("^("+f.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+a.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+c.join("|")+")","i")}k(0,["gg",2],0,function(){return this.weekYear()%100}),k(0,["GG",2],0,function(){return this.isoWeekYear()%100});function yi(i,a){k(0,[i,i.length],0,a)}yi("gggg","weekYear"),yi("ggggg","weekYear"),yi("GGGG","isoWeekYear"),yi("GGGGG","isoWeekYear"),L("G",vt),L("g",vt),L("GG",I,Ne),L("gg",I,Ne),L("GGGG",dt,_),L("gggg",dt,_),L("GGGGG",je,M),L("ggggg",je,M),kr(["gggg","ggggg","GGGG","GGGGG"],function(i,a,c,f){a[f.substr(0,2)]=K(i)}),kr(["gg","GG"],function(i,a,c,f){a[f]=e.parseTwoDigitYear(i)});function fm(i){return jl.call(this,i,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function hm(i){return jl.call(this,i,this.isoWeek(),this.isoWeekday(),1,4)}function pm(){return Nt(this.year(),1,4)}function mm(){return Nt(this.isoWeekYear(),1,4)}function gm(){var i=this.localeData()._week;return Nt(this.year(),i.dow,i.doy)}function wm(){var i=this.localeData()._week;return Nt(this.weekYear(),i.dow,i.doy)}function jl(i,a,c,f,g){var b;return i==null?Cr(this,f,g).year:(b=Nt(i,f,g),a>b&&(a=b),ym.call(this,i,a,c,f,g))}function ym(i,a,c,f,g){var b=Cl(i,a,c,f,g),A=xr(b.year,0,b.dayOfYear);return this.year(A.getUTCFullYear()),this.month(A.getUTCMonth()),this.date(A.getUTCDate()),this}k("Q",0,"Qo","quarter"),L("Q",oi),ie("Q",function(i,a){a[Lt]=(K(i)-1)*3});function km(i){return i==null?Math.ceil((this.month()+1)/3):this.month((i-1)*3+this.month()%3)}k("D",["DD",2],"Do","date"),L("D",I,Rn),L("DD",I,Ne),L("Do",function(i,a){return i?a._dayOfMonthOrdinalParse||a._ordinalParse:a._dayOfMonthOrdinalParseLenient}),ie(["D","DD"],xt),ie("Do",function(i,a){a[xt]=K(i.match(I)[0])});var Gl=Nn("Date",!0);k("DDD",["DDDD",3],"DDDo","dayOfYear"),L("DDD",Pe),L("DDDD",ai),ie(["DDD","DDDD"],function(i,a,c){c._dayOfYear=K(i)});function bm(i){var a=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return i==null?a:this.add(i-a,"d")}k("m",["mm",2],0,"minute"),L("m",I,go),L("mm",I,Ne),ie(["m","mm"],pt);var vm=Nn("Minutes",!1);k("s",["ss",2],0,"second"),L("s",I,go),L("ss",I,Ne),ie(["s","ss"],Rt);var xm=Nn("Seconds",!1);k("S",0,0,function(){return~~(this.millisecond()/100)}),k(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),k(0,["SSS",3],0,"millisecond"),k(0,["SSSS",4],0,function(){return this.millisecond()*10}),k(0,["SSSSS",5],0,function(){return this.millisecond()*100}),k(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),k(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),k(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),k(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),L("S",Pe,oi),L("SS",Pe,Ne),L("SSS",Pe,ai);var Xt,ql;for(Xt="SSSS";Xt.length<=9;Xt+="S")L(Xt,Je);function Cm(i,a){a[pn]=K(("0."+i)*1e3)}for(Xt="S";Xt.length<=9;Xt+="S")ie(Xt,Cm);ql=Nn("Milliseconds",!1),k("z",0,0,"zoneAbbr"),k("zz",0,0,"zoneName");function Am(){return this._isUTC?"UTC":""}function Em(){return this._isUTC?"Coordinated Universal Time":""}var D=Y.prototype;D.add=wp,D.calendar=Ap,D.clone=Ep,D.diff=Mp,D.endOf=zp,D.format=Rp,D.from=Np,D.fromNow=Wp,D.to=Bp,D.toNow=Yp,D.get=Lf,D.invalidAt=Qp,D.isAfter=Sp,D.isBefore=_p,D.isBetween=Tp,D.isSame=Fp,D.isSameOrAfter=Pp,D.isSameOrBefore=Dp,D.isValid=Kp,D.lang=Vl,D.locale=Yl,D.localeData=zl,D.max=Kh,D.min=qh,D.parsingFlags=Zp,D.set=Rf,D.startOf=Vp,D.subtract=yp,D.toArray=jp,D.toObject=Gp,D.toDate=$p,D.toISOString=Op,D.inspect=Lp,typeof Symbol<"u"&&Symbol.for!=null&&(D[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),D.toJSON=qp,D.toString=Ip,D.unix=Hp,D.valueOf=Up,D.creationData=Jp,D.eraName=nm,D.eraNarrow=rm,D.eraAbbr=im,D.eraYear=sm,D.year=gl,D.isLeapYear=Of,D.weekYear=fm,D.isoWeekYear=hm,D.quarter=D.quarters=km,D.month=vl,D.daysInMonth=$f,D.week=D.weeks=Xf,D.isoWeek=D.isoWeeks=eh,D.weeksInYear=gm,D.weeksInWeekYear=wm,D.isoWeeksInYear=pm,D.isoWeeksInISOWeekYear=mm,D.date=Gl,D.day=D.days=hh,D.weekday=ph,D.isoWeekday=mh,D.dayOfYear=bm,D.hour=D.hours=xh,D.minute=D.minutes=vm,D.second=D.seconds=xm,D.millisecond=D.milliseconds=ql,D.utcOffset=ip,D.utc=op,D.local=ap,D.parseZone=lp,D.hasAlignedHourOffset=up,D.isDST=cp,D.isLocal=fp,D.isUtcOffset=hp,D.isUtc=Ll,D.isUTC=Ll,D.zoneAbbr=Am,D.zoneName=Em,D.dates=j("dates accessor is deprecated. Use date instead.",Gl),D.months=j("months accessor is deprecated. Use month instead",vl),D.years=j("years accessor is deprecated. Use year instead",gl),D.zone=j("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",sp),D.isDSTShifted=j("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",dp);function Sm(i){return le(i*1e3)}function _m(){return le.apply(null,arguments).parseZone()}function Kl(i){return i}var te=U.prototype;te.calendar=ce,te.longDateFormat=hn,te.invalidDate=It,te.ordinal=ho,te.preparse=Kl,te.postformat=Kl,te.relativeTime=ri,te.pastFuture=ii,te.set=X,te.eras=Xp,te.erasParse=em,te.erasConvertYear=tm,te.erasAbbrRegex=am,te.erasNameRegex=om,te.erasNarrowRegex=lm,te.months=Vf,te.monthsShort=zf,te.monthsParse=Hf,te.monthsRegex=Gf,te.monthsShortRegex=jf,te.week=Kf,te.firstDayOfYear=Jf,te.firstDayOfWeek=Qf,te.weekdays=lh,te.weekdaysMin=ch,te.weekdaysShort=uh,te.weekdaysParse=fh,te.weekdaysRegex=gh,te.weekdaysShortRegex=wh,te.weekdaysMinRegex=yh,te.isPM=bh,te.meridiem=Ch;function ki(i,a,c,f){var g=Wt(),b=w().set(f,a);return g[c](b,i)}function Zl(i,a,c){if(d(i)&&(a=i,i=void 0),i=i||"",a!=null)return ki(i,a,c,"month");var f,g=[];for(f=0;f<12;f++)g[f]=ki(i,f,c,"month");return g}function Io(i,a,c,f){typeof i=="boolean"?(d(a)&&(c=a,a=void 0),a=a||""):(a=i,c=a,i=!1,d(a)&&(c=a,a=void 0),a=a||"");var g=Wt(),b=i?g._week.dow:0,A,O=[];if(c!=null)return ki(a,(c+b)%7,f,"day");for(A=0;A<7;A++)O[A]=ki(a,(A+b)%7,f,"day");return O}function Tm(i,a){return Zl(i,a,"months")}function Fm(i,a){return Zl(i,a,"monthsShort")}function Pm(i,a,c){return Io(i,a,c,"weekdays")}function Dm(i,a,c){return Io(i,a,c,"weekdaysShort")}function Mm(i,a,c){return Io(i,a,c,"weekdaysMin")}Jt("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(i){var a=i%10,c=K(i%100/10)===1?"th":a===1?"st":a===2?"nd":a===3?"rd":"th";return i+c}}),e.lang=j("moment.lang is deprecated. Use moment.locale instead.",Jt),e.langData=j("moment.langData is deprecated. Use moment.localeData instead.",Wt);var Bt=Math.abs;function Im(){var i=this._data;return this._milliseconds=Bt(this._milliseconds),this._days=Bt(this._days),this._months=Bt(this._months),i.milliseconds=Bt(i.milliseconds),i.seconds=Bt(i.seconds),i.minutes=Bt(i.minutes),i.hours=Bt(i.hours),i.months=Bt(i.months),i.years=Bt(i.years),this}function Ql(i,a,c,f){var g=mt(a,c);return i._milliseconds+=f*g._milliseconds,i._days+=f*g._days,i._months+=f*g._months,i._bubble()}function Om(i,a){return Ql(this,i,a,1)}function Lm(i,a){return Ql(this,i,a,-1)}function Jl(i){return i<0?Math.floor(i):Math.ceil(i)}function Rm(){var i=this._milliseconds,a=this._days,c=this._months,f=this._data,g,b,A,O,z;return i>=0&&a>=0&&c>=0||i<=0&&a<=0&&c<=0||(i+=Jl(Oo(c)+a)*864e5,a=0,c=0),f.milliseconds=i%1e3,g=Xe(i/1e3),f.seconds=g%60,b=Xe(g/60),f.minutes=b%60,A=Xe(b/60),f.hours=A%24,a+=Xe(A/24),z=Xe(Xl(a)),c+=z,a-=Jl(Oo(z)),O=Xe(c/12),c%=12,f.days=a,f.months=c,f.years=O,this}function Xl(i){return i*4800/146097}function Oo(i){return i*146097/4800}function Nm(i){if(!this.isValid())return NaN;var a,c,f=this._milliseconds;if(i=Re(i),i==="month"||i==="quarter"||i==="year")switch(a=this._days+f/864e5,c=this._months+Xl(a),i){case"month":return c;case"quarter":return c/3;case"year":return c/12}else switch(a=this._days+Math.round(Oo(this._months)),i){case"week":return a/7+f/6048e5;case"day":return a+f/864e5;case"hour":return a*24+f/36e5;case"minute":return a*1440+f/6e4;case"second":return a*86400+f/1e3;case"millisecond":return Math.floor(a*864e5)+f;default:throw new Error("Unknown unit "+i)}}function Yt(i){return function(){return this.as(i)}}var eu=Yt("ms"),Wm=Yt("s"),Bm=Yt("m"),Ym=Yt("h"),Vm=Yt("d"),zm=Yt("w"),Um=Yt("M"),Hm=Yt("Q"),$m=Yt("y"),jm=eu;function Gm(){return mt(this)}function qm(i){return i=Re(i),this.isValid()?this[i+"s"]():NaN}function gn(i){return function(){return this.isValid()?this._data[i]:NaN}}var Km=gn("milliseconds"),Zm=gn("seconds"),Qm=gn("minutes"),Jm=gn("hours"),Xm=gn("days"),eg=gn("months"),tg=gn("years");function ng(){return Xe(this.days()/7)}var Vt=Math.round,Vn={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function rg(i,a,c,f,g){return g.relativeTime(a||1,!!c,i,f)}function ig(i,a,c,f){var g=mt(i).abs(),b=Vt(g.as("s")),A=Vt(g.as("m")),O=Vt(g.as("h")),z=Vt(g.as("d")),Z=Vt(g.as("M")),Be=Vt(g.as("w")),zt=Vt(g.as("y")),en=b<=c.ss&&["s",b]||b<c.s&&["ss",b]||A<=1&&["m"]||A<c.m&&["mm",A]||O<=1&&["h"]||O<c.h&&["hh",O]||z<=1&&["d"]||z<c.d&&["dd",z];return c.w!=null&&(en=en||Be<=1&&["w"]||Be<c.w&&["ww",Be]),en=en||Z<=1&&["M"]||Z<c.M&&["MM",Z]||zt<=1&&["y"]||["yy",zt],en[2]=a,en[3]=+i>0,en[4]=f,rg.apply(null,en)}function sg(i){return i===void 0?Vt:typeof i=="function"?(Vt=i,!0):!1}function og(i,a){return Vn[i]===void 0?!1:a===void 0?Vn[i]:(Vn[i]=a,i==="s"&&(Vn.ss=a-1),!0)}function ag(i,a){if(!this.isValid())return this.localeData().invalidDate();var c=!1,f=Vn,g,b;return typeof i=="object"&&(a=i,i=!1),typeof i=="boolean"&&(c=i),typeof a=="object"&&(f=Object.assign({},Vn,a),a.s!=null&&a.ss==null&&(f.ss=a.s-1)),g=this.localeData(),b=ig(this,!c,f,g),c&&(b=g.pastFuture(+this,b)),g.postformat(b)}var Lo=Math.abs;function zn(i){return(i>0)-(i<0)||+i}function bi(){if(!this.isValid())return this.localeData().invalidDate();var i=Lo(this._milliseconds)/1e3,a=Lo(this._days),c=Lo(this._months),f,g,b,A,O=this.asSeconds(),z,Z,Be,zt;return O?(f=Xe(i/60),g=Xe(f/60),i%=60,f%=60,b=Xe(c/12),c%=12,A=i?i.toFixed(3).replace(/\.?0+$/,""):"",z=O<0?"-":"",Z=zn(this._months)!==zn(O)?"-":"",Be=zn(this._days)!==zn(O)?"-":"",zt=zn(this._milliseconds)!==zn(O)?"-":"",z+"P"+(b?Z+b+"Y":"")+(c?Z+c+"M":"")+(a?Be+a+"D":"")+(g||f||i?"T":"")+(g?zt+g+"H":"")+(f?zt+f+"M":"")+(i?zt+A+"S":"")):"P0D"}var J=hi.prototype;J.isValid=ep,J.abs=Im,J.add=Om,J.subtract=Lm,J.as=Nm,J.asMilliseconds=eu,J.asSeconds=Wm,J.asMinutes=Bm,J.asHours=Ym,J.asDays=Vm,J.asWeeks=zm,J.asMonths=Um,J.asQuarters=Hm,J.asYears=$m,J.valueOf=jm,J._bubble=Rm,J.clone=Gm,J.get=qm,J.milliseconds=Km,J.seconds=Zm,J.minutes=Qm,J.hours=Jm,J.days=Xm,J.weeks=ng,J.months=eg,J.years=tg,J.humanize=ag,J.toISOString=bi,J.toString=bi,J.toJSON=bi,J.locale=Yl,J.localeData=zl,J.toIsoString=j("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",bi),J.lang=Vl,k("X",0,0,"unix"),k("x",0,0,"valueOf"),L("x",vt),L("X",ht),ie("X",function(i,a,c){c._d=new Date(parseFloat(i)*1e3)}),ie("x",function(i,a,c){c._d=new Date(K(i))});return e.version="2.30.1",n(le),e.fn=D,e.min=Zh,e.max=Qh,e.now=Jh,e.utc=w,e.unix=Sm,e.months=Tm,e.isDate=p,e.locale=Jt,e.invalid=C,e.duration=mt,e.isMoment=E,e.weekdays=Pm,e.parseZone=_m,e.localeData=Wt,e.isDuration=pi,e.monthsShort=Fm,e.weekdaysMin=Mm,e.defineLocale=xo,e.updateLocale=_h,e.locales=Th,e.weekdaysShort=Dm,e.normalizeUnits=Re,e.relativeTimeRounding=sg,e.relativeTimeThreshold=og,e.calendarFormat=Cp,e.prototype=D,e.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},e})});var yk={};tu(yk,{default:()=>wk});module.exports=hg(yk);var be=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();function Ut(){}async function Ct(){}function _r(t){return async(...e)=>{await t(...e)}}var _t=require("obsidian");var pg=require("obsidian"),iu=require("obsidian"),su=require("obsidian"),Ck=require("obsidian"),Ak=require("obsidian");var wt={AudioRecorder:"audio-recorder",Backlink:"backlink",Bases:"bases",Bookmarks:"bookmarks",Canvas:"canvas",CommandPalette:"command-palette",DailyNotes:"daily-notes",EditorStatus:"editor-status",FileExplorer:"file-explorer",FileRecovery:"file-recovery",Footnotes:"footnotes",GlobalSearch:"global-search",Graph:"graph",MarkdownImporter:"markdown-importer",NoteComposer:"note-composer",OutgoingLink:"outgoing-link",Outline:"outline",PagePreview:"page-preview",Properties:"properties",Publish:"publish",RandomNote:"random-note",SlashCommand:"slash-command",Slides:"slides",Switcher:"switcher",Sync:"sync",TagPane:"tag-pane",Templates:"templates",Webviewer:"webviewer",WordCount:"word-count",Workspaces:"workspaces",ZkPrefixer:"zk-prefixer"},ru={AllProperties:"all-properties",Audio:"audio",Backlink:wt.Backlink,Bookmarks:wt.Bookmarks,Canvas:wt.Canvas,Empty:"empty",FileExplorer:wt.FileExplorer,FileProperties:"file-properties",Graph:wt.Graph,Image:"image",LocalGraph:"localgraph",Markdown:"markdown",OutgoingLink:wt.OutgoingLink,Outline:wt.Outline,Pdf:"pdf",ReleaseNotes:"release-notes",Search:"search",Sync:"sync",Table:"table",Tag:"tag",Video:"video",Webviewer:"webviewer",WebviewerHistory:"webviewer-history"};function mg(){return iu.TFile}function gg(){return su.TFolder}function yt(t){return t.replace(/\/?[^\/]*$/,"")||"/"}function xi(t,e){let n=t.vault.getFolderByPath(e);return n||(n=new(gg())(t.vault,e),n.parent=xi(t,yt(e)),n.deleted=!0,n)}function ou(t,e){let n=t.vault.getFileByPath(e);return n||(n=new(mg())(t.vault,e),n.parent=xi(t,yt(e)),n.deleted=!0,n)}function kt(t){return!!t.position}function Ye(t){return!!t.key}var Yo=et(uu(),1);(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();function Tr(t,e){let n=0;for(let r=0;r<t.length;r++){if(!(r in t))continue;let s=t[r];e(s,r,t)&&(t[n++]=s)}t.length=n}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Et=class{eventRefsMap=new Map;off(e,n){let r=this.eventRefsMap.get(e);r&&(Tr(r,s=>s.callback!==n),r.length===0&&this.eventRefsMap.delete(e))}offref(e){let n=this.eventRefsMap.get(e.name);n&&(Tr(n,r=>r!==e),n.length===0&&this.eventRefsMap.delete(e.name))}on(e,n,r){let s=this.eventRefsMap.get(e);s||(s=[],this.eventRefsMap.set(e,s));let o={asyncEvents:this,callback:n,name:e,thisArg:r};return s.push(o),o}once(e,n,r){let s=this.on(e,n,r),o=this.on(e,()=>{this.offref(s),this.offref(o)});return s}trigger(e,...n){let r=this.eventRefsMap.get(e)??[];for(let s of r.slice())this.tryTrigger(s,n)}async triggerAsync(e,...n){let r=this.eventRefsMap.get(e)??[];for(let s of r.slice())await this.tryTriggerAsync(s,n)}tryTrigger(e,n){try{e.callback.apply(e.thisArg,n)}catch(r){window.setTimeout(()=>{throw r},0)}}async tryTriggerAsync(e,n){try{await e.callback.call(e.thisArg,...n)}catch(r){window.setTimeout(()=>{throw r},0)}}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var No="asyncError",Ro=`Error stack:
`,Ai="An unhandled error occurred executing async operation",Ci=new Et;Ci.on(No,yg);function Ei(t){Ci.trigger(No,t)}function cu(t){return Wo(t).map(e=>"  ".repeat(e.level)+(e.message.startsWith(Ro)?e.message.slice(Ro.length):e.message)).join(`
`)}function wn(t=0){return(new Error().stack??"").split(`
`).slice(t+2).join(`
`)}function Fr(t,e){e??=globalThis.console;let n=Wo(t);for(let r of n)r.shouldClearAnsiSequence?e.error(`\x1B[0m${r.message}\x1B[0m`):e.error(r.message)}function du(t){let e=Ci.on(No,t);return()=>{Ci.offref(e)}}function yn(t){throw t}function yg(t){Fr(t)}function Wo(t,e=0,n=[]){if(t===void 0)return n;if(!(t instanceof Error)){let s;return t===null?s="(null)":typeof t=="string"?s=t:s=JSON.stringify(t)??"undefined",n.push({level:e,message:s}),n}let r=`${t.name}: ${t.message}`;if(n.push({level:e,message:r,shouldClearAnsiSequence:!0}),t.stack){let s=t.stack.startsWith(r)?t.stack.slice(r.length+1):t.stack;n.push({level:e,message:`${Ro}${s}`})}return t.cause!==void 0&&(n.push({level:e,message:"Caused by:"}),Wo(t.cause,e+1,n)),n}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();function Bo(t){return t.replaceAll(/[.*+?^${}()|[\]\\]/g,"\\$&")}function fu(t){try{return new RegExp(t),!0}catch{return!1}}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();async function Hn(t,...e){return kg(t)?await t(...e):t}function kg(t){return typeof t=="function"}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var bg={"\n":"\\n","\r":"\\r","	":"\\t","\b":"\\b","\f":"\\f","'":"\\'",'"':'\\"',"\\":"\\\\"},vg={};for(let[t,e]of Object.entries(bg))vg[e]=t;function hu(t,e,n,r){return r??=n,t.slice(0,n)+e+t.slice(r)}function Pr(t){return Me(t,/\u00A0|\u202F/g," ").normalize("NFC")}function Me(t,e,n){return typeof n>"u"?t:(e instanceof RegExp&&!e.global&&(e=new RegExp(e.source,`${e.flags}g`)),typeof n=="string"?t.replaceAll(e,n):t.replaceAll(e,(r,...s)=>{let l=typeof s.at(-1)=="object",u=l?s.length-2:s.length-1,d={groups:l?s.at(-1):void 0,missingGroupIndices:[],offset:s.at(u-1),source:s.at(u),substring:r},p=s.slice(0,u-1).map((h,m)=>{if(typeof h=="string")return h;if(typeof h>"u")return d.missingGroupIndices.push(m),"";throw new Error(`Unexpected argument type: ${typeof h}`)});return n(d,...p)??d.substring}))}function pu(t,e,n){if(t.endsWith(e))return t.slice(0,-e.length);if(n)throw new Error(`String ${t} does not end with suffix ${e}`);return t}function kn(t,e,n){if(t.startsWith(e))return t.slice(e.length);if(n)throw new Error(`String ${t} does not start with prefix ${e}`);return t}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var xg=/[a-zA-Z]:\/[^:]*$/,St=Yo.default.posix,Yk=St.delimiter,Vk=Yo.default.posix.sep,Ve=St.basename,se=St.dirname,tt=St.extname,zk=St.format;var ge=St.join,Uk=St.normalize,Hk=St.parse,$n=St.relative;function mu(t,e){return e?`${t}.${e}`:t}function gu(...t){let e=St.resolve(...t);return e=Cg(e),xg.exec(e)?.[0]??e}function Cg(t){return Me(t,"\\","/")}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Ag="base",Eg="canvas",Si="md";function Vo(t,e,n){if(nt(e))return e.extension===n;if(typeof e=="string"){let r=de(t,e);return r?r.extension===n:tt(e).slice(1)===n}return!1}function Dr(t,e,n){if(e===null)return null;if(bu(e))return e;let r=wu(t,e,n);if(r)return r;let s=xu(e);return s===e?null:wu(t,s,n)}function ve(t,e,n,r){let s=de(t,e,r);if(!s)if(n)s=ou(t,e);else throw new Error(`File not found: ${e}`);return s}function de(t,e,n){let r=Dr(t,e,n);return nt(r)?r:null}function jn(t,e,n,r){let s=bt(t,e,r);if(!s)if(n)s=xi(t,e);else throw new Error(`Folder not found: ${e}`);return s}function bt(t,e,n){let r=Dr(t,e,n);return Mr(r)?r:null}function yu(t,e,n){let r=jn(t,e),s=[];return n?_t.Vault.recurseChildren(r,o=>{ke(t,o)&&s.push(o)}):s=r.children.filter(o=>ke(t,o)),s=s.sort((o,l)=>o.path.localeCompare(l.path)),s}async function ku(t,e){let n=de(t,e);if(n)return n;let r=yt(e);return await Sg(t,r),await t.vault.create(e,"")}async function Sg(t,e){let n=bt(t,e);return n||await t.vault.createFolder(e)}function fe(t,e){if(bu(e))return e.path;let n=Dr(t,e);return n?n.path:xu(e)}function bu(t){return t instanceof _t.TAbstractFile}function _g(t,e){return Vo(t,e,Ag)}function bn(t,e){return Vo(t,e,Eg)}function nt(t){return t instanceof _t.TFile}function Mr(t){return t instanceof _t.TFolder}function ke(t,e){return Vo(t,e,Si)}function Ir(t,e){return ke(t,e)||bn(t,e)||_g(t,e)}function vu(t,e){return ke(t,e)?pu(e.path,`.${Si}`):e.path}function wu(t,e,n){return n?t.vault.getAbstractFileByPathInsensitive(e):t.vault.getAbstractFileByPath(e)}function xu(t){return(0,_t.normalizePath)(gu("/",t))}var ju=require("obsidian");var Ko=et(Ou(),1);(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var jo="29.0.2",Di="obsidian-dev-utils",Lu=`.obsidian-dev-utils.code-highlighter-component textarea, .obsidian-dev-utils.code-highlighter-component pre, .obsidian-dev-utils.code-highlighter-component code {
  font-family: var(--font-monospace);
  line-height: var(--line-height-normal);
  margin: 0;
}
.obsidian-dev-utils.code-highlighter-component textarea, .obsidian-dev-utils.code-highlighter-component code {
  font-size: var(--code-size);
}
.obsidian-dev-utils.code-highlighter-component textarea {
  background: transparent;
  color: transparent;
  z-index: 2;
  width: 20em;
  height: 10em;
}
.obsidian-dev-utils.code-highlighter-component pre {
  position: absolute;
  pointer-events: none;
  border: var(--input-border-width) solid transparent;
  overflow: auto;
  inset: 0;
  padding: var(--size-4-1) var(--size-4-2);
  z-index: 1;
}
.obsidian-dev-utils.code-highlighter-component pre.is-placeholder {
  opacity: 0.6;
}
.obsidian-dev-utils.code-highlighter-component code {
  display: block;
  padding: 0;
}

.obsidian-dev-utils input[type=url] {
  height: var(--input-height);
}
.obsidian-dev-utils input[type=month],
.obsidian-dev-utils input[type=tel],
.obsidian-dev-utils input[type=time],
.obsidian-dev-utils input[type=url],
.obsidian-dev-utils input[type=week] {
  -webkit-app-region: no-drag;
  background: var(--background-modifier-form-field);
  border: var(--input-border-width) solid var(--background-modifier-border);
  color: var(--text-normal);
  font-family: inherit;
  padding: var(--size-4-1) var(--size-4-2);
  font-size: var(--font-ui-small);
  border-radius: var(--input-radius);
  outline: none;
}
@media (hover: hover) {
  .obsidian-dev-utils input[type=month]:hover,
  .obsidian-dev-utils input[type=tel]:hover,
  .obsidian-dev-utils input[type=time]:hover,
  .obsidian-dev-utils input[type=url]:hover,
  .obsidian-dev-utils input[type=week]:hover {
    border-color: var(--background-modifier-border-hover);
    transition: box-shadow 0.15s ease-in-out, border 0.15s ease-in-out;
  }
}
.obsidian-dev-utils input[type=month]:active, .obsidian-dev-utils input[type=month]:focus,
.obsidian-dev-utils input[type=tel]:active,
.obsidian-dev-utils input[type=tel]:focus,
.obsidian-dev-utils input[type=time]:active,
.obsidian-dev-utils input[type=time]:focus,
.obsidian-dev-utils input[type=url]:active,
.obsidian-dev-utils input[type=url]:focus,
.obsidian-dev-utils input[type=week]:active,
.obsidian-dev-utils input[type=week]:focus {
  border-color: var(--background-modifier-border-focus);
  transition: box-shadow 0.15s ease-in-out, border 0.15s ease-in-out;
}
.obsidian-dev-utils input[type=month]:active, .obsidian-dev-utils input[type=month]:focus, .obsidian-dev-utils input[type=month]:focus-visible,
.obsidian-dev-utils input[type=tel]:active,
.obsidian-dev-utils input[type=tel]:focus,
.obsidian-dev-utils input[type=tel]:focus-visible,
.obsidian-dev-utils input[type=time]:active,
.obsidian-dev-utils input[type=time]:focus,
.obsidian-dev-utils input[type=time]:focus-visible,
.obsidian-dev-utils input[type=url]:active,
.obsidian-dev-utils input[type=url]:focus,
.obsidian-dev-utils input[type=url]:focus-visible,
.obsidian-dev-utils input[type=week]:active,
.obsidian-dev-utils input[type=week]:focus,
.obsidian-dev-utils input[type=week]:focus-visible {
  box-shadow: 0 0 0 2px var(--background-modifier-border-focus);
}
.obsidian-dev-utils input[type=month]::placeholder,
.obsidian-dev-utils input[type=tel]::placeholder,
.obsidian-dev-utils input[type=time]::placeholder,
.obsidian-dev-utils input[type=url]::placeholder,
.obsidian-dev-utils input[type=week]::placeholder {
  color: var(--text-faint);
}
.mod-rtl input[type=month],
.mod-rtl input[type=time],
.mod-rtl input[type=week],
.is-rtl input[type=month],
.is-rtl input[type=time],
.is-rtl input[type=week],
.rtl input[type=month],
.rtl input[type=time],
.rtl input[type=week] {
  direction: rtl;
}
.mod-rtl input[type=month]::-webkit-calendar-picker-indicator,
.mod-rtl input[type=time]::-webkit-calendar-picker-indicator,
.mod-rtl input[type=week]::-webkit-calendar-picker-indicator,
.is-rtl input[type=month]::-webkit-calendar-picker-indicator,
.is-rtl input[type=time]::-webkit-calendar-picker-indicator,
.is-rtl input[type=week]::-webkit-calendar-picker-indicator,
.rtl input[type=month]::-webkit-calendar-picker-indicator,
.rtl input[type=time]::-webkit-calendar-picker-indicator,
.rtl input[type=week]::-webkit-calendar-picker-indicator {
  right: var(--size-4-1);
  left: auto;
}

.obsidian-dev-utils input[type=month],
.obsidian-dev-utils input[type=time],
.obsidian-dev-utils input[type=week] {
  font-variant-numeric: tabular-nums;
  position: relative;
}
.obsidian-dev-utils input[type=month]::-webkit-datetime-edit-text,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-text,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-text {
  color: var(--text-faint);
  padding-inline-end: 0;
}
.obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator,
.obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator {
  position: absolute;
  left: var(--size-4-1);
  right: auto;
  opacity: 0.5;
}
.obsidian-dev-utils input[type=month]::-webkit-datetime-edit-month-field:active, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-month-field:focus, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-day-field:active, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-day-field:focus, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-year-field:active, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-year-field:focus,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-month-field:active,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-month-field:focus,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-day-field:active,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-day-field:focus,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-year-field:active,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-year-field:focus,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-month-field:active,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-month-field:focus,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-day-field:active,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-day-field:focus,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-year-field:active,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-year-field:focus {
  background-color: var(--text-selection);
  color: var(--text-normal);
  cursor: text;
}
.mod-rtl .obsidian-dev-utils input[type=month], .is-rtl .obsidian-dev-utils input[type=month], .rtl .obsidian-dev-utils input[type=month],
.mod-rtl .obsidian-dev-utils input[type=time],
.is-rtl .obsidian-dev-utils input[type=time],
.rtl .obsidian-dev-utils input[type=time],
.mod-rtl .obsidian-dev-utils input[type=week],
.is-rtl .obsidian-dev-utils input[type=week],
.rtl .obsidian-dev-utils input[type=week] {
  direction: rtl;
}
.mod-rtl .obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator, .is-rtl .obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator, .rtl .obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator,
.mod-rtl .obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.is-rtl .obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.rtl .obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.mod-rtl .obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator,
.is-rtl .obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator,
.rtl .obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator {
  left: auto;
  right: var(--size-4-1);
}

body:not(.is-ios):not(.is-android) .obsidian-dev-utils input[type=month],
body:not(.is-ios):not(.is-android) .obsidian-dev-utils input[type=time],
body:not(.is-ios):not(.is-android) .obsidian-dev-utils input[type=week] {
  padding-inline-start: var(--size-4-6);
}

.obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator {
  margin-inline-start: 0;
}

.obsidian-dev-utils.modal-container .ok-button {
  margin-right: 10px;
  margin-top: 20px;
}

.obsidian-dev-utils .multiple-dropdown-component select,
.obsidian-dev-utils .multiple-dropdown-component select:focus,
.obsidian-dev-utils .multiple-dropdown-component .dropdown {
  height: auto;
  padding-top: 3px;
}
.obsidian-dev-utils .multiple-dropdown-component select option:checked,
.obsidian-dev-utils .multiple-dropdown-component select:focus option:checked,
.obsidian-dev-utils .multiple-dropdown-component .dropdown option:checked {
  background-color: #1967d2;
  color: #fff;
}

.obsidian-dev-utils.prompt-modal .text-box {
  width: 100%;
}

.obsidian-dev-utils.tri-state-checkbox-component input[type=checkbox]:indeterminate {
  appearance: checkbox;
}

.obsidian-dev-utils :invalid {
  box-shadow: 0 0 0 2px var(--text-error);
}
.obsidian-dev-utils input.metadata-input-text:active:invalid, .obsidian-dev-utils input.metadata-input-text:focus-visible:invalid, .obsidian-dev-utils input.metadata-input-text:focus:invalid,
.obsidian-dev-utils input[type=date]:active:invalid,
.obsidian-dev-utils input[type=date]:focus-visible:invalid,
.obsidian-dev-utils input[type=date]:focus:invalid,
.obsidian-dev-utils input[type=datetime-local]:active:invalid,
.obsidian-dev-utils input[type=datetime-local]:focus-visible:invalid,
.obsidian-dev-utils input[type=datetime-local]:focus:invalid,
.obsidian-dev-utils input[type=email]:active:invalid,
.obsidian-dev-utils input[type=email]:focus-visible:invalid,
.obsidian-dev-utils input[type=email]:focus:invalid,
.obsidian-dev-utils input[type=number]:active:invalid,
.obsidian-dev-utils input[type=number]:focus-visible:invalid,
.obsidian-dev-utils input[type=number]:focus:invalid,
.obsidian-dev-utils input[type=password]:active:invalid,
.obsidian-dev-utils input[type=password]:focus-visible:invalid,
.obsidian-dev-utils input[type=password]:focus:invalid,
.obsidian-dev-utils input[type=search]:active:invalid,
.obsidian-dev-utils input[type=search]:focus-visible:invalid,
.obsidian-dev-utils input[type=search]:focus:invalid,
.obsidian-dev-utils input[type=text]:active:invalid,
.obsidian-dev-utils input[type=text]:focus-visible:invalid,
.obsidian-dev-utils input[type=text]:focus:invalid,
.obsidian-dev-utils textarea:active:invalid,
.obsidian-dev-utils textarea:focus-visible:invalid,
.obsidian-dev-utils textarea:focus:invalid {
  box-shadow: 0 0 0 2px var(--text-error);
}
.obsidian-dev-utils.setting-component-wrapper {
  position: relative;
  display: inline-flex;
}
.obsidian-dev-utils.overlay-validator {
  caret-color: transparent;
  cursor: default;
  position: absolute;
  background-color: transparent;
  border: none;
  outline: none;
  pointer-events: none;
  z-index: 9999;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
}
.obsidian-dev-utils.tooltip.tooltip-validator {
  position: absolute;
  top: calc(100% + 8px);
  width: max-content;
}

/*# sourceMappingURL=data:application/json;charset=utf-8,%7B%22version%22:3,%22sourceRoot%22:%22%22,%22sources%22:%5B%22../src/styles/code-highlighter-component.scss%22,%22../src/styles/input.scss%22,%22../src/styles/input-time.scss%22,%22../src/styles/modal-container.scss%22,%22../src/styles/multiple-dropdown-component.scss%22,%22../src/styles/prompt-modal.scss%22,%22../src/styles/tri-state-checkbox-component.scss%22,%22../src/styles/validation.scss%22%5D,%22names%22:%5B%5D,%22mappings%22:%22AAEI;EACE;EACA;EACA;;AAGF;EACE;;AAGF;EACE;EACA;EACA;EACA;EACA;;AAGF;EACE;EACA;EACA;EACA;EACA;EACA;EACA;;AAGF;EACE;;AAGF;EACE;EACA;;;ACnCJ;EACE;;AAGF;AAAA;AAAA;AAAA;AAAA;EAKE;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;AAGE;EACE;AAAA;AAAA;AAAA;AAAA;IACE;IACA,YACE;;;AAMR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAEE;EACA,YACE;;AAIJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAGE;;AAGF;AAAA;AAAA;AAAA;AAAA;EACE;;AASE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAGE;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EACE;EACA;;;AC7DV;AAAA;AAAA;EAGE;EACA;;AAEA;AAAA;AAAA;EACE;EACA;;AAGF;AAAA;AAAA;EACE;EACA;EACA;EACA;;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAEE;EACA;EACA;;AAIK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAGP;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EACE;EACA;;;AAKF;AAAA;AAAA;EACE;;;AAMJ;EACE;;;AChDF;EACE;EACA;;;ACFF;AAAA;AAAA;EAGE;EACA;;AAEA;AAAA;AAAA;EACE;EACA;;;ACRJ;EACE;;;ACDF;EACE;;;ACEJ;EAJA;;AAoBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EApBJ;;AA0BA;EACE;EACA;;AAGF;EACE;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;AAGF;EACE;EACA;EACA%22,%22file%22:%22styles.css%22,%22sourcesContent%22:%5B%22.obsidian-dev-utils%20%7B%5Cn%20%20&.code-highlighter-component%20%7B%5Cn%20%20%20%20textarea,%20pre,%20code%20%7B%5Cn%20%20%20%20%20%20font-family:%20var(--font-monospace);%5Cn%20%20%20%20%20%20line-height:%20var(--line-height-normal);%5Cn%20%20%20%20%20%20margin:%200;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20textarea,%20code%20%7B%5Cn%20%20%20%20%20%20font-size:%20var(--code-size);%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20textarea%20%7B%5Cn%20%20%20%20%20%20background:%20transparent;%5Cn%20%20%20%20%20%20color:%20transparent;%5Cn%20%20%20%20%20%20z-index:%202;%5Cn%20%20%20%20%20%20width:%2020em;%5Cn%20%20%20%20%20%20height:%2010em;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20pre%20%7B%5Cn%20%20%20%20%20%20position:%20absolute;%5Cn%20%20%20%20%20%20pointer-events:%20none;%5Cn%20%20%20%20%20%20border:%20var(--input-border-width)%20solid%20transparent;%5Cn%20%20%20%20%20%20overflow:%20auto;%5Cn%20%20%20%20%20%20inset:%200;%5Cn%20%20%20%20%20%20padding:%20var(--size-4-1)%20var(--size-4-2);%5Cn%20%20%20%20%20%20z-index:%201;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20pre.is-placeholder%20%7B%5Cn%20%20%20%20%20%20opacity:%200.6;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20code%20%7B%5Cn%20%20%20%20%20%20display:%20block;%5Cn%20%20%20%20%20%20padding:%200;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20input%5Btype='url'%5D%20%7B%5Cn%20%20%20%20height:%20var(--input-height)%5Cn%20%20%7D%5Cn%5Cn%20%20input%5Btype='month'%5D,%5Cn%20%20input%5Btype='tel'%5D,%5Cn%20%20input%5Btype='time'%5D,%5Cn%20%20input%5Btype='url'%5D,%5Cn%20%20input%5Btype='week'%5D%20%7B%5Cn%20%20%20%20-webkit-app-region:%20no-drag;%5Cn%20%20%20%20background:%20var(--background-modifier-form-field);%5Cn%20%20%20%20border:%20var(--input-border-width)%20solid%20var(--background-modifier-border);%5Cn%20%20%20%20color:%20var(--text-normal);%5Cn%20%20%20%20font-family:%20inherit;%5Cn%20%20%20%20padding:%20var(--size-4-1)%20var(--size-4-2);%5Cn%20%20%20%20font-size:%20var(--font-ui-small);%5Cn%20%20%20%20border-radius:%20var(--input-radius);%5Cn%20%20%20%20outline:%20none;%5Cn%5Cn%20%20%20%20@at-root%20%7B%5Cn%20%20%20%20%20%20@media%20(hover:%20hover)%20%7B%5Cn%20%20%20%20%20%20%20%20&:hover%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20border-color:%20var(--background-modifier-border-hover);%5Cn%20%20%20%20%20%20%20%20%20%20transition:%5Cn%20%20%20%20%20%20%20%20%20%20%20%20box-shadow%200.15s%20ease-in-out,%5Cn%20%20%20%20%20%20%20%20%20%20%20%20border%200.15s%20ease-in-out;%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&:active,%5Cn%20%20%20%20&:focus%20%7B%5Cn%20%20%20%20%20%20border-color:%20var(--background-modifier-border-focus);%5Cn%20%20%20%20%20%20transition:%5Cn%20%20%20%20%20%20%20%20box-shadow%200.15s%20ease-in-out,%5Cn%20%20%20%20%20%20%20%20border%200.15s%20ease-in-out;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&:active,%5Cn%20%20%20%20&:focus,%5Cn%20%20%20%20&:focus-visible%20%7B%5Cn%20%20%20%20%20%20box-shadow:%200%200%200%202px%20var(--background-modifier-border-focus);%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&::placeholder%20%7B%5Cn%20%20%20%20%20%20color:%20var(--text-faint);%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%20%20@at-root%20%7B%5Cn%20%20%20%20.mod-rtl,%5Cn%20%20%20%20.is-rtl,%5Cn%20%20%20%20.rtl%20%7B%5Cn%20%20%20%20%20%20&%20%7B%5Cn%20%20%20%20%20%20%20%20input%5Btype='month'%5D,%5Cn%20%20%20%20%20%20%20%20input%5Btype='time'%5D,%5Cn%20%20%20%20%20%20%20%20input%5Btype='week'%5D%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20direction:%20rtl;%5Cn%5Cn%20%20%20%20%20%20%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20right:%20var(--size-4-1);%5Cn%20%20%20%20%20%20%20%20%20%20%20%20left:%20auto;%5Cn%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20input%5Btype='month'%5D,%5Cn%20%20input%5Btype='time'%5D,%5Cn%20%20input%5Btype='week'%5D%20%7B%5Cn%20%20%20%20font-variant-numeric:%20tabular-nums;%5Cn%20%20%20%20position:%20relative;%5Cn%5Cn%20%20%20%20&::-webkit-datetime-edit-text%20%7B%5Cn%20%20%20%20%20%20color:%20var(--text-faint);%5Cn%20%20%20%20%20%20padding-inline-end:%200;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20position:%20absolute;%5Cn%20%20%20%20%20%20left:%20var(--size-4-1);%5Cn%20%20%20%20%20%20right:%20auto;%5Cn%20%20%20%20%20%20opacity:%200.5;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&::-webkit-datetime-edit-month-field,%5Cn%20%20%20%20&::-webkit-datetime-edit-day-field,%5Cn%20%20%20%20&::-webkit-datetime-edit-year-field%20%7B%5Cn%20%20%20%20%20%20&:active,%5Cn%20%20%20%20%20%20&:focus%20%7B%5Cn%20%20%20%20%20%20%20%20background-color:%20var(--text-selection);%5Cn%20%20%20%20%20%20%20%20color:%20var(--text-normal);%5Cn%20%20%20%20%20%20%20%20cursor:%20text;%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20@at-root%20.mod-rtl%20&,%5Cn%20%20%20%20%20%20.is-rtl%20&,%5Cn%20%20%20%20%20%20.rtl%20&%20%7B%5Cn%20%20%20%20%20%20direction:%20rtl;%5Cn%5Cn%20%20%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20%20%20left:%20auto;%5Cn%20%20%20%20%20%20%20%20right:%20var(--size-4-1);%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20@at-root%20%7B%5Cn%20%20%20%20%20%20body:not(.is-ios):not(.is-android)%20&%20%7B%5Cn%20%20%20%20%20%20%20%20padding-inline-start:%20var(--size-4-6);%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%20%20input%5Btype='time'%5D%20%7B%5Cn%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20margin-inline-start:%200;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20&.modal-container%20%7B%5Cn%20%20%20%20.ok-button%20%7B%5Cn%20%20%20%20%20%20margin-right:%2010px;%5Cn%20%20%20%20%20%20margin-top:%2020px;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20.multiple-dropdown-component%20%7B%5Cn%20%20%20%20select,%5Cn%20%20%20%20select:focus,%5Cn%20%20%20%20.dropdown%20%7B%5Cn%20%20%20%20%20%20height:%20auto;%5Cn%20%20%20%20%20%20padding-top:%203px;%5Cn%5Cn%20%20%20%20%20%20option:checked%20%7B%5Cn%20%20%20%20%20%20%20%20background-color:%20%231967d2;%5Cn%20%20%20%20%20%20%20%20color:%20%23fff;%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20&.prompt-modal%20%7B%5Cn%20%20%20%20.text-box%20%7B%5Cn%20%20%20%20%20%20width:%20100%25;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cr%5Cn%20%20&.tri-state-checkbox-component%20%7B%5Cr%5Cn%20%20%20%20input%5Btype='checkbox'%5D:indeterminate%20%7B%5Cr%5Cn%20%20%20%20%20%20appearance:%20checkbox;%5Cr%5Cn%20%20%20%20%7D%5Cr%5Cn%20%20%7D%5Cr%5Cn%7D%5Cr%5Cn%22,%22@mixin%20invalid%20%7B%5Cn%20%20box-shadow:%200%200%200%202px%20var(--text-error);%5Cn%7D%5Cn%5Cn.obsidian-dev-utils%20%7B%5Cn%20%20:invalid%20%7B%5Cn%20%20%20%20@include%20invalid;%5Cn%20%20%7D%5Cn%5Cn%20%20input.metadata-input-text,%5Cn%20%20input%5Btype='date'%5D,%5Cn%20%20input%5Btype='datetime-local'%5D,%5Cn%20%20input%5Btype='email'%5D,%5Cn%20%20input%5Btype='number'%5D,%5Cn%20%20input%5Btype='password'%5D,%5Cn%20%20input%5Btype='search'%5D,%5Cn%20%20input%5Btype='text'%5D,%5Cn%20%20textarea%20%7B%5Cn%20%20%20%20&:active,%5Cn%20%20%20%20&:focus-visible,%5Cn%20%20%20%20&:focus%20%7B%5Cn%20%20%20%20%20%20&:invalid%20%7B%5Cn%20%20%20%20%20%20%20%20@include%20invalid;%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%20%20&.setting-component-wrapper%20%7B%5Cn%20%20%20%20position:%20relative;%5Cn%20%20%20%20display:%20inline-flex;%5Cn%20%20%7D%5Cn%5Cn%20%20&.overlay-validator%20%7B%5Cn%20%20%20%20caret-color:%20transparent;%5Cn%20%20%20%20cursor:%20default;%5Cn%20%20%20%20position:%20absolute;%5Cn%20%20%20%20background-color:%20transparent;%5Cn%20%20%20%20border:%20none;%5Cn%20%20%20%20outline:%20none;%5Cn%20%20%20%20pointer-events:%20none;%5Cn%20%20%20%20z-index:%209999;%5Cn%20%20%20%20left:%200;%5Cn%20%20%20%20top:%200;%5Cn%20%20%20%20width:%20100%25;%5Cn%20%20%20%20height:%20100%25;%5Cn%20%20%7D%5Cn%5Cn%20%20&.tooltip.tooltip-validator%20%7B%5Cn%20%20%20%20position:%20absolute;%5Cn%20%20%20%20top:%20calc(100%25%20+%208px);%5Cn%20%20%20%20width:%20max-content;%5Cn%20%20%7D%5Cn%7D%5Cn%22%5D%7D */
`;(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Go=class{constructor(e){this.value=e}};function Zg(){try{return globalThis.require("obsidian/app")}catch{return globalThis.app??yn(new Error("Obsidian app not found"))}}function Ht(t,e,n){let s=t??Qg()??globalThis;return s.obsidianDevUtilsState??={},s.obsidianDevUtilsState[e]??=new Go(n)}function Qg(){return typeof window>"u"?null:Zg()}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var qo="__no-plugin-id-initialized__",Ru=qo;function Mi(){return Ru}function Nu(t){t&&(Ru=t)}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Wu=",",Ii="-";function Bu(){return{disable:Jg,enable:Xg,get:Oi,set:Or}}function Zn(t,e=0){let n=`${t}:${e.toString()}`,r=Ht(null,"debuggers",new Map).value,s=r.get(n);return s||(s=Qn()(t),s.log=(o,...l)=>{e0(t,e,o,...l)},s.printStackTrace=(o,l)=>{zu(t,o,l)},r.set(n,s)),s}function it(t){let e=Mi(),n=e===qo?"":`${e}:`;return Zn(`${n}${Di}:${t}`)}function Yu(t){let e=Qn().enabled(t),n=e?"enabled":"disabled",r=e?"disable":"enable",s=Oi();Or(t),Zn(t)(`Debug messages for plugin ${t} are ${n}. See https://github.com/mnaoumov/obsidian-dev-utils/blob/main/docs/debugging.md how to ${r} them.`),Or(s)}function Jg(t){let e=new Set(Oi());for(let n of Lr(t)){if(n.startsWith(Ii))continue;let r=Ii+n;e.has(n)&&e.delete(n),e.add(r)}Or(Array.from(e))}function Xg(t){let e=new Set(Oi());for(let n of Lr(t)){if(!n.startsWith(Ii)){let r=Ii+n;e.has(r)&&e.delete(r)}e.add(n)}Or(Array.from(e))}function Oi(){return Lr(Qn().load()??"")}function Qn(){return typeof window>"u"?Ko.default:Ht(null,"debug",Ko.default).value}function Vu(){return typeof window<"u"}function e0(t,e,n,...r){if(!Qn().enabled(t))return;let l=(new Error().stack?.split(`
`)??[])[4+e]??"";console.debug(n,...r),Vu()&&zu(t,l,"Debug message caller")}function zu(t,e,n){let r=Qn()(t);if(!r.enabled)return;e||(e="(unavailable)"),(n??"")||(n="Caller stack trace"),r(n);let s=Vu()?`StackTraceFakeError
`:"";console.debug(`${s}${e}`)}function Or(t){Qn().enable(Lr(t).join(Wu))}function Lr(t){return typeof t=="string"?t.split(Wu).filter(Boolean):t.flatMap(Lr)}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var t0=Number.POSITIVE_INFINITY;async function Zo(t){let e=new Error(Ai);try{await t()}catch(n){e.cause=n,Ei(e)}}function xn(t){return(...e)=>{Tt(()=>t(...e))}}function Tt(t){Zo(t)}function Uu(t,e=0){window.setTimeout(xn(async()=>await t()),e)}async function Hu(){return new Promise(t=>{requestAnimationFrame(()=>{t()})})}async function Li(t,e,n){let r=it("Async:retryWithTimeout");n??=wn(1);let o={...{retryDelayInMilliseconds:100,shouldRetryOnError:!1,timeoutInMilliseconds:5e3},...e};await Qo(o.timeoutInMilliseconds,async()=>{let l=0;for(;;){o.abortSignal?.throwIfAborted(),l++;let u;try{u=await t()}catch(d){if(!o.shouldRetryOnError||d.__terminateRetry)throw d;Fr(d),u=!1}if(u){l>1&&(r(`Retry completed successfully after ${l.toString()} attempts`),r.printStackTrace(n));return}r(`Retry attempt ${l.toString()} completed unsuccessfully. Trying again in ${o.retryDelayInMilliseconds.toString()} milliseconds`,{fn:t}),r.printStackTrace(n),await $u(o.retryDelayInMilliseconds)}},{retryFn:t})}async function Qo(t,e,n){let r=!0,s=null,o=performance.now();if(t===t0)return await l(),s;if(await Promise.race([l(),u()]),r)throw new Error("Timed out");return s;async function l(){try{s=await e();let d=performance.now()-o;it("Async:runWithTimeout")(`Execution time: ${d.toString()} milliseconds`,{context:n,fn:e})}finally{r=!1}}async function u(){if(!r||(await $u(t),!r))return;let d=performance.now()-o;console.warn(`Timed out in ${d.toString()} milliseconds`,{context:n,fn:e});let p=it("Async:runWithTimeout:timeout");p.enabled&&(p(`The execution is not terminated because debugger ${p.namespace} is enabled. See https://github.com/mnaoumov/obsidian-dev-utils/blob/main/docs/debugging.md for more information`),await u())}}async function $u(t){await new Promise(e=>{window.setTimeout(e,t)})}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();async function Cn(t){let n={...{abortSignal:AbortSignal.any([]),buildNoticeMessage(){throw new Error("buildNoticeMessage is required")},items:[],noticeMinTimeoutInMilliseconds:2e3,processItem:Ut,progressBarTitle:"",shouldContinueOnError:!0,shouldShowProgressBar:!0,uiUpdateThresholdInMilliseconds:100},...t},r=n.items,s=0,o=null;n.shouldShowProgressBar&&(o=new ju.Notice("",0));let l=sleep(n.noticeMinTimeoutInMilliseconds),u=createEl("progress");if(u.max=r.length,n.shouldShowProgressBar){let p=createFragment();p.createDiv({text:n.progressBarTitle}),p.appendChild(u),o?.setMessage(p)}let d=performance.now();for(let p of r){if(n.abortSignal.aborted){o?.hide();return}s++;let h=`# ${s.toString()} / ${r.length.toString()}`,m=n.buildNoticeMessage(p,h);n.shouldShowProgressBar||o?.setMessage(m),it("Loop")(m);let w=new Error(Ai);try{performance.now()-d>n.uiUpdateThresholdInMilliseconds&&(await Hu(),d=performance.now()),await n.processItem(p)}catch(y){if(console.error("Error processing item",p),!n.shouldContinueOnError)throw o?.hide(),y;w.cause=y,Ei(w)}u.value++}await l,o?.hide()}var ec=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var W=(t=>(t.AlertModal="alert-modal",t.CancelButton="cancel-button",t.CheckboxComponent="checkbox-component",t.CodeHighlighterComponent="code-highlighter-component",t.ConfirmModal="confirm-modal",t.DateComponent="date-component",t.DateTimeComponent="datetime-component",t.EmailComponent="email-component",t.FileComponent="file-component",t.IsPlaceholder="is-placeholder",t.LibraryName="obsidian-dev-utils",t.MonthComponent="month-component",t.MultipleDropdownComponent="multiple-dropdown-component",t.MultipleEmailComponent="multiple-email-component",t.MultipleFileComponent="multiple-file-component",t.MultipleTextComponent="multiple-text-component",t.NumberComponent="number-component",t.OkButton="ok-button",t.OverlayValidator="overlay-validator",t.PasswordComponent="password-component",t.PluginSettingsTab="plugin-settings-tab",t.PromptModal="prompt-modal",t.SelectItemModal="select-item-modal",t.SettingComponentWrapper="setting-component-wrapper",t.TelephoneComponent="telephone-component",t.TextBox="text-box",t.TimeComponent="time-component",t.Tooltip="tooltip",t.TooltipArrow="tooltip-arrow",t.TooltipValidator="tooltip-validator",t.TriStateCheckboxComponent="tri-state-checkbox-component",t.TypedDropdownComponent="typed-dropdown-component",t.TypedMultipleDropdownComponent="typed-multiple-dropdown-component",t.UrlComponent="url-component",t.WeekComponent="week-component",t))(W||{});var Ju=require("obsidian");var Zu=et(qu(),1);(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Ku=`${Di}-styles`;function oe(t,...e){t.addClass(W.LibraryName,Mi(),...e)}function Qu(t,e){Nu(e),Yu(e);let n=Ht(t,"lastLibraryVersion","0.0.0");if((0,Zu.compareVersions)(jo,n.value)<=0)return;n.value=jo;let r=n0();r.DEBUG=Bu(),document.head.querySelector(`#${Ku}`)?.remove(),document.head.createEl("style",{attr:{id:Ku},text:Lu})}function n0(){return window}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Ni=class extends Ju.Modal{constructor(e,n,r){super(e.app),this.resolve=n,oe(this.containerEl,r),e.cssClass&&this.containerEl.addClass(e.cssClass)}};async function Xu(t){return await new Promise(e=>{t(e).open()})}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Jo=class extends Ni{options;constructor(e,n){super(e,n,W.AlertModal);let r={app:e.app,cssClass:"",message:e.message,okButtonText:"OK",title:""};this.options={...r,...e}}onClose(){super.onClose(),this.resolve()}onOpen(){super.onOpen(),this.titleEl.setText(this.options.title),this.contentEl.createEl("p",{text:this.options.message});let e=new ec.ButtonComponent(this.contentEl);e.setButtonText(this.options.okButtonText),e.setCta(),e.onClick(this.close.bind(this)),e.setClass(W.OkButton)}};async function Wi(t){await Xu(e=>new Jo(t,e))}var zi=require("obsidian");var tc=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Bi=class extends tc.Component{registerAsyncEvent(e){Yi(this,e)}};function Yi(t,e){t.register(()=>{e.asyncEvents.offref(e)})}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Vi=class extends zi.Plugin{events=new Et;get abortSignal(){return this._abortSignal}get settings(){return this.settingsManager.settingsWrapper.safeSettings}get settingsManager(){if(!this._settingsManager)throw new Error("Settings manager not defined");return this._settingsManager}get settingsTab(){if(!this._settingsTab)throw new Error("Settings tab not defined");return this._settingsTab}_abortSignal;_settingsManager=null;_settingsTab=null;lifecycleEventNames=new Set;notice;consoleDebug(e,...n){Zn(this.manifest.id,1)(e,...n)}async onExternalSettingsChange(){await super.onExternalSettingsChange?.(),await this._settingsManager?.loadFromFile(!1)}async onload(){await super.onload(),await this.onloadImpl(),Uu(this.afterLoad.bind(this))}onunload(){super.onunload(),Tt(async()=>{try{await this.onunloadImpl()}finally{await this.triggerLifecycleEvent("unload")}})}async waitForLifecycleEvent(e){this.lifecycleEventNames.has(e)||await new Promise(n=>{this.events.once(e,()=>{n()})})}createSettingsManager(){return null}createSettingsTab(){return null}async onLayoutReady(){await Ct()}async onloadImpl(){Qu(this.app,this.manifest.id),this.register(du(()=>{this.showNotice("An unhandled error occurred. Please check the console for more information.")})),this._settingsManager=this.createSettingsManager(),this._settingsManager&&(Yi(this,this._settingsManager.on("loadSettings",this.onLoadSettings.bind(this))),Yi(this,this._settingsManager.on("saveSettings",this.onSaveSettings.bind(this)))),await this._settingsManager?.loadFromFile(!0),this._settingsTab=this.createSettingsTab(),this._settingsTab&&this.addSettingTab(this._settingsTab);let e=new AbortController;this._abortSignal=e.signal,this.register(()=>{e.abort()})}async onLoadSettings(e,n){await Ct()}async onSaveSettings(e,n,r){await Ct()}async onunloadImpl(){await Ct()}showNotice(e){this.notice&&this.notice.hide(),this.notice=new zi.Notice(`${this.manifest.name}
${e}`)}async afterLoad(){this._abortSignal.aborted||(await this.triggerLifecycleEvent("load"),this.app.workspace.onLayoutReady(xn(this.onLayoutReadyBase.bind(this))))}async onLayoutReadyBase(){try{await this.onLayoutReady()}finally{await this.triggerLifecycleEvent("layoutReady")}}async triggerLifecycleEvent(e){this.lifecycleEventNames.add(e),await this.events.triggerAsync(e)}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();async function nc(t,e,n){let r=it("Logger:invokeAsyncAndLog"),s=performance.now();n??=wn(1),r(`${t}:start`,{fn:e,timestampStart:s}),r.printStackTrace(n);try{await e();let o=performance.now();r(`${t}:end`,{duration:o-s,fn:e,timestampEnd:o,timestampStart:s}),r.printStackTrace(n)}catch(o){let l=performance.now();throw r(`${t}:error`,{duration:l-s,error:o,fn:e,timestampEnd:l,timestampStart:s}),r.printStackTrace(n),o}}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();function st(t,e,n,r){r??=wn(1),Tt(()=>r0(t,e,n,r))}async function r0(t,e,n,r){n??=6e4,r??=wn(1);let o=rc(t).value;o.items.push({fn:e,stackTrace:r,timeoutInMilliseconds:n}),o.promise=o.promise.then(()=>ic(t)),await o.promise}function rc(t){return Ht(t,"queue",{items:[],promise:Promise.resolve()})}async function ic(t){let e=rc(t).value,n=e.items[0];n&&(await Zo(()=>Qo(n.timeoutInMilliseconds,()=>nc(ic.name,n.fn,n.stackTrace),{queuedFn:n.fn})),e.items.shift())}var sf=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var sc=".",i0=[{constructor:ArrayBuffer,equalityComparer:o0},{constructor:Date,equalityComparer:a0},{constructor:RegExp,equalityComparer:u0},{constructor:Map,equalityComparer:l0},{constructor:Set,equalityComparer:c0}];function ot(t,e){if(t===e)return!0;if(typeof t!="object"||typeof e!="object"||t===null||e===null)return!1;let n=t.constructor,r=e.constructor;if(n!==r)return!1;if(n!==Object){let d=d0(t,e);if(d!==void 0)return d}let s=Jn(t),o=Jn(e);if(s.length!==o.length)return!1;let l=t,u=e;for(let d of s)if(!o.includes(d)||!ot(l[d],u[d]))return!1;return!0}function Jn(t){let e=[],n=t;for(;n;){let r=Object.getOwnPropertyDescriptors(n);for(let[s,o]of Object.entries(r)){if(s==="__proto__"||typeof o.value=="function")continue;let l=typeof o.get=="function",u=typeof o.set=="function";if(l||u){l&&u&&e.push(s);continue}o.enumerable&&o.writable&&e.push(s)}n=Object.getPrototypeOf(n)}return e.sort()}function An(t,e){let n=t,r=e.split(sc);for(let s of r){if(n===void 0)return;n=n[s]}return n}function ea(t,e,n){let r=new Error(`Property path ${e} not found`),s=t,o=e.split(sc);for(let u of o.slice(0,-1)){if(s===void 0)throw r;s=s[u]}let l=o.at(-1);if(s===void 0||l===void 0)throw r;s[l]=n}function Ui(t,e={}){let n={functionHandlingMode:"exclude",maxDepth:-1,shouldCatchToJSONErrors:!1,shouldHandleCircularReferences:!1,shouldHandleErrors:!1,shouldHandleUndefined:!1,shouldSortKeys:!1,space:2,tokenSubstitutions:{circularReference:Xo("CircularReference"),maxDepthLimitReached:Xo("MaxDepthLimitReached"),toJSONFailed:Xo("ToJSONFailed")}},r={...n,...e,tokenSubstitutions:{...n.tokenSubstitutions,...e.tokenSubstitutions}};r.maxDepth===-1&&(r.maxDepth=1/0);let s=[],l=Hi(t,"",0,!0,r,s,new WeakSet),u=JSON.stringify(l,null,r.space)??"";return u=Me(u,/"\[\[(?<Key>[A-Za-z]+)(?<Index>\d*)\]\]"/g,(d,p,h)=>s0({functionTexts:s,index:h?parseInt(h,10):0,key:p,substitutions:r.tokenSubstitutions})),u}function s0(t){switch(t.key){case"CircularReference":return t.substitutions.circularReference;case"Function":return t.functionTexts[t.index]??yn(new Error(`Function with index ${t.index.toString()} not found`));case"MaxDepthLimitReached":return t.substitutions.maxDepthLimitReached;case"MaxDepthLimitReachedArray":return`Array(${t.index.toString()})`;case"ToJSONFailed":return t.substitutions.toJSONFailed;case"Undefined":return"undefined";default:break}}function o0(t,e){if(t.byteLength!==e.byteLength)return!1;let n=new Uint8Array(t),r=new Uint8Array(e);return ot(n,r)}function a0(t,e){return t.getTime()===e.getTime()}function l0(t,e){if(t.size!==e.size)return!1;for(let[n,r]of t.entries())if(!e.has(n)||!ot(r,e.get(n)))return!1;return!0}function u0(t,e){return t.source===e.source&&t.flags===e.flags}function c0(t,e){if(t.size!==e.size)return!1;for(let n of t){if(e.has(n))continue;let r=!1;for(let s of e)if(ot(n,s)){r=!0;break}if(!r)return!1}return!0}function d0(t,e){for(let{constructor:n,equalityComparer:r}of i0)if(t instanceof n&&e instanceof n)return r(t,e)}function f0(t,e,n,r,s,o){return e>r.maxDepth?Xn("MaxDepthLimitReachedArray",t.length):t.map((l,u)=>Hi(l,u.toString(),e+1,n,r,s,o))}function h0(t,e,n){if(n.shouldHandleCircularReferences)return Xn("CircularReference");let r=t.constructor.name||"Object";throw new TypeError(`Converting circular structure to JSON
--> starting at object with constructor '${r}'
--- property '${e}' closes the circle`)}function p0(t,e,n){if(n.functionHandlingMode==="exclude")return;let r=e.length,s=n.functionHandlingMode==="full"?t.toString():`function ${t.name||"anonymous"}() { /* ... */ }`;return e.push(s),Xn("Function",r)}function m0(t,e,n,r,s,o,l){if(l.has(t))return h0(t,e,s);if(l.add(t),r){let u=w0(t,e,n,s,o,l);if(u!==void 0)return u}return Array.isArray(t)?f0(t,n,r,s,o,l):n>s.maxDepth?Xn("MaxDepthLimitReached"):t instanceof Error&&s.shouldHandleErrors?cu(t):g0(t,n,r,s,o,l)}function g0(t,e,n,r,s,o){let l=Object.entries(t);return r.shouldSortKeys&&l.sort(([u],[d])=>u.localeCompare(d)),Object.fromEntries(l.map(([u,d])=>[u,Hi(d,u,e+1,n,r,s,o)]))}function Xo(t){return`{ "[[${t}]]": null }`}function Xn(t,e){return`[[${t}${e?.toString()??""}]]`}function Hi(t,e,n,r,s,o,l){return t===void 0?n===0||s.shouldHandleUndefined?Xn("Undefined"):void 0:typeof t=="function"?p0(t,o,s):typeof t!="object"||t===null?t:m0(t,e,n,r,s,o,l)}function w0(t,e,n,r,s,o){let l=t.toJSON;if(typeof l=="function")try{let u=l.call(t,e);return Hi(u,e,n,!1,r,s,o)}catch(u){if(r.shouldCatchToJSONErrors)return Xn("ToJSONFailed");throw u}}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();async function ta(t,e,n){let r=fe(t,e),s=fe(t,n),o=ve(t,s,!0),l=tt(r),u=Ve(r,l),d=t.vault.getAvailablePathForAttachments;return d.isExtended?d(u,l.slice(1),o,!0):await y0(t,u,l.slice(1),o,!0)}async function er(t,e){return yt(await ta(t,"DUMMY_FILE.pdf",e))}async function y0(t,e,n,r,s){let o=t.vault.getConfig("attachmentFolderPath"),l=o==="."||o==="./",u=null;o.startsWith("./")&&(u=kn(o,"./")),l?o=r?r.parent?.path??"":"":u&&(o=(r?r.parent?.getParentPrefix()??"":"")+u),o=Pr(oc(o)),e=Pr(oc(e));let d=bt(t,o,!0);!d&&u&&(s?d=jn(t,o,!0):d=await t.vault.createFolder(o));let p=d?.getParentPrefix()??"";return t.vault.getAvailablePath(p+e,n)}async function na(t,e){let n=await er(t,e),r=await er(t,ge(se(e),"DUMMY_FILE.md"));return n!==r}function oc(t){return t=Me(t,/(?:[\\/])+/g,"/"),t=Me(t,/^\/+|\/+$/g,""),t||"/"}var bs=require("obsidian");var k0={};function En(t,e){let n=e||k0,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,s=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return lc(t,r,s)}function lc(t,e,n){if(b0(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return ac(t.children,e,n)}return Array.isArray(t)?ac(t,e,n):""}function ac(t,e,n){let r=[],s=-1;for(;++s<t.length;)r[s]=lc(t[s],e,n);return r.join("")}function b0(t){return!!(t&&typeof t=="object")}var uc=document.createElement("i");function tr(t){let e="&"+t+";";uc.innerHTML=e;let n=uc.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function Se(t,e,n,r){let s=t.length,o=0,l;if(e<0?e=-e>s?0:s+e:e=e>s?s:e,n=n>0?n:0,r.length<1e4)l=Array.from(r),l.unshift(e,n),t.splice(...l);else for(n&&t.splice(e,n);o<r.length;)l=r.slice(o,o+1e4),l.unshift(e,0),t.splice(...l),o+=1e4,e+=1e4}function ze(t,e){return t.length>0?(Se(t,t.length,0,e),t):e}var cc={}.hasOwnProperty;function dc(t){let e={},n=-1;for(;++n<t.length;)v0(e,t[n]);return e}function v0(t,e){let n;for(n in e){let s=(cc.call(t,n)?t[n]:void 0)||(t[n]={}),o=e[n],l;if(o)for(l in o){cc.call(s,l)||(s[l]=[]);let u=o[l];x0(s[l],Array.isArray(u)?u:u?[u]:[])}}}function x0(t,e){let n=-1,r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);Se(t,0,0,r)}function $i(t,e){let n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"\uFFFD":String.fromCodePoint(n)}function $t(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}var Ke=nn(/[A-Za-z]/),Ue=nn(/[\dA-Za-z]/),fc=nn(/[#-'*+\--9=?A-Z^-~]/);function Rr(t){return t!==null&&(t<32||t===127)}var Nr=nn(/\d/),hc=nn(/[\dA-Fa-f]/),pc=nn(/[!-/:-@[-`{-~]/);function R(t){return t!==null&&t<-2}function me(t){return t!==null&&(t<0||t===32)}function H(t){return t===-2||t===-1||t===32}var mc=nn(/\p{P}|\p{S}/u),gc=nn(/\s/);function nn(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function $(t,e,n,r){let s=r?r-1:Number.POSITIVE_INFINITY,o=0;return l;function l(d){return H(d)?(t.enter(n),u(d)):e(d)}function u(d){return H(d)&&o++<s?(t.consume(d),u):(t.exit(n),e(d))}}var wc={tokenize:C0};function C0(t){let e=t.attempt(this.parser.constructs.contentInitial,r,s),n;return e;function r(u){if(u===null){t.consume(u);return}return t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),$(t,e,"linePrefix")}function s(u){return t.enter("paragraph"),o(u)}function o(u){let d=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=d),n=d,l(u)}function l(u){if(u===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(u);return}return R(u)?(t.consume(u),t.exit("chunkText"),o):(t.consume(u),l)}}var kc={tokenize:A0},yc={tokenize:E0};function A0(t){let e=this,n=[],r=0,s,o,l;return u;function u(F){if(r<n.length){let B=n[r];return e.containerState=B[1],t.attempt(B[0].continuation,d,p)(F)}return p(F)}function d(F){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,s&&T();let B=e.events.length,Y=B,E;for(;Y--;)if(e.events[Y][0]==="exit"&&e.events[Y][1].type==="chunkFlow"){E=e.events[Y][1].end;break}C(r);let Q=B;for(;Q<e.events.length;)e.events[Q][1].end={...E},Q++;return Se(e.events,Y+1,0,e.events.slice(B)),e.events.length=Q,p(F)}return u(F)}function p(F){if(r===n.length){if(!s)return w(F);if(s.currentConstruct&&s.currentConstruct.concrete)return x(F);e.interrupt=!!(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(yc,h,m)(F)}function h(F){return s&&T(),C(r),w(F)}function m(F){return e.parser.lazy[e.now().line]=r!==n.length,l=e.now().offset,x(F)}function w(F){return e.containerState={},t.attempt(yc,y,x)(F)}function y(F){return r++,n.push([e.currentConstruct,e.containerState]),w(F)}function x(F){if(F===null){s&&T(),C(0),t.consume(F);return}return s=s||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:s,contentType:"flow",previous:o}),P(F)}function P(F){if(F===null){S(t.exit("chunkFlow"),!0),C(0),t.consume(F);return}return R(F)?(t.consume(F),S(t.exit("chunkFlow")),r=0,e.interrupt=void 0,u):(t.consume(F),P)}function S(F,B){let Y=e.sliceStream(F);if(B&&Y.push(null),F.previous=o,o&&(o.next=F),o=F,s.defineSkip(F.start),s.write(Y),e.parser.lazy[F.start.line]){let E=s.events.length;for(;E--;)if(s.events[E][1].start.offset<l&&(!s.events[E][1].end||s.events[E][1].end.offset>l))return;let Q=e.events.length,j=Q,G,ne;for(;j--;)if(e.events[j][0]==="exit"&&e.events[j][1].type==="chunkFlow"){if(G){ne=e.events[j][1].end;break}G=!0}for(C(r),E=Q;E<e.events.length;)e.events[E][1].end={...ne},E++;Se(e.events,j+1,0,e.events.slice(Q)),e.events.length=E}}function C(F){let B=n.length;for(;B-- >F;){let Y=n[B];e.containerState=Y[1],Y[0].exit.call(e,t)}n.length=F}function T(){s.write([null]),o=void 0,s=void 0,e.containerState._closeFlow=void 0}}function E0(t,e,n){return $(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function nr(t){if(t===null||me(t)||gc(t))return 1;if(mc(t))return 2}function rr(t,e,n){let r=[],s=-1;for(;++s<t.length;){let o=t[s].resolveAll;o&&!r.includes(o)&&(e=o(e,n),r.push(o))}return e}var Wr={name:"attention",resolveAll:S0,tokenize:_0};function S0(t,e){let n=-1,r,s,o,l,u,d,p,h;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;d=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;let m={...t[r][1].end},w={...t[n][1].start};bc(m,-d),bc(w,d),l={type:d>1?"strongSequence":"emphasisSequence",start:m,end:{...t[r][1].end}},u={type:d>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:w},o={type:d>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},s={type:d>1?"strong":"emphasis",start:{...l.start},end:{...u.end}},t[r][1].end={...l.start},t[n][1].start={...u.end},p=[],t[r][1].end.offset-t[r][1].start.offset&&(p=ze(p,[["enter",t[r][1],e],["exit",t[r][1],e]])),p=ze(p,[["enter",s,e],["enter",l,e],["exit",l,e],["enter",o,e]]),p=ze(p,rr(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),p=ze(p,[["exit",o,e],["enter",u,e],["exit",u,e],["exit",s,e]]),t[n][1].end.offset-t[n][1].start.offset?(h=2,p=ze(p,[["enter",t[n][1],e],["exit",t[n][1],e]])):h=0,Se(t,r-1,n-r+3,p),n=r+p.length-h-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function _0(t,e){let n=this.parser.constructs.attentionMarkers.null,r=this.previous,s=nr(r),o;return l;function l(d){return o=d,t.enter("attentionSequence"),u(d)}function u(d){if(d===o)return t.consume(d),u;let p=t.exit("attentionSequence"),h=nr(d),m=!h||h===2&&s||n.includes(d),w=!s||s===2&&h||n.includes(r);return p._open=!!(o===42?m:m&&(s||!w)),p._close=!!(o===42?w:w&&(h||!m)),e(d)}}function bc(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}var ra={name:"autolink",tokenize:T0};function T0(t,e,n){let r=0;return s;function s(y){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(y),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),o}function o(y){return Ke(y)?(t.consume(y),l):y===64?n(y):p(y)}function l(y){return y===43||y===45||y===46||Ue(y)?(r=1,u(y)):p(y)}function u(y){return y===58?(t.consume(y),r=0,d):(y===43||y===45||y===46||Ue(y))&&r++<32?(t.consume(y),u):(r=0,p(y))}function d(y){return y===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(y),t.exit("autolinkMarker"),t.exit("autolink"),e):y===null||y===32||y===60||Rr(y)?n(y):(t.consume(y),d)}function p(y){return y===64?(t.consume(y),h):fc(y)?(t.consume(y),p):n(y)}function h(y){return Ue(y)?m(y):n(y)}function m(y){return y===46?(t.consume(y),r=0,h):y===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(y),t.exit("autolinkMarker"),t.exit("autolink"),e):w(y)}function w(y){if((y===45||Ue(y))&&r++<63){let x=y===45?w:m;return t.consume(y),x}return n(y)}}var rn={partial:!0,tokenize:F0};function F0(t,e,n){return r;function r(o){return H(o)?$(t,s,"linePrefix")(o):s(o)}function s(o){return o===null||R(o)?e(o):n(o)}}var ji={continuation:{tokenize:D0},exit:M0,name:"blockQuote",tokenize:P0};function P0(t,e,n){let r=this;return s;function s(l){if(l===62){let u=r.containerState;return u.open||(t.enter("blockQuote",{_container:!0}),u.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(l),t.exit("blockQuoteMarker"),o}return n(l)}function o(l){return H(l)?(t.enter("blockQuotePrefixWhitespace"),t.consume(l),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(l))}}function D0(t,e,n){let r=this;return s;function s(l){return H(l)?$(t,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):o(l)}function o(l){return t.attempt(ji,e,n)(l)}}function M0(t){t.exit("blockQuote")}var Gi={name:"characterEscape",tokenize:I0};function I0(t,e,n){return r;function r(o){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(o),t.exit("escapeMarker"),s}function s(o){return pc(o)?(t.enter("characterEscapeValue"),t.consume(o),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(o)}}var qi={name:"characterReference",tokenize:O0};function O0(t,e,n){let r=this,s=0,o,l;return u;function u(m){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(m),t.exit("characterReferenceMarker"),d}function d(m){return m===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(m),t.exit("characterReferenceMarkerNumeric"),p):(t.enter("characterReferenceValue"),o=31,l=Ue,h(m))}function p(m){return m===88||m===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(m),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),o=6,l=hc,h):(t.enter("characterReferenceValue"),o=7,l=Nr,h(m))}function h(m){if(m===59&&s){let w=t.exit("characterReferenceValue");return l===Ue&&!tr(r.sliceSerialize(w))?n(m):(t.enter("characterReferenceMarker"),t.consume(m),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return l(m)&&s++<o?(t.consume(m),h):n(m)}}var vc={partial:!0,tokenize:R0},Ki={concrete:!0,name:"codeFenced",tokenize:L0};function L0(t,e,n){let r=this,s={partial:!0,tokenize:Y},o=0,l=0,u;return d;function d(E){return p(E)}function p(E){let Q=r.events[r.events.length-1];return o=Q&&Q[1].type==="linePrefix"?Q[2].sliceSerialize(Q[1],!0).length:0,u=E,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),h(E)}function h(E){return E===u?(l++,t.consume(E),h):l<3?n(E):(t.exit("codeFencedFenceSequence"),H(E)?$(t,m,"whitespace")(E):m(E))}function m(E){return E===null||R(E)?(t.exit("codeFencedFence"),r.interrupt?e(E):t.check(vc,P,B)(E)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),w(E))}function w(E){return E===null||R(E)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),m(E)):H(E)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),$(t,y,"whitespace")(E)):E===96&&E===u?n(E):(t.consume(E),w)}function y(E){return E===null||R(E)?m(E):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),x(E))}function x(E){return E===null||R(E)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),m(E)):E===96&&E===u?n(E):(t.consume(E),x)}function P(E){return t.attempt(s,B,S)(E)}function S(E){return t.enter("lineEnding"),t.consume(E),t.exit("lineEnding"),C}function C(E){return o>0&&H(E)?$(t,T,"linePrefix",o+1)(E):T(E)}function T(E){return E===null||R(E)?t.check(vc,P,B)(E):(t.enter("codeFlowValue"),F(E))}function F(E){return E===null||R(E)?(t.exit("codeFlowValue"),T(E)):(t.consume(E),F)}function B(E){return t.exit("codeFenced"),e(E)}function Y(E,Q,j){let G=0;return ne;function ne(V){return E.enter("lineEnding"),E.consume(V),E.exit("lineEnding"),ae}function ae(V){return E.enter("codeFencedFence"),H(V)?$(E,X,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(V):X(V)}function X(V){return V===u?(E.enter("codeFencedFenceSequence"),N(V)):j(V)}function N(V){return V===u?(G++,E.consume(V),N):G>=l?(E.exit("codeFencedFenceSequence"),H(V)?$(E,U,"whitespace")(V):U(V)):j(V)}function U(V){return V===null||R(V)?(E.exit("codeFencedFence"),Q(V)):j(V)}}}function R0(t,e,n){let r=this;return s;function s(l){return l===null?n(l):(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),o)}function o(l){return r.parser.lazy[r.now().line]?n(l):e(l)}}var Br={name:"codeIndented",tokenize:W0},N0={partial:!0,tokenize:B0};function W0(t,e,n){let r=this;return s;function s(p){return t.enter("codeIndented"),$(t,o,"linePrefix",5)(p)}function o(p){let h=r.events[r.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?l(p):n(p)}function l(p){return p===null?d(p):R(p)?t.attempt(N0,l,d)(p):(t.enter("codeFlowValue"),u(p))}function u(p){return p===null||R(p)?(t.exit("codeFlowValue"),l(p)):(t.consume(p),u)}function d(p){return t.exit("codeIndented"),e(p)}}function B0(t,e,n){let r=this;return s;function s(l){return r.parser.lazy[r.now().line]?n(l):R(l)?(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),s):$(t,o,"linePrefix",5)(l)}function o(l){let u=r.events[r.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?e(l):R(l)?s(l):n(l)}}var ia={name:"codeText",previous:V0,resolve:Y0,tokenize:z0};function Y0(t){let e=t.length-4,n=3,r,s;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)s===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(s=r):(r===e||t[r][1].type==="lineEnding")&&(t[s][1].type="codeTextData",r!==s+2&&(t[s][1].end=t[r-1][1].end,t.splice(s+2,r-s-2),e-=r-s-2,r=s+2),s=void 0);return t}function V0(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function z0(t,e,n){let r=this,s=0,o,l;return u;function u(w){return t.enter("codeText"),t.enter("codeTextSequence"),d(w)}function d(w){return w===96?(t.consume(w),s++,d):(t.exit("codeTextSequence"),p(w))}function p(w){return w===null?n(w):w===32?(t.enter("space"),t.consume(w),t.exit("space"),p):w===96?(l=t.enter("codeTextSequence"),o=0,m(w)):R(w)?(t.enter("lineEnding"),t.consume(w),t.exit("lineEnding"),p):(t.enter("codeTextData"),h(w))}function h(w){return w===null||w===32||w===96||R(w)?(t.exit("codeTextData"),p(w)):(t.consume(w),h)}function m(w){return w===96?(t.consume(w),o++,m):o===s?(t.exit("codeTextSequence"),t.exit("codeText"),e(w)):(l.type="codeTextData",h(w))}}var Zi=class{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){let r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){let s=n||0;this.setCursor(Math.trunc(e));let o=this.right.splice(this.right.length-s,Number.POSITIVE_INFINITY);return r&&Yr(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Yr(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Yr(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){let n=this.left.splice(e,Number.POSITIVE_INFINITY);Yr(this.right,n.reverse())}else{let n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Yr(this.left,n.reverse())}}};function Yr(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function Qi(t){let e={},n=-1,r,s,o,l,u,d,p,h=new Zi(t);for(;++n<h.length;){for(;n in e;)n=e[n];if(r=h.get(n),n&&r[1].type==="chunkFlow"&&h.get(n-1)[1].type==="listItemPrefix"&&(d=r[1]._tokenizer.events,o=0,o<d.length&&d[o][1].type==="lineEndingBlank"&&(o+=2),o<d.length&&d[o][1].type==="content"))for(;++o<d.length&&d[o][1].type!=="content";)d[o][1].type==="chunkText"&&(d[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,U0(h,n)),n=e[n],p=!0);else if(r[1]._container){for(o=n,s=void 0;o--&&(l=h.get(o),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank");)l[0]==="enter"&&(s&&(h.get(s)[1].type="lineEndingBlank"),l[1].type="lineEnding",s=o);s&&(r[1].end={...h.get(s)[1].start},u=h.slice(s,n),u.unshift(r),h.splice(s,n-s+1,u))}}return Se(t,0,Number.POSITIVE_INFINITY,h.slice(0)),!p}function U0(t,e){let n=t.get(e)[1],r=t.get(e)[2],s=e-1,o=[],l=n._tokenizer||r.parser[n.contentType](n.start),u=l.events,d=[],p={},h,m,w=-1,y=n,x=0,P=0,S=[P];for(;y;){for(;t.get(++s)[1]!==y;);o.push(s),y._tokenizer||(h=r.sliceStream(y),y.next||h.push(null),m&&l.defineSkip(y.start),y._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(h),y._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),m=y,y=y.next}for(y=n;++w<u.length;)u[w][0]==="exit"&&u[w-1][0]==="enter"&&u[w][1].type===u[w-1][1].type&&u[w][1].start.line!==u[w][1].end.line&&(P=w+1,S.push(P),y._tokenizer=void 0,y.previous=void 0,y=y.next);for(l.events=[],y?(y._tokenizer=void 0,y.previous=void 0):S.pop(),w=S.length;w--;){let C=u.slice(S[w],S[w+1]),T=o.pop();d.push([T,T+C.length-1]),t.splice(T,2,C)}for(d.reverse(),w=-1;++w<d.length;)p[x+d[w][0]]=x+d[w][1],x+=d[w][1]-d[w][0]-1;return p}var sa={resolve:$0,tokenize:j0},H0={partial:!0,tokenize:G0};function $0(t){return Qi(t),t}function j0(t,e){let n;return r;function r(u){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),s(u)}function s(u){return u===null?o(u):R(u)?t.check(H0,l,o)(u):(t.consume(u),s)}function o(u){return t.exit("chunkContent"),t.exit("content"),e(u)}function l(u){return t.consume(u),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,s}}function G0(t,e,n){let r=this;return s;function s(l){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),$(t,o,"linePrefix")}function o(l){if(l===null||R(l))return n(l);let u=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?e(l):t.interrupt(r.parser.constructs.flow,n,e)(l)}}function Ji(t,e,n,r,s,o,l,u,d){let p=d||Number.POSITIVE_INFINITY,h=0;return m;function m(C){return C===60?(t.enter(r),t.enter(s),t.enter(o),t.consume(C),t.exit(o),w):C===null||C===32||C===41||Rr(C)?n(C):(t.enter(r),t.enter(l),t.enter(u),t.enter("chunkString",{contentType:"string"}),P(C))}function w(C){return C===62?(t.enter(o),t.consume(C),t.exit(o),t.exit(s),t.exit(r),e):(t.enter(u),t.enter("chunkString",{contentType:"string"}),y(C))}function y(C){return C===62?(t.exit("chunkString"),t.exit(u),w(C)):C===null||C===60||R(C)?n(C):(t.consume(C),C===92?x:y)}function x(C){return C===60||C===62||C===92?(t.consume(C),y):y(C)}function P(C){return!h&&(C===null||C===41||me(C))?(t.exit("chunkString"),t.exit(u),t.exit(l),t.exit(r),e(C)):h<p&&C===40?(t.consume(C),h++,P):C===41?(t.consume(C),h--,P):C===null||C===32||C===40||Rr(C)?n(C):(t.consume(C),C===92?S:P)}function S(C){return C===40||C===41||C===92?(t.consume(C),P):P(C)}}function Xi(t,e,n,r,s,o){let l=this,u=0,d;return p;function p(y){return t.enter(r),t.enter(s),t.consume(y),t.exit(s),t.enter(o),h}function h(y){return u>999||y===null||y===91||y===93&&!d||y===94&&!u&&"_hiddenFootnoteSupport"in l.parser.constructs?n(y):y===93?(t.exit(o),t.enter(s),t.consume(y),t.exit(s),t.exit(r),e):R(y)?(t.enter("lineEnding"),t.consume(y),t.exit("lineEnding"),h):(t.enter("chunkString",{contentType:"string"}),m(y))}function m(y){return y===null||y===91||y===93||R(y)||u++>999?(t.exit("chunkString"),h(y)):(t.consume(y),d||(d=!H(y)),y===92?w:m)}function w(y){return y===91||y===92||y===93?(t.consume(y),u++,m):m(y)}}function es(t,e,n,r,s,o){let l;return u;function u(w){return w===34||w===39||w===40?(t.enter(r),t.enter(s),t.consume(w),t.exit(s),l=w===40?41:w,d):n(w)}function d(w){return w===l?(t.enter(s),t.consume(w),t.exit(s),t.exit(r),e):(t.enter(o),p(w))}function p(w){return w===l?(t.exit(o),d(l)):w===null?n(w):R(w)?(t.enter("lineEnding"),t.consume(w),t.exit("lineEnding"),$(t,p,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),h(w))}function h(w){return w===l||w===null||R(w)?(t.exit("chunkString"),p(w)):(t.consume(w),w===92?m:h)}function m(w){return w===l||w===92?(t.consume(w),h):h(w)}}function Sn(t,e){let n;return r;function r(s){return R(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),n=!0,r):H(s)?$(t,r,n?"linePrefix":"lineSuffix")(s):e(s)}}var oa={name:"definition",tokenize:K0},q0={partial:!0,tokenize:Z0};function K0(t,e,n){let r=this,s;return o;function o(y){return t.enter("definition"),l(y)}function l(y){return Xi.call(r,t,u,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(y)}function u(y){return s=$t(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),y===58?(t.enter("definitionMarker"),t.consume(y),t.exit("definitionMarker"),d):n(y)}function d(y){return me(y)?Sn(t,p)(y):p(y)}function p(y){return Ji(t,h,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(y)}function h(y){return t.attempt(q0,m,m)(y)}function m(y){return H(y)?$(t,w,"whitespace")(y):w(y)}function w(y){return y===null||R(y)?(t.exit("definition"),r.parser.defined.push(s),e(y)):n(y)}}function Z0(t,e,n){return r;function r(u){return me(u)?Sn(t,s)(u):n(u)}function s(u){return es(t,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(u)}function o(u){return H(u)?$(t,l,"whitespace")(u):l(u)}function l(u){return u===null||R(u)?e(u):n(u)}}var aa={name:"hardBreakEscape",tokenize:Q0};function Q0(t,e,n){return r;function r(o){return t.enter("hardBreakEscape"),t.consume(o),s}function s(o){return R(o)?(t.exit("hardBreakEscape"),e(o)):n(o)}}var la={name:"headingAtx",resolve:J0,tokenize:X0};function J0(t,e){let n=t.length-2,r=3,s,o;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(s={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},o={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},Se(t,r,n-r+1,[["enter",s,e],["enter",o,e],["exit",o,e],["exit",s,e]])),t}function X0(t,e,n){let r=0;return s;function s(h){return t.enter("atxHeading"),o(h)}function o(h){return t.enter("atxHeadingSequence"),l(h)}function l(h){return h===35&&r++<6?(t.consume(h),l):h===null||me(h)?(t.exit("atxHeadingSequence"),u(h)):n(h)}function u(h){return h===35?(t.enter("atxHeadingSequence"),d(h)):h===null||R(h)?(t.exit("atxHeading"),e(h)):H(h)?$(t,u,"whitespace")(h):(t.enter("atxHeadingText"),p(h))}function d(h){return h===35?(t.consume(h),d):(t.exit("atxHeadingSequence"),u(h))}function p(h){return h===null||h===35||me(h)?(t.exit("atxHeadingText"),u(h)):(t.consume(h),p)}}var xc=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],ua=["pre","script","style","textarea"];var ca={concrete:!0,name:"htmlFlow",resolveTo:nw,tokenize:rw},ew={partial:!0,tokenize:sw},tw={partial:!0,tokenize:iw};function nw(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function rw(t,e,n){let r=this,s,o,l,u,d;return p;function p(k){return h(k)}function h(k){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(k),m}function m(k){return k===33?(t.consume(k),w):k===47?(t.consume(k),o=!0,P):k===63?(t.consume(k),s=3,r.interrupt?e:v):Ke(k)?(t.consume(k),l=String.fromCharCode(k),S):n(k)}function w(k){return k===45?(t.consume(k),s=2,y):k===91?(t.consume(k),s=5,u=0,x):Ke(k)?(t.consume(k),s=4,r.interrupt?e:v):n(k)}function y(k){return k===45?(t.consume(k),r.interrupt?e:v):n(k)}function x(k){let Le="CDATA[";return k===Le.charCodeAt(u++)?(t.consume(k),u===Le.length?r.interrupt?e:X:x):n(k)}function P(k){return Ke(k)?(t.consume(k),l=String.fromCharCode(k),S):n(k)}function S(k){if(k===null||k===47||k===62||me(k)){let Le=k===47,Mt=l.toLowerCase();return!Le&&!o&&ua.includes(Mt)?(s=1,r.interrupt?e(k):X(k)):xc.includes(l.toLowerCase())?(s=6,Le?(t.consume(k),C):r.interrupt?e(k):X(k)):(s=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(k):o?T(k):F(k))}return k===45||Ue(k)?(t.consume(k),l+=String.fromCharCode(k),S):n(k)}function C(k){return k===62?(t.consume(k),r.interrupt?e:X):n(k)}function T(k){return H(k)?(t.consume(k),T):ne(k)}function F(k){return k===47?(t.consume(k),ne):k===58||k===95||Ke(k)?(t.consume(k),B):H(k)?(t.consume(k),F):ne(k)}function B(k){return k===45||k===46||k===58||k===95||Ue(k)?(t.consume(k),B):Y(k)}function Y(k){return k===61?(t.consume(k),E):H(k)?(t.consume(k),Y):F(k)}function E(k){return k===null||k===60||k===61||k===62||k===96?n(k):k===34||k===39?(t.consume(k),d=k,Q):H(k)?(t.consume(k),E):j(k)}function Q(k){return k===d?(t.consume(k),d=null,G):k===null||R(k)?n(k):(t.consume(k),Q)}function j(k){return k===null||k===34||k===39||k===47||k===60||k===61||k===62||k===96||me(k)?Y(k):(t.consume(k),j)}function G(k){return k===47||k===62||H(k)?F(k):n(k)}function ne(k){return k===62?(t.consume(k),ae):n(k)}function ae(k){return k===null||R(k)?X(k):H(k)?(t.consume(k),ae):n(k)}function X(k){return k===45&&s===2?(t.consume(k),ee):k===60&&s===1?(t.consume(k),ce):k===62&&s===4?(t.consume(k),Te):k===63&&s===3?(t.consume(k),v):k===93&&s===5?(t.consume(k),$e):R(k)&&(s===6||s===7)?(t.exit("htmlFlowData"),t.check(ew,Fe,N)(k)):k===null||R(k)?(t.exit("htmlFlowData"),N(k)):(t.consume(k),X)}function N(k){return t.check(tw,U,Fe)(k)}function U(k){return t.enter("lineEnding"),t.consume(k),t.exit("lineEnding"),V}function V(k){return k===null||R(k)?N(k):(t.enter("htmlFlowData"),X(k))}function ee(k){return k===45?(t.consume(k),v):X(k)}function ce(k){return k===47?(t.consume(k),l="",he):X(k)}function he(k){if(k===62){let Le=l.toLowerCase();return ua.includes(Le)?(t.consume(k),Te):X(k)}return Ke(k)&&l.length<8?(t.consume(k),l+=String.fromCharCode(k),he):X(k)}function $e(k){return k===93?(t.consume(k),v):X(k)}function v(k){return k===62?(t.consume(k),Te):k===45&&s===2?(t.consume(k),v):X(k)}function Te(k){return k===null||R(k)?(t.exit("htmlFlowData"),Fe(k)):(t.consume(k),Te)}function Fe(k){return t.exit("htmlFlow"),e(k)}}function iw(t,e,n){let r=this;return s;function s(l){return R(l)?(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),o):n(l)}function o(l){return r.parser.lazy[r.now().line]?n(l):e(l)}}function sw(t,e,n){return r;function r(s){return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),t.attempt(rn,e,n)}}var da={name:"htmlText",tokenize:ow};function ow(t,e,n){let r=this,s,o,l;return u;function u(v){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(v),d}function d(v){return v===33?(t.consume(v),p):v===47?(t.consume(v),Y):v===63?(t.consume(v),F):Ke(v)?(t.consume(v),j):n(v)}function p(v){return v===45?(t.consume(v),h):v===91?(t.consume(v),o=0,x):Ke(v)?(t.consume(v),T):n(v)}function h(v){return v===45?(t.consume(v),y):n(v)}function m(v){return v===null?n(v):v===45?(t.consume(v),w):R(v)?(l=m,ce(v)):(t.consume(v),m)}function w(v){return v===45?(t.consume(v),y):m(v)}function y(v){return v===62?ee(v):v===45?w(v):m(v)}function x(v){let Te="CDATA[";return v===Te.charCodeAt(o++)?(t.consume(v),o===Te.length?P:x):n(v)}function P(v){return v===null?n(v):v===93?(t.consume(v),S):R(v)?(l=P,ce(v)):(t.consume(v),P)}function S(v){return v===93?(t.consume(v),C):P(v)}function C(v){return v===62?ee(v):v===93?(t.consume(v),C):P(v)}function T(v){return v===null||v===62?ee(v):R(v)?(l=T,ce(v)):(t.consume(v),T)}function F(v){return v===null?n(v):v===63?(t.consume(v),B):R(v)?(l=F,ce(v)):(t.consume(v),F)}function B(v){return v===62?ee(v):F(v)}function Y(v){return Ke(v)?(t.consume(v),E):n(v)}function E(v){return v===45||Ue(v)?(t.consume(v),E):Q(v)}function Q(v){return R(v)?(l=Q,ce(v)):H(v)?(t.consume(v),Q):ee(v)}function j(v){return v===45||Ue(v)?(t.consume(v),j):v===47||v===62||me(v)?G(v):n(v)}function G(v){return v===47?(t.consume(v),ee):v===58||v===95||Ke(v)?(t.consume(v),ne):R(v)?(l=G,ce(v)):H(v)?(t.consume(v),G):ee(v)}function ne(v){return v===45||v===46||v===58||v===95||Ue(v)?(t.consume(v),ne):ae(v)}function ae(v){return v===61?(t.consume(v),X):R(v)?(l=ae,ce(v)):H(v)?(t.consume(v),ae):G(v)}function X(v){return v===null||v===60||v===61||v===62||v===96?n(v):v===34||v===39?(t.consume(v),s=v,N):R(v)?(l=X,ce(v)):H(v)?(t.consume(v),X):(t.consume(v),U)}function N(v){return v===s?(t.consume(v),s=void 0,V):v===null?n(v):R(v)?(l=N,ce(v)):(t.consume(v),N)}function U(v){return v===null||v===34||v===39||v===60||v===61||v===96?n(v):v===47||v===62||me(v)?G(v):(t.consume(v),U)}function V(v){return v===47||v===62||me(v)?G(v):n(v)}function ee(v){return v===62?(t.consume(v),t.exit("htmlTextData"),t.exit("htmlText"),e):n(v)}function ce(v){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(v),t.exit("lineEnding"),he}function he(v){return H(v)?$(t,$e,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(v):$e(v)}function $e(v){return t.enter("htmlTextData"),l(v)}}var _n={name:"labelEnd",resolveAll:cw,resolveTo:dw,tokenize:fw},aw={tokenize:hw},lw={tokenize:pw},uw={tokenize:mw};function cw(t){let e=-1,n=[];for(;++e<t.length;){let r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){let s=r.type==="labelImage"?4:2;r.type="data",e+=s}}return t.length!==n.length&&Se(t,0,t.length,n),t}function dw(t,e){let n=t.length,r=0,s,o,l,u;for(;n--;)if(s=t[n][1],o){if(s.type==="link"||s.type==="labelLink"&&s._inactive)break;t[n][0]==="enter"&&s.type==="labelLink"&&(s._inactive=!0)}else if(l){if(t[n][0]==="enter"&&(s.type==="labelImage"||s.type==="labelLink")&&!s._balanced&&(o=n,s.type!=="labelLink")){r=2;break}}else s.type==="labelEnd"&&(l=n);let d={type:t[o][1].type==="labelLink"?"link":"image",start:{...t[o][1].start},end:{...t[t.length-1][1].end}},p={type:"label",start:{...t[o][1].start},end:{...t[l][1].end}},h={type:"labelText",start:{...t[o+r+2][1].end},end:{...t[l-2][1].start}};return u=[["enter",d,e],["enter",p,e]],u=ze(u,t.slice(o+1,o+r+3)),u=ze(u,[["enter",h,e]]),u=ze(u,rr(e.parser.constructs.insideSpan.null,t.slice(o+r+4,l-3),e)),u=ze(u,[["exit",h,e],t[l-2],t[l-1],["exit",p,e]]),u=ze(u,t.slice(l+1)),u=ze(u,[["exit",d,e]]),Se(t,o,t.length,u),t}function fw(t,e,n){let r=this,s=r.events.length,o,l;for(;s--;)if((r.events[s][1].type==="labelImage"||r.events[s][1].type==="labelLink")&&!r.events[s][1]._balanced){o=r.events[s][1];break}return u;function u(w){return o?o._inactive?m(w):(l=r.parser.defined.includes($t(r.sliceSerialize({start:o.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(w),t.exit("labelMarker"),t.exit("labelEnd"),d):n(w)}function d(w){return w===40?t.attempt(aw,h,l?h:m)(w):w===91?t.attempt(lw,h,l?p:m)(w):l?h(w):m(w)}function p(w){return t.attempt(uw,h,m)(w)}function h(w){return e(w)}function m(w){return o._balanced=!0,n(w)}}function hw(t,e,n){return r;function r(m){return t.enter("resource"),t.enter("resourceMarker"),t.consume(m),t.exit("resourceMarker"),s}function s(m){return me(m)?Sn(t,o)(m):o(m)}function o(m){return m===41?h(m):Ji(t,l,u,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(m)}function l(m){return me(m)?Sn(t,d)(m):h(m)}function u(m){return n(m)}function d(m){return m===34||m===39||m===40?es(t,p,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(m):h(m)}function p(m){return me(m)?Sn(t,h)(m):h(m)}function h(m){return m===41?(t.enter("resourceMarker"),t.consume(m),t.exit("resourceMarker"),t.exit("resource"),e):n(m)}}function pw(t,e,n){let r=this;return s;function s(u){return Xi.call(r,t,o,l,"reference","referenceMarker","referenceString")(u)}function o(u){return r.parser.defined.includes($t(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(u):n(u)}function l(u){return n(u)}}function mw(t,e,n){return r;function r(o){return t.enter("reference"),t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),s}function s(o){return o===93?(t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),t.exit("reference"),e):n(o)}}var fa={name:"labelStartImage",resolveAll:_n.resolveAll,tokenize:gw};function gw(t,e,n){let r=this;return s;function s(u){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(u),t.exit("labelImageMarker"),o}function o(u){return u===91?(t.enter("labelMarker"),t.consume(u),t.exit("labelMarker"),t.exit("labelImage"),l):n(u)}function l(u){return u===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(u):e(u)}}var ha={name:"labelStartLink",resolveAll:_n.resolveAll,tokenize:ww};function ww(t,e,n){let r=this;return s;function s(l){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(l),t.exit("labelMarker"),t.exit("labelLink"),o}function o(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):e(l)}}var Vr={name:"lineEnding",tokenize:yw};function yw(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),$(t,e,"linePrefix")}}var Tn={name:"thematicBreak",tokenize:kw};function kw(t,e,n){let r=0,s;return o;function o(p){return t.enter("thematicBreak"),l(p)}function l(p){return s=p,u(p)}function u(p){return p===s?(t.enter("thematicBreakSequence"),d(p)):r>=3&&(p===null||R(p))?(t.exit("thematicBreak"),e(p)):n(p)}function d(p){return p===s?(t.consume(p),r++,d):(t.exit("thematicBreakSequence"),H(p)?$(t,u,"whitespace")(p):u(p))}}var Ie={continuation:{tokenize:Cw},exit:Ew,name:"list",tokenize:xw},bw={partial:!0,tokenize:Sw},vw={partial:!0,tokenize:Aw};function xw(t,e,n){let r=this,s=r.events[r.events.length-1],o=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0,l=0;return u;function u(y){let x=r.containerState.type||(y===42||y===43||y===45?"listUnordered":"listOrdered");if(x==="listUnordered"?!r.containerState.marker||y===r.containerState.marker:Nr(y)){if(r.containerState.type||(r.containerState.type=x,t.enter(x,{_container:!0})),x==="listUnordered")return t.enter("listItemPrefix"),y===42||y===45?t.check(Tn,n,p)(y):p(y);if(!r.interrupt||y===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),d(y)}return n(y)}function d(y){return Nr(y)&&++l<10?(t.consume(y),d):(!r.interrupt||l<2)&&(r.containerState.marker?y===r.containerState.marker:y===41||y===46)?(t.exit("listItemValue"),p(y)):n(y)}function p(y){return t.enter("listItemMarker"),t.consume(y),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||y,t.check(rn,r.interrupt?n:h,t.attempt(bw,w,m))}function h(y){return r.containerState.initialBlankLine=!0,o++,w(y)}function m(y){return H(y)?(t.enter("listItemPrefixWhitespace"),t.consume(y),t.exit("listItemPrefixWhitespace"),w):n(y)}function w(y){return r.containerState.size=o+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(y)}}function Cw(t,e,n){let r=this;return r.containerState._closeFlow=void 0,t.check(rn,s,o);function s(u){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,$(t,e,"listItemIndent",r.containerState.size+1)(u)}function o(u){return r.containerState.furtherBlankLines||!H(u)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,l(u)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(vw,e,l)(u))}function l(u){return r.containerState._closeFlow=!0,r.interrupt=void 0,$(t,t.attempt(Ie,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u)}}function Aw(t,e,n){let r=this;return $(t,s,"listItemIndent",r.containerState.size+1);function s(o){let l=r.events[r.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===r.containerState.size?e(o):n(o)}}function Ew(t){t.exit(this.containerState.type)}function Sw(t,e,n){let r=this;return $(t,s,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function s(o){let l=r.events[r.events.length-1];return!H(o)&&l&&l[1].type==="listItemPrefixWhitespace"?e(o):n(o)}}var ts={name:"setextUnderline",resolveTo:_w,tokenize:Tw};function _w(t,e){let n=t.length,r,s,o;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(s=n)}else t[n][1].type==="content"&&t.splice(n,1),!o&&t[n][1].type==="definition"&&(o=n);let l={type:"setextHeading",start:{...t[s][1].start},end:{...t[t.length-1][1].end}};return t[s][1].type="setextHeadingText",o?(t.splice(s,0,["enter",l,e]),t.splice(o+1,0,["exit",t[r][1],e]),t[r][1].end={...t[o][1].end}):t[r][1]=l,t.push(["exit",l,e]),t}function Tw(t,e,n){let r=this,s;return o;function o(p){let h=r.events.length,m;for(;h--;)if(r.events[h][1].type!=="lineEnding"&&r.events[h][1].type!=="linePrefix"&&r.events[h][1].type!=="content"){m=r.events[h][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||m)?(t.enter("setextHeadingLine"),s=p,l(p)):n(p)}function l(p){return t.enter("setextHeadingLineSequence"),u(p)}function u(p){return p===s?(t.consume(p),u):(t.exit("setextHeadingLineSequence"),H(p)?$(t,d,"lineSuffix")(p):d(p))}function d(p){return p===null||R(p)?(t.exit("setextHeadingLine"),e(p)):n(p)}}var Cc={tokenize:Fw};function Fw(t){let e=this,n=t.attempt(rn,r,t.attempt(this.parser.constructs.flowInitial,s,$(t,t.attempt(this.parser.constructs.flow,s,t.attempt(sa,s)),"linePrefix")));return n;function r(o){if(o===null){t.consume(o);return}return t.enter("lineEndingBlank"),t.consume(o),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function s(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),e.currentConstruct=void 0,n}}var Ac={resolveAll:Tc()},Ec=_c("string"),Sc=_c("text");function _c(t){return{resolveAll:Tc(t==="text"?Pw:void 0),tokenize:e};function e(n){let r=this,s=this.parser.constructs[t],o=n.attempt(s,l,u);return l;function l(h){return p(h)?o(h):u(h)}function u(h){if(h===null){n.consume(h);return}return n.enter("data"),n.consume(h),d}function d(h){return p(h)?(n.exit("data"),o(h)):(n.consume(h),d)}function p(h){if(h===null)return!0;let m=s[h],w=-1;if(m)for(;++w<m.length;){let y=m[w];if(!y.previous||y.previous.call(r,r.previous))return!0}return!1}}}function Tc(t){return e;function e(n,r){let s=-1,o;for(;++s<=n.length;)o===void 0?n[s]&&n[s][1].type==="data"&&(o=s,s++):(!n[s]||n[s][1].type!=="data")&&(s!==o+2&&(n[o][1].end=n[s-1][1].end,n.splice(o+2,s-o-2),s=o+2),o=void 0);return t?t(n,r):n}}function Pw(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){let r=t[n-1][1],s=e.sliceStream(r),o=s.length,l=-1,u=0,d;for(;o--;){let p=s[o];if(typeof p=="string"){for(l=p.length;p.charCodeAt(l-1)===32;)u++,l--;if(l)break;l=-1}else if(p===-2)d=!0,u++;else if(p!==-1){o++;break}}if(u){let p={type:n===t.length||d||u<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?l:r.start._bufferIndex+l,_index:r.start._index+o,line:r.end.line,column:r.end.column-u,offset:r.end.offset-u},end:{...r.end}};r.end={...p.start},r.start.offset===r.end.offset?Object.assign(r,p):(t.splice(n,0,["enter",p,e],["exit",p,e]),n+=2)}n++}return t}var pa={};tu(pa,{attentionMarkers:()=>Ww,contentInitial:()=>Mw,disable:()=>Bw,document:()=>Dw,flow:()=>Ow,flowInitial:()=>Iw,insideSpan:()=>Nw,string:()=>Lw,text:()=>Rw});var Dw={42:Ie,43:Ie,45:Ie,48:Ie,49:Ie,50:Ie,51:Ie,52:Ie,53:Ie,54:Ie,55:Ie,56:Ie,57:Ie,62:ji},Mw={91:oa},Iw={[-2]:Br,[-1]:Br,32:Br},Ow={35:la,42:Tn,45:[ts,Tn],60:ca,61:ts,95:Tn,96:Ki,126:Ki},Lw={38:qi,92:Gi},Rw={[-5]:Vr,[-4]:Vr,[-3]:Vr,33:fa,38:qi,42:Wr,60:[ra,da],91:ha,92:[aa,Gi],93:_n,95:Wr,96:ia},Nw={null:[Wr,Ac]},Ww={null:[42,95]},Bw={null:[]};function Fc(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0},s={},o=[],l=[],u=[],d=!0,p={attempt:G(Q),check:G(j),consume:B,enter:Y,exit:E,interrupt:G(j,{interrupt:!0})},h={code:null,containerState:{},defineSkip:C,events:[],now:S,parser:t,previous:null,sliceSerialize:x,sliceStream:P,write:y},m=e.tokenize.call(h,p),w;return e.resolveAll&&o.push(e),h;function y(N){return l=ze(l,N),T(),l[l.length-1]!==null?[]:(ne(e,0),h.events=rr(o,h.events,h),h.events)}function x(N,U){return Vw(P(N),U)}function P(N){return Yw(l,N)}function S(){let{_bufferIndex:N,_index:U,line:V,column:ee,offset:ce}=r;return{_bufferIndex:N,_index:U,line:V,column:ee,offset:ce}}function C(N){s[N.line]=N.column,X()}function T(){let N;for(;r._index<l.length;){let U=l[r._index];if(typeof U=="string")for(N=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===N&&r._bufferIndex<U.length;)F(U.charCodeAt(r._bufferIndex));else F(U)}}function F(N){d=void 0,w=N,m=m(N)}function B(N){R(N)?(r.line++,r.column=1,r.offset+=N===-3?2:1,X()):N!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===l[r._index].length&&(r._bufferIndex=-1,r._index++)),h.previous=N,d=!0}function Y(N,U){let V=U||{};return V.type=N,V.start=S(),h.events.push(["enter",V,h]),u.push(V),V}function E(N){let U=u.pop();return U.end=S(),h.events.push(["exit",U,h]),U}function Q(N,U){ne(N,U.from)}function j(N,U){U.restore()}function G(N,U){return V;function V(ee,ce,he){let $e,v,Te,Fe;return Array.isArray(ee)?Le(ee):"tokenize"in ee?Le([ee]):k(ee);function k(we){return hn;function hn(ct){let It=ct!==null&&we[ct],Qt=ct!==null&&we.null,wr=[...Array.isArray(It)?It:It?[It]:[],...Array.isArray(Qt)?Qt:Qt?[Qt]:[]];return Le(wr)(ct)}}function Le(we){return $e=we,v=0,we.length===0?he:Mt(we[v])}function Mt(we){return hn;function hn(ct){return Fe=ae(),Te=we,we.partial||(h.currentConstruct=we),we.name&&h.parser.constructs.disable.null.includes(we.name)?fn(ct):we.tokenize.call(U?Object.assign(Object.create(h),U):h,p,Zt,fn)(ct)}}function Zt(we){return d=!0,N(Te,Fe),ce}function fn(we){return d=!0,Fe.restore(),++v<$e.length?Mt($e[v]):he}}}function ne(N,U){N.resolveAll&&!o.includes(N)&&o.push(N),N.resolve&&Se(h.events,U,h.events.length-U,N.resolve(h.events.slice(U),h)),N.resolveTo&&(h.events=N.resolveTo(h.events,h))}function ae(){let N=S(),U=h.previous,V=h.currentConstruct,ee=h.events.length,ce=Array.from(u);return{from:ee,restore:he};function he(){r=N,h.previous=U,h.currentConstruct=V,h.events.length=ee,u=ce,X()}}function X(){r.line in s&&r.column<2&&(r.column=s[r.line],r.offset+=s[r.line]-1)}}function Yw(t,e){let n=e.start._index,r=e.start._bufferIndex,s=e.end._index,o=e.end._bufferIndex,l;if(n===s)l=[t[n].slice(r,o)];else{if(l=t.slice(n,s),r>-1){let u=l[0];typeof u=="string"?l[0]=u.slice(r):l.shift()}o>0&&l.push(t[s].slice(0,o))}return l}function Vw(t,e){let n=-1,r=[],s;for(;++n<t.length;){let o=t[n],l;if(typeof o=="string")l=o;else switch(o){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=e?" ":"	";break}case-1:{if(!e&&s)continue;l=" ";break}default:l=String.fromCharCode(o)}s=o===-2,r.push(l)}return r.join("")}function ma(t){let r={constructs:dc([pa,...(t||{}).extensions||[]]),content:s(wc),defined:[],document:s(kc),flow:s(Cc),lazy:{},string:s(Ec),text:s(Sc)};return r;function s(o){return l;function l(u){return Fc(r,o,u)}}}function ga(t){for(;!Qi(t););return t}var Pc=/[\0\t\n\r]/g;function wa(){let t=1,e="",n=!0,r;return s;function s(o,l,u){let d=[],p,h,m,w,y;for(o=e+(typeof o=="string"?o.toString():new TextDecoder(l||void 0).decode(o)),m=0,e="",n&&(o.charCodeAt(0)===65279&&m++,n=void 0);m<o.length;){if(Pc.lastIndex=m,p=Pc.exec(o),w=p&&p.index!==void 0?p.index:o.length,y=o.charCodeAt(w),!p){e=o.slice(m);break}if(y===10&&m===w&&r)d.push(-3),r=void 0;else switch(r&&(d.push(-5),r=void 0),m<w&&(d.push(o.slice(m,w)),t+=w-m),y){case 0:{d.push(65533),t++;break}case 9:{for(h=Math.ceil(t/4)*4,d.push(-2);t++<h;)d.push(-1);break}case 10:{d.push(-4),t=1;break}default:r=!0,t=1}m=w+1}return u&&(r&&d.push(-5),e&&d.push(e),d.push(null)),d}}var zw=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function ns(t){return t.replace(zw,Uw)}function Uw(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){let s=n.charCodeAt(1),o=s===120||s===88;return $i(n.slice(o?2:1),o?16:10)}return tr(n)||t}function sn(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?Dc(t.position):"start"in t||"end"in t?Dc(t):"line"in t||"column"in t?ya(t):""}function ya(t){return Mc(t&&t.line)+":"+Mc(t&&t.column)}function Dc(t){return ya(t&&t.start)+"-"+ya(t&&t.end)}function Mc(t){return t&&typeof t=="number"?t:1}var Oc={}.hasOwnProperty;function ka(t,e,n){return typeof e!="string"&&(n=e,e=void 0),Hw(n)(ga(ma(n).document().write(wa()(t,e,!0))))}function Hw(t){let e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(Re),autolinkProtocol:G,autolinkEmail:G,atxHeading:o(ni),blockQuote:o(ct),characterEscape:G,characterReference:G,codeFenced:o(It),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:o(It,l),codeText:o(Qt,l),codeTextData:G,data:G,codeFlowValue:G,definition:o(wr),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:o(ho),hardBreakEscape:o(ri),hardBreakTrailing:o(ri),htmlFlow:o(ii,l),htmlFlowData:G,htmlText:o(ii,l),htmlTextData:G,image:o(si),label:l,link:o(Re),listItem:o(po),listItemValue:w,listOrdered:o(Ln,m),listUnordered:o(Ln),paragraph:o(mo),reference:k,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:o(ni),strong:o(oi),thematicBreak:o(ai)},exit:{atxHeading:d(),atxHeadingSequence:Y,autolink:d(),autolinkEmail:hn,autolinkProtocol:we,blockQuote:d(),characterEscapeValue:ne,characterReferenceMarkerHexadecimal:Mt,characterReferenceMarkerNumeric:Mt,characterReferenceValue:Zt,characterReference:fn,codeFenced:d(S),codeFencedFence:P,codeFencedFenceInfo:y,codeFencedFenceMeta:x,codeFlowValue:ne,codeIndented:d(C),codeText:d(V),codeTextData:ne,data:ne,definition:d(),definitionDestinationString:B,definitionLabelString:T,definitionTitleString:F,emphasis:d(),hardBreakEscape:d(X),hardBreakTrailing:d(X),htmlFlow:d(N),htmlFlowData:ne,htmlText:d(U),htmlTextData:ne,image:d(ce),label:$e,labelText:he,lineEnding:ae,link:d(ee),listItem:d(),listOrdered:d(),listUnordered:d(),paragraph:d(),referenceString:Le,resourceDestinationString:v,resourceTitleString:Te,resource:Fe,setextHeading:d(j),setextHeadingLineSequence:Q,setextHeadingText:E,strong:d(),thematicBreak:d()}};Lc(e,(t||{}).mdastExtensions||[]);let n={};return r;function r(_){let M={type:"root",children:[]},I={stack:[M],tokenStack:[],config:e,enter:u,exit:p,buffer:l,resume:h,data:n},q=[],re=-1;for(;++re<_.length;)if(_[re][1].type==="listOrdered"||_[re][1].type==="listUnordered")if(_[re][0]==="enter")q.push(re);else{let Pe=q.pop();re=s(_,Pe,re)}for(re=-1;++re<_.length;){let Pe=e[_[re][0]];Oc.call(Pe,_[re][1].type)&&Pe[_[re][1].type].call(Object.assign({sliceSerialize:_[re][2].sliceSerialize},I),_[re][1])}if(I.tokenStack.length>0){let Pe=I.tokenStack[I.tokenStack.length-1];(Pe[1]||Ic).call(I,void 0,Pe[0])}for(M.position={start:on(_.length>0?_[0][1].start:{line:1,column:1,offset:0}),end:on(_.length>0?_[_.length-2][1].end:{line:1,column:1,offset:0})},re=-1;++re<e.transforms.length;)M=e.transforms[re](M)||M;return M}function s(_,M,I){let q=M-1,re=-1,Pe=!1,dt,je,Je,vt;for(;++q<=I;){let We=_[q];switch(We[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{We[0]==="enter"?re++:re--,vt=void 0;break}case"lineEndingBlank":{We[0]==="enter"&&(dt&&!vt&&!re&&!Je&&(Je=q),vt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:vt=void 0}if(!re&&We[0]==="enter"&&We[1].type==="listItemPrefix"||re===-1&&We[0]==="exit"&&(We[1].type==="listUnordered"||We[1].type==="listOrdered")){if(dt){let ft=q;for(je=void 0;ft--;){let ht=_[ft];if(ht[1].type==="lineEnding"||ht[1].type==="lineEndingBlank"){if(ht[0]==="exit")continue;je&&(_[je][1].type="lineEndingBlank",Pe=!0),ht[1].type="lineEnding",je=ft}else if(!(ht[1].type==="linePrefix"||ht[1].type==="blockQuotePrefix"||ht[1].type==="blockQuotePrefixWhitespace"||ht[1].type==="blockQuoteMarker"||ht[1].type==="listItemIndent"))break}Je&&(!je||Je<je)&&(dt._spread=!0),dt.end=Object.assign({},je?_[je][1].start:We[1].end),_.splice(je||q,0,["exit",dt,We[2]]),q++,I++}if(We[1].type==="listItemPrefix"){let ft={type:"listItem",_spread:!1,start:Object.assign({},We[1].start),end:void 0};dt=ft,_.splice(q,0,["enter",ft,We[2]]),q++,I++,Je=void 0,vt=!0}}}return _[M][1]._spread=Pe,I}function o(_,M){return I;function I(q){u.call(this,_(q),q),M&&M.call(this,q)}}function l(){this.stack.push({type:"fragment",children:[]})}function u(_,M,I){this.stack[this.stack.length-1].children.push(_),this.stack.push(_),this.tokenStack.push([M,I||void 0]),_.position={start:on(M.start),end:void 0}}function d(_){return M;function M(I){_&&_.call(this,I),p.call(this,I)}}function p(_,M){let I=this.stack.pop(),q=this.tokenStack.pop();if(q)q[0].type!==_.type&&(M?M.call(this,_,q[0]):(q[1]||Ic).call(this,_,q[0]));else throw new Error("Cannot close `"+_.type+"` ("+sn({start:_.start,end:_.end})+"): it\u2019s not open");I.position.end=on(_.end)}function h(){return En(this.stack.pop())}function m(){this.data.expectingFirstListItemValue=!0}function w(_){if(this.data.expectingFirstListItemValue){let M=this.stack[this.stack.length-2];M.start=Number.parseInt(this.sliceSerialize(_),10),this.data.expectingFirstListItemValue=void 0}}function y(){let _=this.resume(),M=this.stack[this.stack.length-1];M.lang=_}function x(){let _=this.resume(),M=this.stack[this.stack.length-1];M.meta=_}function P(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function S(){let _=this.resume(),M=this.stack[this.stack.length-1];M.value=_.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function C(){let _=this.resume(),M=this.stack[this.stack.length-1];M.value=_.replace(/(\r?\n|\r)$/g,"")}function T(_){let M=this.resume(),I=this.stack[this.stack.length-1];I.label=M,I.identifier=$t(this.sliceSerialize(_)).toLowerCase()}function F(){let _=this.resume(),M=this.stack[this.stack.length-1];M.title=_}function B(){let _=this.resume(),M=this.stack[this.stack.length-1];M.url=_}function Y(_){let M=this.stack[this.stack.length-1];if(!M.depth){let I=this.sliceSerialize(_).length;M.depth=I}}function E(){this.data.setextHeadingSlurpLineEnding=!0}function Q(_){let M=this.stack[this.stack.length-1];M.depth=this.sliceSerialize(_).codePointAt(0)===61?1:2}function j(){this.data.setextHeadingSlurpLineEnding=void 0}function G(_){let I=this.stack[this.stack.length-1].children,q=I[I.length-1];(!q||q.type!=="text")&&(q=Ne(),q.position={start:on(_.start),end:void 0},I.push(q)),this.stack.push(q)}function ne(_){let M=this.stack.pop();M.value+=this.sliceSerialize(_),M.position.end=on(_.end)}function ae(_){let M=this.stack[this.stack.length-1];if(this.data.atHardBreak){let I=M.children[M.children.length-1];I.position.end=on(_.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(M.type)&&(G.call(this,_),ne.call(this,_))}function X(){this.data.atHardBreak=!0}function N(){let _=this.resume(),M=this.stack[this.stack.length-1];M.value=_}function U(){let _=this.resume(),M=this.stack[this.stack.length-1];M.value=_}function V(){let _=this.resume(),M=this.stack[this.stack.length-1];M.value=_}function ee(){let _=this.stack[this.stack.length-1];if(this.data.inReference){let M=this.data.referenceType||"shortcut";_.type+="Reference",_.referenceType=M,delete _.url,delete _.title}else delete _.identifier,delete _.label;this.data.referenceType=void 0}function ce(){let _=this.stack[this.stack.length-1];if(this.data.inReference){let M=this.data.referenceType||"shortcut";_.type+="Reference",_.referenceType=M,delete _.url,delete _.title}else delete _.identifier,delete _.label;this.data.referenceType=void 0}function he(_){let M=this.sliceSerialize(_),I=this.stack[this.stack.length-2];I.label=ns(M),I.identifier=$t(M).toLowerCase()}function $e(){let _=this.stack[this.stack.length-1],M=this.resume(),I=this.stack[this.stack.length-1];if(this.data.inReference=!0,I.type==="link"){let q=_.children;I.children=q}else I.alt=M}function v(){let _=this.resume(),M=this.stack[this.stack.length-1];M.url=_}function Te(){let _=this.resume(),M=this.stack[this.stack.length-1];M.title=_}function Fe(){this.data.inReference=void 0}function k(){this.data.referenceType="collapsed"}function Le(_){let M=this.resume(),I=this.stack[this.stack.length-1];I.label=M,I.identifier=$t(this.sliceSerialize(_)).toLowerCase(),this.data.referenceType="full"}function Mt(_){this.data.characterReferenceType=_.type}function Zt(_){let M=this.sliceSerialize(_),I=this.data.characterReferenceType,q;I?(q=$i(M,I==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):q=tr(M);let re=this.stack[this.stack.length-1];re.value+=q}function fn(_){let M=this.stack.pop();M.position.end=on(_.end)}function we(_){ne.call(this,_);let M=this.stack[this.stack.length-1];M.url=this.sliceSerialize(_)}function hn(_){ne.call(this,_);let M=this.stack[this.stack.length-1];M.url="mailto:"+this.sliceSerialize(_)}function ct(){return{type:"blockquote",children:[]}}function It(){return{type:"code",lang:null,meta:null,value:""}}function Qt(){return{type:"inlineCode",value:""}}function wr(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ho(){return{type:"emphasis",children:[]}}function ni(){return{type:"heading",depth:0,children:[]}}function ri(){return{type:"break"}}function ii(){return{type:"html",value:""}}function si(){return{type:"image",title:null,url:"",alt:null}}function Re(){return{type:"link",title:null,url:"",children:[]}}function Ln(_){return{type:"list",ordered:_.type==="listOrdered",start:null,spread:_._spread,children:[]}}function po(_){return{type:"listItem",spread:_._spread,checked:null,children:[]}}function mo(){return{type:"paragraph",children:[]}}function oi(){return{type:"strong",children:[]}}function Ne(){return{type:"text",value:""}}function ai(){return{type:"thematicBreak"}}}function on(t){return{line:t.line,column:t.column,offset:t.offset}}function Lc(t,e){let n=-1;for(;++n<e.length;){let r=e[n];Array.isArray(r)?Lc(t,r):$w(t,r)}}function $w(t,e){let n;for(n in e)if(Oc.call(e,n))switch(n){case"canContainEols":{let r=e[n];r&&t[n].push(...r);break}case"transforms":{let r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{let r=e[n];r&&Object.assign(t[n],r);break}}}function Ic(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+sn({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+sn({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+sn({start:e.start,end:e.end})+") is still open")}function ir(t){let e=this;e.parser=n;function n(r){return ka(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}var Rc={}.hasOwnProperty;function Nc(t,e){let n=e||{};function r(s,...o){let l=r.invalid,u=r.handlers;if(s&&Rc.call(s,t)){let d=String(s[t]);l=Rc.call(u,d)?u[d]:r.unknown}if(l)return l.call(this,s,...o)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}var jw={}.hasOwnProperty;function ba(t,e){let n=-1,r;if(e.extensions)for(;++n<e.extensions.length;)ba(t,e.extensions[n]);for(r in e)if(jw.call(e,r))switch(r){case"extensions":break;case"unsafe":{Wc(t[r],e[r]);break}case"join":{Wc(t[r],e[r]);break}case"handlers":{Gw(t[r],e[r]);break}default:t.options[r]=e[r]}return t}function Wc(t,e){e&&t.push(...e)}function Gw(t,e){e&&Object.assign(t,e)}function Bc(t,e,n,r){let s=n.enter("blockquote"),o=n.createTracker(r);o.move("> "),o.shift(2);let l=n.indentLines(n.containerFlow(t,o.current()),qw);return s(),l}function qw(t,e,n){return">"+(n?"":" ")+t}function rs(t,e){return Yc(t,e.inConstruct,!0)&&!Yc(t,e.notInConstruct,!1)}function Yc(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let r=-1;for(;++r<e.length;)if(t.includes(e[r]))return!0;return!1}function va(t,e,n,r){let s=-1;for(;++s<n.unsafe.length;)if(n.unsafe[s].character===`
`&&rs(n.stack,n.unsafe[s]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function Vc(t,e){let n=String(t),r=n.indexOf(e),s=r,o=0,l=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===s?++o>l&&(l=o):o=1,s=r+e.length,r=n.indexOf(e,s);return l}function zr(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function zc(t){let e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function Uc(t,e,n,r){let s=zc(n),o=t.value||"",l=s==="`"?"GraveAccent":"Tilde";if(zr(t,n)){let m=n.enter("codeIndented"),w=n.indentLines(o,Kw);return m(),w}let u=n.createTracker(r),d=s.repeat(Math.max(Vc(o,s)+1,3)),p=n.enter("codeFenced"),h=u.move(d);if(t.lang){let m=n.enter(`codeFencedLang${l}`);h+=u.move(n.safe(t.lang,{before:h,after:" ",encode:["`"],...u.current()})),m()}if(t.lang&&t.meta){let m=n.enter(`codeFencedMeta${l}`);h+=u.move(" "),h+=u.move(n.safe(t.meta,{before:h,after:`
`,encode:["`"],...u.current()})),m()}return h+=u.move(`
`),o&&(h+=u.move(o+`
`)),h+=u.move(d),p(),h}function Kw(t,e,n){return(n?"":"    ")+t}function sr(t){let e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function Hc(t,e,n,r){let s=sr(n),o=s==='"'?"Quote":"Apostrophe",l=n.enter("definition"),u=n.enter("label"),d=n.createTracker(r),p=d.move("[");return p+=d.move(n.safe(n.associationId(t),{before:p,after:"]",...d.current()})),p+=d.move("]: "),u(),!t.url||/[\0- \u007F]/.test(t.url)?(u=n.enter("destinationLiteral"),p+=d.move("<"),p+=d.move(n.safe(t.url,{before:p,after:">",...d.current()})),p+=d.move(">")):(u=n.enter("destinationRaw"),p+=d.move(n.safe(t.url,{before:p,after:t.title?" ":`
`,...d.current()}))),u(),t.title&&(u=n.enter(`title${o}`),p+=d.move(" "+s),p+=d.move(n.safe(t.title,{before:p,after:s,...d.current()})),p+=d.move(s),u()),l(),p}function $c(t){let e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function Ze(t){return"&#x"+t.toString(16).toUpperCase()+";"}function or(t,e,n){let r=nr(t),s=nr(e);return r===void 0?s===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:s===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?s===void 0?{inside:!1,outside:!1}:s===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:s===void 0?{inside:!1,outside:!1}:s===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}xa.peek=Zw;function xa(t,e,n,r){let s=$c(n),o=n.enter("emphasis"),l=n.createTracker(r),u=l.move(s),d=l.move(n.containerPhrasing(t,{after:s,before:u,...l.current()})),p=d.charCodeAt(0),h=or(r.before.charCodeAt(r.before.length-1),p,s);h.inside&&(d=Ze(p)+d.slice(1));let m=d.charCodeAt(d.length-1),w=or(r.after.charCodeAt(0),m,s);w.inside&&(d=d.slice(0,-1)+Ze(m));let y=l.move(s);return o(),n.attentionEncodeSurroundingInfo={after:w.outside,before:h.outside},u+d+y}function Zw(t,e,n){return n.options.emphasis||"*"}var ar=function(t){if(t==null)return ey;if(typeof t=="function")return is(t);if(typeof t=="object")return Array.isArray(t)?Qw(t):Jw(t);if(typeof t=="string")return Xw(t);throw new Error("Expected function, string, or object as test")};function Qw(t){let e=[],n=-1;for(;++n<t.length;)e[n]=ar(t[n]);return is(r);function r(...s){let o=-1;for(;++o<e.length;)if(e[o].apply(this,s))return!0;return!1}}function Jw(t){let e=t;return is(n);function n(r){let s=r,o;for(o in t)if(s[o]!==e[o])return!1;return!0}}function Xw(t){return is(e);function e(n){return n&&n.type===t}}function is(t){return e;function e(n,r,s){return!!(ty(n)&&t.call(this,n,typeof r=="number"?r:void 0,s||void 0))}}function ey(){return!0}function ty(t){return t!==null&&typeof t=="object"&&"type"in t}function jc(t){return"\x1B[33m"+t+"\x1B[39m"}var Gc=[],ss=!0,Fn=!1,os="skip";function Ca(t,e,n,r){let s;typeof e=="function"&&typeof n!="function"?(r=n,n=e):s=e;let o=ar(s),l=r?-1:1;u(t,void 0,[])();function u(d,p,h){let m=d&&typeof d=="object"?d:{};if(typeof m.type=="string"){let y=typeof m.tagName=="string"?m.tagName:typeof m.name=="string"?m.name:void 0;Object.defineProperty(w,"name",{value:"node ("+jc(d.type+(y?"<"+y+">":""))+")"})}return w;function w(){let y=Gc,x,P,S;if((!e||o(d,p,h[h.length-1]||void 0))&&(y=ny(n(d,h)),y[0]===Fn))return y;if("children"in d&&d.children){let C=d;if(C.children&&y[0]!==os)for(P=(r?C.children.length:-1)+l,S=h.concat(C);P>-1&&P<C.children.length;){let T=C.children[P];if(x=u(T,P,S)(),x[0]===Fn)return x;P=typeof x[1]=="number"?x[1]:P+l}}return y}}}function ny(t){return Array.isArray(t)?t:typeof t=="number"?[ss,t]:t==null?Gc:[t]}function Ur(t,e,n,r){let s,o,l;typeof e=="function"&&typeof n!="function"?(o=void 0,l=e,s=n):(o=e,l=n,s=r),Ca(t,o,u,s);function u(d,p){let h=p[p.length-1],m=h?h.children.indexOf(d):void 0;return l(d,m,h)}}function as(t,e){let n=!1;return Ur(t,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,Fn}),!!((!t.depth||t.depth<3)&&En(t)&&(e.options.setext||n))}function qc(t,e,n,r){let s=Math.max(Math.min(6,t.depth||1),1),o=n.createTracker(r);if(as(t,n)){let h=n.enter("headingSetext"),m=n.enter("phrasing"),w=n.containerPhrasing(t,{...o.current(),before:`
`,after:`
`});return m(),h(),w+`
`+(s===1?"=":"-").repeat(w.length-(Math.max(w.lastIndexOf("\r"),w.lastIndexOf(`
`))+1))}let l="#".repeat(s),u=n.enter("headingAtx"),d=n.enter("phrasing");o.move(l+" ");let p=n.containerPhrasing(t,{before:"# ",after:`
`,...o.current()});return/^[\t ]/.test(p)&&(p=Ze(p.charCodeAt(0))+p.slice(1)),p=p?l+" "+p:l,n.options.closeAtx&&(p+=" "+l),d(),u(),p}Aa.peek=ry;function Aa(t){return t.value||""}function ry(){return"<"}Ea.peek=iy;function Ea(t,e,n,r){let s=sr(n),o=s==='"'?"Quote":"Apostrophe",l=n.enter("image"),u=n.enter("label"),d=n.createTracker(r),p=d.move("![");return p+=d.move(n.safe(t.alt,{before:p,after:"]",...d.current()})),p+=d.move("]("),u(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(u=n.enter("destinationLiteral"),p+=d.move("<"),p+=d.move(n.safe(t.url,{before:p,after:">",...d.current()})),p+=d.move(">")):(u=n.enter("destinationRaw"),p+=d.move(n.safe(t.url,{before:p,after:t.title?" ":")",...d.current()}))),u(),t.title&&(u=n.enter(`title${o}`),p+=d.move(" "+s),p+=d.move(n.safe(t.title,{before:p,after:s,...d.current()})),p+=d.move(s),u()),p+=d.move(")"),l(),p}function iy(){return"!"}Sa.peek=sy;function Sa(t,e,n,r){let s=t.referenceType,o=n.enter("imageReference"),l=n.enter("label"),u=n.createTracker(r),d=u.move("!["),p=n.safe(t.alt,{before:d,after:"]",...u.current()});d+=u.move(p+"]["),l();let h=n.stack;n.stack=[],l=n.enter("reference");let m=n.safe(n.associationId(t),{before:d,after:"]",...u.current()});return l(),n.stack=h,o(),s==="full"||!p||p!==m?d+=u.move(m+"]"):s==="shortcut"?d=d.slice(0,-1):d+=u.move("]"),d}function sy(){return"!"}_a.peek=oy;function _a(t,e,n){let r=t.value||"",s="`",o=-1;for(;new RegExp("(^|[^`])"+s+"([^`]|$)").test(r);)s+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++o<n.unsafe.length;){let l=n.unsafe[o],u=n.compilePattern(l),d;if(l.atBreak)for(;d=u.exec(r);){let p=d.index;r.charCodeAt(p)===10&&r.charCodeAt(p-1)===13&&p--,r=r.slice(0,p)+" "+r.slice(d.index+1)}}return s+r+s}function oy(){return"`"}function Ta(t,e){let n=En(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}Fa.peek=ay;function Fa(t,e,n,r){let s=sr(n),o=s==='"'?"Quote":"Apostrophe",l=n.createTracker(r),u,d;if(Ta(t,n)){let h=n.stack;n.stack=[],u=n.enter("autolink");let m=l.move("<");return m+=l.move(n.containerPhrasing(t,{before:m,after:">",...l.current()})),m+=l.move(">"),u(),n.stack=h,m}u=n.enter("link"),d=n.enter("label");let p=l.move("[");return p+=l.move(n.containerPhrasing(t,{before:p,after:"](",...l.current()})),p+=l.move("]("),d(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(d=n.enter("destinationLiteral"),p+=l.move("<"),p+=l.move(n.safe(t.url,{before:p,after:">",...l.current()})),p+=l.move(">")):(d=n.enter("destinationRaw"),p+=l.move(n.safe(t.url,{before:p,after:t.title?" ":")",...l.current()}))),d(),t.title&&(d=n.enter(`title${o}`),p+=l.move(" "+s),p+=l.move(n.safe(t.title,{before:p,after:s,...l.current()})),p+=l.move(s),d()),p+=l.move(")"),u(),p}function ay(t,e,n){return Ta(t,n)?"<":"["}Pa.peek=ly;function Pa(t,e,n,r){let s=t.referenceType,o=n.enter("linkReference"),l=n.enter("label"),u=n.createTracker(r),d=u.move("["),p=n.containerPhrasing(t,{before:d,after:"]",...u.current()});d+=u.move(p+"]["),l();let h=n.stack;n.stack=[],l=n.enter("reference");let m=n.safe(n.associationId(t),{before:d,after:"]",...u.current()});return l(),n.stack=h,o(),s==="full"||!p||p!==m?d+=u.move(m+"]"):s==="shortcut"?d=d.slice(0,-1):d+=u.move("]"),d}function ly(){return"["}function lr(t){let e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function Kc(t){let e=lr(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function Zc(t){let e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function ls(t){let e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function Qc(t,e,n,r){let s=n.enter("list"),o=n.bulletCurrent,l=t.ordered?Zc(n):lr(n),u=t.ordered?l==="."?")":".":Kc(n),d=e&&n.bulletLastUsed?l===n.bulletLastUsed:!1;if(!t.ordered){let h=t.children?t.children[0]:void 0;if((l==="*"||l==="-")&&h&&(!h.children||!h.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(d=!0),ls(n)===l&&h){let m=-1;for(;++m<t.children.length;){let w=t.children[m];if(w&&w.type==="listItem"&&w.children&&w.children[0]&&w.children[0].type==="thematicBreak"){d=!0;break}}}}d&&(l=u),n.bulletCurrent=l;let p=n.containerFlow(t,r);return n.bulletLastUsed=l,n.bulletCurrent=o,s(),p}function Jc(t){let e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function Xc(t,e,n,r){let s=Jc(n),o=n.bulletCurrent||lr(n);e&&e.type==="list"&&e.ordered&&(o=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+o);let l=o.length+1;(s==="tab"||s==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(l=Math.ceil(l/4)*4);let u=n.createTracker(r);u.move(o+" ".repeat(l-o.length)),u.shift(l);let d=n.enter("listItem"),p=n.indentLines(n.containerFlow(t,u.current()),h);return d(),p;function h(m,w,y){return w?(y?"":" ".repeat(l))+m:(y?o:o+" ".repeat(l-o.length))+m}}function ed(t,e,n,r){let s=n.enter("paragraph"),o=n.enter("phrasing"),l=n.containerPhrasing(t,r);return o(),s(),l}var Da=ar(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function td(t,e,n,r){return(t.children.some(function(l){return Da(l)})?n.containerPhrasing:n.containerFlow).call(n,t,r)}function nd(t){let e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}Ma.peek=uy;function Ma(t,e,n,r){let s=nd(n),o=n.enter("strong"),l=n.createTracker(r),u=l.move(s+s),d=l.move(n.containerPhrasing(t,{after:s,before:u,...l.current()})),p=d.charCodeAt(0),h=or(r.before.charCodeAt(r.before.length-1),p,s);h.inside&&(d=Ze(p)+d.slice(1));let m=d.charCodeAt(d.length-1),w=or(r.after.charCodeAt(0),m,s);w.inside&&(d=d.slice(0,-1)+Ze(m));let y=l.move(s+s);return o(),n.attentionEncodeSurroundingInfo={after:w.outside,before:h.outside},u+d+y}function uy(t,e,n){return n.options.strong||"*"}function rd(t,e,n,r){return n.safe(t.value,r)}function id(t){let e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function sd(t,e,n){let r=(ls(n)+(n.options.ruleSpaces?" ":"")).repeat(id(n));return n.options.ruleSpaces?r.slice(0,-1):r}var od={blockquote:Bc,break:va,code:Uc,definition:Hc,emphasis:xa,hardBreak:va,heading:qc,html:Aa,image:Ea,imageReference:Sa,inlineCode:_a,link:Fa,linkReference:Pa,list:Qc,listItem:Xc,paragraph:ed,root:td,strong:Ma,text:rd,thematicBreak:sd};var ad=[cy];function cy(t,e,n,r){if(e.type==="code"&&zr(e,r)&&(t.type==="list"||t.type===e.type&&zr(t,r)))return!1;if("spread"in n&&typeof n.spread=="boolean")return t.type==="paragraph"&&(t.type===e.type||e.type==="definition"||e.type==="heading"&&as(e,r))?void 0:n.spread?1:0}var Pn=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"],ld=[{character:"	",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",before:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"\r",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:`
`,inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:" ",after:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",before:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"!",after:"\\[",inConstruct:"phrasing",notInConstruct:Pn},{character:'"',inConstruct:"titleQuote"},{atBreak:!0,character:"#"},{character:"#",inConstruct:"headingAtx",after:`(?:[\r
]|$)`},{character:"&",after:"[#A-Za-z]",inConstruct:"phrasing"},{character:"'",inConstruct:"titleApostrophe"},{character:"(",inConstruct:"destinationRaw"},{before:"\\]",character:"(",inConstruct:"phrasing",notInConstruct:Pn},{atBreak:!0,before:"\\d+",character:")"},{character:")",inConstruct:"destinationRaw"},{atBreak:!0,character:"*",after:`(?:[ 	\r
*])`},{character:"*",inConstruct:"phrasing",notInConstruct:Pn},{atBreak:!0,character:"+",after:`(?:[ 	\r
])`},{atBreak:!0,character:"-",after:`(?:[ 	\r
-])`},{atBreak:!0,before:"\\d+",character:".",after:`(?:[ 	\r
]|$)`},{atBreak:!0,character:"<",after:"[!/?A-Za-z]"},{character:"<",after:"[!/?A-Za-z]",inConstruct:"phrasing",notInConstruct:Pn},{character:"<",inConstruct:"destinationLiteral"},{atBreak:!0,character:"="},{atBreak:!0,character:">"},{character:">",inConstruct:"destinationLiteral"},{atBreak:!0,character:"["},{character:"[",inConstruct:"phrasing",notInConstruct:Pn},{character:"[",inConstruct:["label","reference"]},{character:"\\",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"]",inConstruct:["label","reference"]},{atBreak:!0,character:"_"},{character:"_",inConstruct:"phrasing",notInConstruct:Pn},{atBreak:!0,character:"`"},{character:"`",inConstruct:["codeFencedLangGraveAccent","codeFencedMetaGraveAccent"]},{character:"`",inConstruct:"phrasing",notInConstruct:Pn},{atBreak:!0,character:"~"}];function ud(t){return t.label||!t.identifier?t.label||"":ns(t.identifier)}function cd(t){if(!t._compiled){let e=(t.atBreak?"[\\r\\n][\\t ]*":"")+(t.before?"(?:"+t.before+")":"");t._compiled=new RegExp((e?"("+e+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(t.character)?"\\":"")+t.character+(t.after?"(?:"+t.after+")":""),"g")}return t._compiled}function dd(t,e,n){let r=e.indexStack,s=t.children||[],o=[],l=-1,u=n.before,d;r.push(-1);let p=e.createTracker(n);for(;++l<s.length;){let h=s[l],m;if(r[r.length-1]=l,l+1<s.length){let x=e.handle.handlers[s[l+1].type];x&&x.peek&&(x=x.peek),m=x?x(s[l+1],t,e,{before:"",after:"",...p.current()}).charAt(0):""}else m=n.after;o.length>0&&(u==="\r"||u===`
`)&&h.type==="html"&&(o[o.length-1]=o[o.length-1].replace(/(\r?\n|\r)$/," "),u=" ",p=e.createTracker(n),p.move(o.join("")));let w=e.handle(h,t,e,{...p.current(),after:m,before:u});d&&d===w.slice(0,1)&&(w=Ze(d.charCodeAt(0))+w.slice(1));let y=e.attentionEncodeSurroundingInfo;e.attentionEncodeSurroundingInfo=void 0,d=void 0,y&&(o.length>0&&y.before&&u===o[o.length-1].slice(-1)&&(o[o.length-1]=o[o.length-1].slice(0,-1)+Ze(u.charCodeAt(0))),y.after&&(d=m)),p.move(w),o.push(w),u=w.slice(-1)}return r.pop(),o.join("")}function fd(t,e,n){let r=e.indexStack,s=t.children||[],o=e.createTracker(n),l=[],u=-1;for(r.push(-1);++u<s.length;){let d=s[u];r[r.length-1]=u,l.push(o.move(e.handle(d,t,e,{before:`
`,after:`
`,...o.current()}))),d.type!=="list"&&(e.bulletLastUsed=void 0),u<s.length-1&&l.push(o.move(dy(d,s[u+1],t,e)))}return r.pop(),l.join("")}function dy(t,e,n,r){let s=r.join.length;for(;s--;){let o=r.join[s](t,e,n,r);if(o===!0||o===1)break;if(typeof o=="number")return`
`.repeat(1+o);if(o===!1)return`

<!---->

`}return`

`}var fy=/\r?\n|\r/g;function hd(t,e){let n=[],r=0,s=0,o;for(;o=fy.exec(t);)l(t.slice(r,o.index)),n.push(o[0]),r=o.index+o[0].length,s++;return l(t.slice(r)),n.join("");function l(u){n.push(e(u,s,!u))}}function md(t,e,n){let r=(n.before||"")+(e||"")+(n.after||""),s=[],o=[],l={},u=-1;for(;++u<t.unsafe.length;){let h=t.unsafe[u];if(!rs(t.stack,h))continue;let m=t.compilePattern(h),w;for(;w=m.exec(r);){let y="before"in h||!!h.atBreak,x="after"in h,P=w.index+(y?w[1].length:0);s.includes(P)?(l[P].before&&!y&&(l[P].before=!1),l[P].after&&!x&&(l[P].after=!1)):(s.push(P),l[P]={before:y,after:x})}}s.sort(hy);let d=n.before?n.before.length:0,p=r.length-(n.after?n.after.length:0);for(u=-1;++u<s.length;){let h=s[u];h<d||h>=p||h+1<p&&s[u+1]===h+1&&l[h].after&&!l[h+1].before&&!l[h+1].after||s[u-1]===h-1&&l[h].before&&!l[h-1].before&&!l[h-1].after||(d!==h&&o.push(pd(r.slice(d,h),"\\")),d=h,/[!-/:-@[-`{-~]/.test(r.charAt(h))&&(!n.encode||!n.encode.includes(r.charAt(h)))?o.push("\\"):(o.push(Ze(r.charCodeAt(h))),d++))}return o.push(pd(r.slice(d,p),n.after)),o.join("")}function hy(t,e){return t-e}function pd(t,e){let n=/\\(?=[!-/:-@[-`{-~])/g,r=[],s=[],o=t+e,l=-1,u=0,d;for(;d=n.exec(o);)r.push(d.index);for(;++l<r.length;)u!==r[l]&&s.push(t.slice(u,r[l])),s.push("\\"),u=r[l];return s.push(t.slice(u)),s.join("")}function gd(t){let e=t||{},n=e.now||{},r=e.lineShift||0,s=n.line||1,o=n.column||1;return{move:d,current:l,shift:u};function l(){return{now:{line:s,column:o},lineShift:r}}function u(p){r+=p}function d(p){let h=p||"",m=h.split(/\r?\n|\r/g),w=m[m.length-1];return s+=m.length-1,o=m.length===1?o+w.length:1+w.length+r,h}}function Ia(t,e){let n=e||{},r={associationId:ud,containerPhrasing:wy,containerFlow:yy,createTracker:gd,compilePattern:cd,enter:o,handlers:{...od},handle:void 0,indentLines:hd,indexStack:[],join:[...ad],options:{},safe:ky,stack:[],unsafe:[...ld]};ba(r,n),r.options.tightDefinitions&&r.join.push(gy),r.handle=Nc("type",{invalid:py,unknown:my,handlers:r.handlers});let s=r.handle(t,void 0,r,{before:`
`,after:`
`,now:{line:1,column:1},lineShift:0});return s&&s.charCodeAt(s.length-1)!==10&&s.charCodeAt(s.length-1)!==13&&(s+=`
`),s;function o(l){return r.stack.push(l),u;function u(){r.stack.pop()}}}function py(t){throw new Error("Cannot handle value `"+t+"`, expected node")}function my(t){let e=t;throw new Error("Cannot handle unknown node `"+e.type+"`")}function gy(t,e){if(t.type==="definition"&&t.type===e.type)return 0}function wy(t,e){return dd(t,this,e)}function yy(t,e){return fd(t,this,e)}function ky(t,e){return md(this,t,e)}function us(t){let e=this;e.compiler=n;function n(r){return Ia(r,{...e.data("settings"),...t,extensions:e.data("toMarkdownExtensions")||[]})}}function Oa(t){if(t)throw t}var hs=et(Ed(),1);function Hr(t){if(typeof t!="object"||t===null)return!1;let e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function La(){let t=[],e={run:n,use:r};return e;function n(...s){let o=-1,l=s.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);u(null,...s);function u(d,...p){let h=t[++o],m=-1;if(d){l(d);return}for(;++m<s.length;)(p[m]===null||p[m]===void 0)&&(p[m]=s[m]);s=p,h?Sd(h,u)(...p):l(null,...p)}}function r(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return t.push(s),e}}function Sd(t,e){let n;return r;function r(...l){let u=t.length>l.length,d;u&&l.push(s);try{d=t.apply(this,l)}catch(p){let h=p;if(u&&n)throw h;return s(h)}u||(d&&d.then&&typeof d.then=="function"?d.then(o,s):d instanceof Error?s(d):o(d))}function s(l,...u){n||(n=!0,e(l,...u))}function o(l){s(null,l)}}var Ae=class extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let s="",o={},l=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof e=="string"?s=e:!o.cause&&e&&(l=!0,s=e.message,o.cause=e),!o.ruleId&&!o.source&&typeof r=="string"){let d=r.indexOf(":");d===-1?o.ruleId=r:(o.source=r.slice(0,d),o.ruleId=r.slice(d+1))}if(!o.place&&o.ancestors&&o.ancestors){let d=o.ancestors[o.ancestors.length-1];d&&(o.place=d.position)}let u=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=u?u.column:void 0,this.fatal=void 0,this.file,this.message=s,this.line=u?u.line:void 0,this.name=sn(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=l&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual,this.expected,this.note,this.url}};Ae.prototype.file="";Ae.prototype.name="";Ae.prototype.reason="";Ae.prototype.message="";Ae.prototype.stack="";Ae.prototype.column=void 0;Ae.prototype.line=void 0;Ae.prototype.ancestors=void 0;Ae.prototype.cause=void 0;Ae.prototype.fatal=void 0;Ae.prototype.place=void 0;Ae.prototype.ruleId=void 0;Ae.prototype.source=void 0;var at=et(require("node:path"),1);var Ra=et(require("node:process"),1);var Na=require("node:url");function ds(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}var Wa=["history","path","basename","stem","extname","dirname"],$r=class{constructor(e){let n;e?ds(e)?n={path:e}:typeof e=="string"||by(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":Ra.default.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Wa.length;){let o=Wa[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let s;for(s in n)Wa.includes(s)||(this[s]=n[s])}get basename(){return typeof this.path=="string"?at.default.basename(this.path):void 0}set basename(e){Ya(e,"basename"),Ba(e,"basename"),this.path=at.default.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?at.default.dirname(this.path):void 0}set dirname(e){_d(this.basename,"dirname"),this.path=at.default.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?at.default.extname(this.path):void 0}set extname(e){if(Ba(e,"extname"),_d(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=at.default.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){ds(e)&&(e=(0,Na.fileURLToPath)(e)),Ya(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?at.default.basename(this.path,this.extname):void 0}set stem(e){Ya(e,"stem"),Ba(e,"stem"),this.path=at.default.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){let s=this.message(e,n,r);throw s.fatal=!0,s}info(e,n,r){let s=this.message(e,n,r);return s.fatal=void 0,s}message(e,n,r){let s=new Ae(e,n,r);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}};function Ba(t,e){if(t&&t.includes(at.default.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+at.default.sep+"`")}function Ya(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function _d(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function by(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}var Td=function(t){let r=this.constructor.prototype,s=r[t],o=function(){return s.apply(o,arguments)};return Object.setPrototypeOf(o,r),o};var vy={}.hasOwnProperty,Ha=class t extends Td{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=La()}copy(){let e=new t,n=-1;for(;++n<this.attachers.length;){let r=this.attachers[n];e.use(...r)}return e.data((0,hs.default)(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(Ua("data",this.frozen),this.namespace[e]=n,this):vy.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Ua("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;let e=this;for(;++this.freezeIndex<this.attachers.length;){let[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);let s=n.call(e,...r);typeof s=="function"&&this.transformers.use(s)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();let n=fs(e),r=this.parser||this.Parser;return Va("parse",r),r(String(n),n)}process(e,n){let r=this;return this.freeze(),Va("process",this.parser||this.Parser),za("process",this.compiler||this.Compiler),n?s(void 0,n):new Promise(s);function s(o,l){let u=fs(e),d=r.parse(u);r.run(d,u,function(h,m,w){if(h||!m||!w)return p(h);let y=m,x=r.stringify(y,w);Cy(x)?w.value=x:w.result=x,p(h,w)});function p(h,m){h||!m?l(h):o?o(m):n(void 0,m)}}}processSync(e){let n=!1,r;return this.freeze(),Va("processSync",this.parser||this.Parser),za("processSync",this.compiler||this.Compiler),this.process(e,s),Pd("processSync","process",n),r;function s(o,l){n=!0,Oa(o),r=l}}run(e,n,r){Fd(e),this.freeze();let s=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(l,u){let d=fs(n);s.run(e,d,p);function p(h,m,w){let y=m||e;h?u(h):l?l(y):r(void 0,y,w)}}}runSync(e,n){let r=!1,s;return this.run(e,n,o),Pd("runSync","run",r),s;function o(l,u){Oa(l),s=u,r=!0}}stringify(e,n){this.freeze();let r=fs(n),s=this.compiler||this.Compiler;return za("stringify",s),Fd(e),s(e,r)}use(e,...n){let r=this.attachers,s=this.namespace;if(Ua("use",this.frozen),e!=null)if(typeof e=="function")d(e,n);else if(typeof e=="object")Array.isArray(e)?u(e):l(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function o(p){if(typeof p=="function")d(p,[]);else if(typeof p=="object")if(Array.isArray(p)){let[h,...m]=p;d(h,m)}else l(p);else throw new TypeError("Expected usable value, not `"+p+"`")}function l(p){if(!("plugins"in p)&&!("settings"in p))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");u(p.plugins),p.settings&&(s.settings=(0,hs.default)(!0,s.settings,p.settings))}function u(p){let h=-1;if(p!=null)if(Array.isArray(p))for(;++h<p.length;){let m=p[h];o(m)}else throw new TypeError("Expected a list of plugins, not `"+p+"`")}function d(p,h){let m=-1,w=-1;for(;++m<r.length;)if(r[m][0]===p){w=m;break}if(w===-1)r.push([p,...h]);else if(h.length>0){let[y,...x]=h,P=r[w][1];Hr(P)&&Hr(y)&&(y=(0,hs.default)(!0,P,y)),r[w]=[p,y,...x]}}}},$a=new Ha().freeze();function Va(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function za(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function Ua(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Fd(t){if(!Hr(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function Pd(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function fs(t){return xy(t)?t:new $r(t)}function xy(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function Cy(t){return typeof t=="string"||Ay(t)}function Ay(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}var Dd=$a().use(ir).use(us).freeze();var Ga={d:(t,e)=>{for(var n in e)Ga.o(e,n)&&!Ga.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)},qa={};Ga.d(qa,{Z:()=>Ty,$:()=>Ld});var ur={horizontalTab:-2,virtualSpace:-1,nul:0,eof:null,space:32};function Md(t){return t<ur.nul||t===ur.space}function ja(t){return t<ur.horizontalTab}var Ey={553:t=>{t.exports=function(e){var n,r;return e._compiled||(n=e.before?"(?:"+e.before+")":"",r=e.after?"(?:"+e.after+")":"",e.atBreak&&(n="[\\r\\n][\\t ]*"+n),e._compiled=new RegExp((n?"("+n+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(e.character)?"\\":"")+e.character+(r||""),"g")),e._compiled}},112:t=>{function e(n,r,s){var o;if(!r)return s;for(typeof r=="string"&&(r=[r]),o=-1;++o<r.length;)if(n.indexOf(r[o])!==-1)return!0;return!1}t.exports=function(n,r){return e(n,r.inConstruct,!0)&&!e(n,r.notInConstruct)}},113:(t,e,n)=>{t.exports=function(u,d,p){for(var h,m,w,y,x,P,S,C,T=(p.before||"")+(d||"")+(p.after||""),F=[],B=[],Y={},E=-1;++E<u.unsafe.length;)if(y=u.unsafe[E],s(u.stack,y))for(x=r(y);P=x.exec(T);)h="before"in y||y.atBreak,m="after"in y,w=P.index+(h?P[1].length:0),F.indexOf(w)===-1?(F.push(w),Y[w]={before:h,after:m}):(Y[w].before&&!h&&(Y[w].before=!1),Y[w].after&&!m&&(Y[w].after=!1));for(F.sort(o),S=p.before?p.before.length:0,C=T.length-(p.after?p.after.length:0),E=-1;++E<F.length;)(w=F[E])<S||w>=C||w+1<C&&F[E+1]===w+1&&Y[w].after&&!Y[w+1].before&&!Y[w+1].after||(S!==w&&B.push(l(T.slice(S,w),"\\")),S=w,!/[!-/:-@[-`{-~]/.test(T.charAt(w))||p.encode&&p.encode.indexOf(T.charAt(w))!==-1?(B.push("&#x"+T.charCodeAt(w).toString(16).toUpperCase()+";"),S++):B.push("\\"));return B.push(l(T.slice(S,C),p.after)),B.join("")};var r=n(553),s=n(112);function o(u,d){return u-d}function l(u,d){for(var p,h=/\\(?=[!-/:-@[-`{-~])/g,m=[],w=[],y=-1,x=0,P=u+d;p=h.exec(P);)m.push(p.index);for(;++y<m.length;)x!==m[y]&&w.push(u.slice(x,m[y])),w.push("\\"),x=m[y];return w.push(u.slice(x)),w.join("")}}},Id={};function Ft(t){var e=Id[t];if(e!==void 0)return e.exports;var n=Id[t]={exports:{}};return Ey[t](n,n.exports,Ft),n.exports}Ft.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return Ft.d(e,{a:e}),e},Ft.d=(t,e)=>{for(var n in e)Ft.o(e,n)&&!Ft.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},Ft.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var Ka={};(()=>{function t(s={}){let o=s.permalinks||[],l=s.pageResolver||(w=>[w.replace(/ /g,"_").toLowerCase()]),u=s.newClassName||"new",d=s.wikiLinkClassName||"internal",p=s.hrefTemplate||(w=>`#/page/${w}`),h;function m(w){return w[w.length-1]}return{enter:{wikiLink:function(w){h={type:"wikiLink",value:null,data:{alias:null,permalink:null,exists:null}},this.enter(h,w)}},exit:{wikiLinkTarget:function(w){let y=this.sliceSerialize(w);m(this.stack).value=y},wikiLinkAlias:function(w){let y=this.sliceSerialize(w);m(this.stack).data.alias=y},wikiLink:function(w){this.exit(w);let y=h,x=l(y.value),P=x.find(B=>o.indexOf(B)!==-1),S=P!==void 0,C;C=S?P:x[0]||"";let T=y.value;y.data.alias&&(T=y.data.alias);let F=d;S||(F+=" "+u),y.data.alias=T,y.data.permalink=C,y.data.exists=S,y.data.hName="a",y.data.hProperties={className:F,href:p(C)},y.data.hChildren=[{type:"text",value:T}]}}}}Ft.d(Ka,{V:()=>t,x:()=>r});var e=Ft(113),n=Ft.n(e);function r(s={}){let o=s.aliasDivider||":";return{unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]},{character:"]",inConstruct:["label","reference"]}],handlers:{wikiLink:function(l,u,d){let p=d.enter("wikiLink"),h=n()(d,l.value,{before:"[",after:"]"}),m=n()(d,l.data.alias,{before:"[",after:"]"}),w;return w=m!==h?`[[${h}${o}${m}]]`:`[[${h}]]`,p(),w}}}}})();var Sy=Ka.V,_y=Ka.x,Od=!1;function Ld(t={}){let e=this.data();function n(r,s){e[r]?e[r].push(s):e[r]=[s]}!Od&&(this.Parser&&this.Parser.prototype&&this.Parser.prototype.blockTokenizers||this.Compiler&&this.Compiler.prototype&&this.Compiler.prototype.visitors)&&(Od=!0,console.warn("[remark-wiki-link] Warning: please upgrade to remark 13 to use this plugin")),n("micromarkExtensions",function(){var r=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).aliasDivider||":",s="]]";return{text:{91:{tokenize:function(o,l,u){var d,p,h=0,m=0,w=0;return function(T){return T!=="[[".charCodeAt(m)?u(T):(o.enter("wikiLink"),o.enter("wikiLinkMarker"),y(T))};function y(T){return m===2?(o.exit("wikiLinkMarker"),function(F){return ja(F)||F===ur.eof?u(F):(o.enter("wikiLinkData"),o.enter("wikiLinkTarget"),x(F))}(T)):T!=="[[".charCodeAt(m)?u(T):(o.consume(T),m++,y)}function x(T){return T===r.charCodeAt(h)?d?(o.exit("wikiLinkTarget"),o.enter("wikiLinkAliasMarker"),P(T)):u(T):T===s.charCodeAt(w)?d?(o.exit("wikiLinkTarget"),o.exit("wikiLinkData"),o.enter("wikiLinkMarker"),C(T)):u(T):ja(T)||T===ur.eof?u(T):(Md(T)||(d=!0),o.consume(T),x)}function P(T){return h===r.length?(o.exit("wikiLinkAliasMarker"),o.enter("wikiLinkAlias"),S(T)):T!==r.charCodeAt(h)?u(T):(o.consume(T),h++,P)}function S(T){return T===s.charCodeAt(w)?p?(o.exit("wikiLinkAlias"),o.exit("wikiLinkData"),o.enter("wikiLinkMarker"),C(T)):u(T):ja(T)||T===ur.eof?u(T):(Md(T)||(p=!0),o.consume(T),S)}function C(T){return w===2?(o.exit("wikiLinkMarker"),o.exit("wikiLink"),l(T)):T!==s.charCodeAt(w)?u(T):(o.consume(T),w++,C)}}}}}}(t)),n("fromMarkdownExtensions",Sy(t)),n("toMarkdownExtensions",_y(t))}var Ty=Ld,LS=qa.Z,Rd=qa.$;(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Fy=/^[A-Za-z][A-Za-z0-9+\-.]*:\S+$/;function Za(t){if(/\s/.test(t))return!1;if(t.includes("://"))try{return new URL(t),!0}catch{return!1}return Fy.test(t)}var Dn=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();function ps(t){let e=(0,Dn.getFrontMatterInfo)(t);return(0,Dn.parseYaml)(e.frontmatter)??{}}function Nd(t,e){let n=(0,Dn.getFrontMatterInfo)(t);if(Object.keys(e).length===0)return t.slice(n.contentStart);let r=(0,Dn.stringifyYaml)(e);return n.exists?hu(t,r,n.from,n.to):`---
${r}---
${t}`}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();function Qe(t){if(!Ye(t))return!1;let e=t;return e.startOffset!==void 0&&e.endOffset!==void 0}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();function Wd(t){return Qa(t)&&t.type==="file"}function Qa(t){return Ye(t)&&!!t.isCanvas}function Mn(t,e){return{newContent:e,oldContent:t.original,reference:t}}function Bd(t){return t.sort((e,n)=>{if(Ye(e)&&Ye(n)){let r=Qe(e)?e.startOffset:0,s=Qe(n)?n.startOffset:0;return e.key.localeCompare(n.key)||Number(Qe(n))-Number(Qe(e))||r-s}return kt(e)&&kt(n)?e.position.start.offset-n.position.start.offset:Ye(e)?1:-1})}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();async function Yd(t,e,n){let r=ve(t,e),s=yt(n);await cr(t,s);let o=ms(t,n);try{await t.vault.copy(r,o)}catch(l){if(!await t.vault.exists(o))throw l}return o}async function cr(t,e){if(await t.vault.adapter.exists(e))return!1;try{return await t.vault.createFolder(e),!0}catch(n){if(!await t.vault.exists(e))throw n;return!0}}function ms(t,e){let n=tt(e);return t.vault.getAvailablePath(ge(se(e),Ve(e,n)),n.slice(1))}function dr(t){return t.vault.getMarkdownFiles().sort((e,n)=>e.path.localeCompare(n.path))}function Ja(t,e,n){let r=fe(t,e);if(t.vault.adapter.insensitive){let s=se(n),o=Ve(n),l;for(;l=bt(t,s,!0),!l;)o=ge(Ve(s),o),s=se(s);n=ge(l.getParentPrefix(),o)}return r.toLowerCase()===n.toLowerCase()?n:ms(t,n)}async function Xa(t,e){let n=await fr(t,fe(t,e));return n.files.length===0&&n.folders.length===0}async function fr(t,e){let n=fe(t,e),r={files:[],folders:[]};if((await t.vault.adapter.stat(n))?.type!=="folder")return r;try{return await t.vault.adapter.list(n)}catch(s){if(await t.vault.exists(n))throw s;return r}}async function Vd(t,e,n,r={}){let o={...{shouldFailOnMissingFile:!0},...r};await Li(async()=>{let l=await el(t,e);if(l===null)return h();let u=await Hn(n,l);if(u===null)return!1;let d=!0;if(!await zd(t,e,async m=>{await t.vault.process(m,w=>w!==l?(console.warn("Content has changed since it was read. Retrying...",{actualContent:w,expectedContent:l,path:m.path}),d=!1,w):u)}))return h();return d;function h(){if(o.shouldFailOnMissingFile){let m=fe(t,e);throw new Error(`File '${m}' not found`)}return!0}},o)}async function el(t,e){let n=null;return await zd(t,e,async r=>{n=await t.vault.read(r)}),n}async function gs(t,e,n){let r=ve(t,e,!1,!0),s=Ja(t,e,n);if(r.path.toLowerCase()===s.toLowerCase())return r.path!==n&&await t.vault.rename(r,s),s;let o=yt(s);await cr(t,o);try{await t.vault.rename(r,s)}catch(l){if(!await t.vault.exists(s)||await t.vault.exists(r.path))throw l}return s}async function zd(t,e,n){let r=fe(t,e),s=de(t,r);if(!s||s.deleted)return!1;try{return await n(s),!0}catch(o){if(s=de(t,r),!s||s.deleted)return!1;throw o}}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();async function ks(t,e,n,r=!0){let s=await Hn(n),o={},l=!1;try{o=ps(t)}catch(m){console.error(new Error(`Frontmatter parsing failed in ${e}`,{cause:m})),l=!0}if(!Ly(s,t,o,e,r))return r?null:t;s.sort((m,w)=>jt(m)&&jt(w)?m.reference.position.start.offset-w.reference.position.start.offset:ys(m)&&ys(w)?m.reference.key.localeCompare(w.reference.key)||m.reference.startOffset-w.reference.startOffset:ws(m)&&ws(w)?m.reference.key.localeCompare(w.reference.key):jt(m)?-1:1),s=s.filter((m,w)=>m.oldContent===m.newContent?!1:w===0?!0:!ot(m,s[w-1]));for(let m=1;m<s.length;m++){let w=s[m];if(!w)continue;let y=s[m-1];if(y&&jt(y)&&jt(w)&&y.reference.position.end.offset&&y.reference.position.end.offset>w.reference.position.start.offset)return console.warn("Overlapping changes",{change:w,previousChange:y}),null}let u="",d=0,p=!1,h=new Map;for(let m of s)if(jt(m))u+=t.slice(d,m.reference.position.start.offset),u+=m.newContent,d=m.reference.position.end.offset;else if(ys(m))if(l)console.error(`Cannot apply frontmatter change in ${e}, because frontmatter parsing failed`,{change:m});else{let w=h.get(m.reference.key);w||(w=[],h.set(m.reference.key,w)),w.push(m),p=!0}else ws(m)&&(l?console.error(`Cannot apply frontmatter change in ${e}, because frontmatter parsing failed`,{change:m}):(ea(o,m.reference.key,m.newContent),p=!0));return await Iy(o,h,e),u+=t.slice(d),p&&(u=Nd(u,o)),u}async function jr(t,e,n,r={},s=!0){await Vd(t,e,async o=>bn(t,e)?My(o,fe(t,e),n,s):await ks(o,fe(t,e),n,s),r)}function Gr(t){return Qa(t.reference)}function Py(t){return Gr(t)&&t.reference.type==="file"}function Dy(t){return Gr(t)&&t.reference.type==="text"}function jt(t){return kt(t.reference)}function ws(t){return Ye(t.reference)}function ys(t){return Qe(t.reference)}async function My(t,e,n,r=!0){let s=await Hn(n),o=Oy(t),l=new Map;for(let u of s){if(!Gr(u))return console.warn("Only canvas changes are supported for canvas files",{change:u,path:e}),null;let d=o.nodes[u.reference.nodeIndex];if(!d)return console.warn("Node not found",{nodeIndex:u.reference.nodeIndex,path:e}),null;if(Py(u)){if(d.file!==u.oldContent)return console.warn("Content mismatch",{actualContent:d.file,expectedContent:u.oldContent,nodeIndex:u.reference.nodeIndex,path:e,type:"file"}),null;d.file=u.newContent}else if(Dy(u)){let p=l.get(u.reference.nodeIndex);p||(p=[],l.set(u.reference.nodeIndex,p)),p.push(u)}}for(let[u,d]of l.entries()){let p=o.nodes[u];if(!p)return console.warn("Node not found",{nodeIndex:u,path:e}),null;if(typeof p.text!="string")return console.warn("Node text is not a string",{nodeIndex:u,path:e}),null;let h=d.map(m=>Mn(m.reference.originalReference,m.newContent));p.text=await ks(p.text,`${e}.node${u.toString()}.VIRTUAL_FILE.md`,h,r)}return JSON.stringify(o,null,"	")}async function Iy(t,e,n){for(let[r,s]of e.entries()){let o=An(t,r);if(typeof o!="string")return;let l=s.map(d=>({newContent:d.newContent,oldContent:d.oldContent,reference:{link:"",original:"",position:{end:{col:d.reference.endOffset,line:0,offset:d.reference.endOffset},start:{col:d.reference.startOffset,line:0,offset:d.reference.startOffset}}}})),u=await ks(o,`${n}.frontmatter.${r}.VIRTUAL_FILE.md`,l);if(u===null)return;ea(t,r,u)}}function Oy(t){let e;try{e=JSON.parse(t)}catch{e=null}return(e===null||typeof e!="object")&&(e={}),e}function Ly(t,e,n,r,s){let o=Zn("validateChanges"),l=s?console.warn.bind(console):o;for(let u of t)if(jt(u)){let d=u.reference.position.start.offset,p=u.reference.position.end.offset,h=e.slice(d,p);if(h!==u.oldContent)return l("Content mismatch",{actualContent:h,endOffset:p,expectedContent:u.oldContent,path:r,startOffset:d}),!1}else if(ys(u)){let d=An(n,u.reference.key);if(typeof d!="string")return l("Property value is not a string",{frontmatterKey:u.reference.key,path:r,propertyValue:d}),!1;let p=d.slice(u.reference.startOffset,u.reference.endOffset);if(p!==u.oldContent)return l("Content mismatch",{actualContent:p,expectedContent:u.oldContent,frontmatterKey:u.reference.key,path:r,startOffset:u.reference.startOffset}),!1}else if(ws(u)){let d=An(n,u.reference.key);if(d!==u.oldContent)return l("Content mismatch",{actualContent:d,expectedContent:u.oldContent,frontmatterKey:u.reference.key,path:r}),!1}return!0}var Ud=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();async function Hd(t){await new Promise(e=>{t.metadataCache.onCleanCache(e)})}function Pt(t){let e=[];return t.links&&e.push(...t.links),t.embeds&&e.push(...t.embeds),t.frontmatterLinks&&e.push(...t.frontmatterLinks),Bd(e),e=e.filter((n,r)=>{if(r===0)return!0;let s=e[r-1];if(!s)return!0;if(kt(n)&&kt(s))return n.position.start.offset!==s.position.start.offset;if(Ye(n)&&Ye(s)){let o=Qe(n)?n.startOffset:0,l=Qe(s)?s.startOffset:0;return n.key!==s.key||Qe(n)!==Qe(s)||o!==l}return!0}),e}function tl(t,e){let n=ve(t,e,!0);return qr(t,[n],()=>t.metadataCache.getBacklinksForFile(n))}async function Gt(t,e,n={}){let r=t.metadataCache.getBacklinksForFile.safe;if(r)return r(e);let s=null;return await Li(async()=>{let o=ve(t,e);await Hd(t),s=tl(t,o);for(let l of s.keys()){let u=de(t,l);if(!u)return!1;await $d(t,u);let d=await el(t,u);if(!d)return!1;let p=ps(d),h=s.get(l);if(!h)return!1;for(let m of h){let w;if(kt(m))w=d.slice(m.position.start.offset,m.position.end.offset);else if(Qe(m)){let y=An(p,m.key);if(typeof y!="string")return!1;w=y.slice(m.startOffset,m.endOffset)}else if(Ye(m)){let y=An(p,m.key);if(typeof y!="string")return!1;w=y}else return!0;if(w!==m.original)return!1}}return!0},n),s}async function Dt(t,e){let n=de(t,e);if(!n||n.deleted)return null;await $d(t,n);let r=t.metadataCache.fileCache[n.path];return r&&r.mtime===n.stat.mtime&&r.size===n.stat.size&&t.metadataCache.metadataCache[r.hash]||(await t.metadataCache.computeFileMetadataAsync(n),await Hd(t)),t.metadataCache.getFileCache(n)}function Ry(t,e){let n=new Set;for(let r of e){if(!r.deleted)continue;let s=r;for(;s.deleted;)n.add(s.path),t.vault.fileMap[s.path]=s,s=s.parent??jn(t,yt(s.path),!0);nt(r)&&t.metadataCache.uniqueFileLookup.add(r.name.toLowerCase(),r)}return()=>{for(let r of n)delete t.vault.fileMap[r];for(let r of e)r.deleted&&nt(r)&&t.metadataCache.uniqueFileLookup.remove(r.name.toLowerCase(),r)}}function qr(t,e,n){let r=Ry(t,e);try{return n()}finally{r()}}async function $d(t,e){if(!ke(t,e))return;let n=fe(t,e);for(let r of t.workspace.getLeavesOfType(ru.Markdown))r.view instanceof Ud.MarkdownView&&r.view.file?.path===n&&r.view.dirty&&await r.view.save()}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();function jd(t){return t.vault.getConfig("newLinkFormat")==="relative"}function Gd(t){return!t.vault.getConfig("useMarkdownLinks")}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Ny="\\|",Wy=/[\\\x00\x08\x0B\x0C\x0E-\x1F ]/g,By=/[\\[\]<>_*~=`$]/g,Zd=/(?<!\\)\|/g,Qd="|";function Yy(t){let e=qt(t.app,t.link,t.oldSourcePathOrFile??t.newSourcePathOrFile);return e?il({app:t.app,link:t.link,newSourcePathOrFile:t.newSourcePathOrFile,newTargetPathOrFile:e,oldSourcePathOrFile:t.oldSourcePathOrFile,shouldForceMarkdownLinks:t.shouldForceMarkdownLinks,shouldUpdateFileNameAlias:t.shouldUpdateFileNameAlias}):t.link.original}async function nl(t,e,n,r={}){await jr(t,e,async()=>{let s=await Dt(t,e);return await Ky(s,bn(t,e),n)},r)}function rl(t){return Me(t,Wy,({substring:e})=>encodeURIComponent(e))}function qt(t,e,n,r=!1){let{linkPath:s}=an(e.link),o=fe(t,n),l=t.metadataCache.getFirstLinkpathDest(s,o);if(l)return l;if(!r)return null;if(s.startsWith("/"))return ve(t,s,!0);let u=ge(se(o),`./${s}`);return u.startsWith("../")?null:ve(t,u,!0)}function vs(t){let{app:e}=t,r=(e.fileManager.generateMarkdownLink.defaultOptionsFn??(()=>({})))();t={...{isEmptyEmbedAliasAllowed:!0},...r,...t};let o=ve(e,t.targetPathOrFile,t.isNonExistingFileAllowed);return qr(e,[o],()=>jy(t))}function Kr(t){let e=Vy(t);return e[0]?.raw===t?e[0]:null}function Vy(t){let e=new Set,n="![",r=" [",s=Me(t,n,h=>(e.add(h.offset),r)),l=Dd().use(ir).use(Rd,{aliasDivider:Qd}).parse(s),u=[],d=[];Ur(l,h=>{let m;switch(h.type){case"link":m=Qy(h,t);break;case"wikiLink":m=Jy(h,t);break;default:return}e.has(m.startOffset-1)&&(m.isEmbed=!0,m.startOffset--,m.raw=`!${m.raw}`),u.push(m)}),u.sort((h,m)=>h.startOffset-m.startOffset);let p=0;for(let h of u)qd(t,p,h.startOffset-1,d),p=h.endOffset+1;return qd(t,p,t.length-1,d),u.push(...d),u.sort((h,m)=>h.startOffset-m.startOffset),u}function zy(t){let{app:e,displayText:n,isWikilink:r,newSourcePathOrFile:s,oldSourcePathOrFile:o,oldTargetPath:l,targetPathOrFile:u}=t;if(r===!1)return!1;if(!n)return!0;let d=ve(e,u,!0),p=fe(e,s),h=fe(e,o??s),m=se(p),w=se(h),y=new Set;for(let P of[d.path,l]){if(!P)continue;let S=fe(e,P);y.add(S),y.add(Ve(S)),y.add($n(m,S)),y.add($n(w,S))}for(let P of[h,p])y.add(e.metadataCache.fileToLinktext(d,P,!1));let x=Me((0,bs.normalizePath)(n.split(" > ")[0]??""),/^\.\//g,"").toLowerCase();for(let P of y){if(P.toLowerCase()===x)return!0;let S=se(P),C=Ve(P,tt(P));if(ge(S,C).toLowerCase()===x)return!0}return!1}function an(t){let e=(0,bs.parseLinktext)(Pr(t));return{linkPath:e.path,subpath:e.subpath}}function Uy(t){return Kr(t)?.hasAngleBrackets??!1}function xs(t){return Kr(t)?.isEmbed??!1}function Hy(t){return Kr(t)?.url.startsWith("./")??!1}function hr(t){return Kr(t)?.isWikilink??!1}function il(t){let{app:e,link:n,newSourcePathOrFile:r,newTargetPathOrFile:s,oldSourcePathOrFile:o,oldTargetPathOrFile:l,shouldForceMarkdownLinks:u,shouldUpdateFileNameAlias:d}=t;if(!s)return n.original;let p=ve(e,s,!0),h=fe(e,l??s),m=hr(n.original)&&u!==!0,{subpath:w}=an(n.link),y=!d;if(bn(e,r)&&Wd(n))return p.path+w;let x;if(m){let S=Kr(n.original);S?.alias&&(x=S.alias,y=!0)}return x??=zy({app:e,displayText:n.displayText,isWikilink:m,newSourcePathOrFile:r,oldSourcePathOrFile:o,oldTargetPath:h,targetPathOrFile:p})?void 0:n.displayText,y||(x===Ve(h,tt(h))?x=p.basename:x===Ve(h)&&(x=p.name)),vs({alias:x,app:e,isWikilink:u?!1:void 0,originalLink:n.original,sourcePathOrFile:r,subpath:w,targetPathOrFile:p})}async function Cs(t){let{app:e,newSourcePathOrFile:n,oldSourcePathOrFile:r,shouldForceMarkdownLinks:s,shouldUpdateEmbedOnlyLinks:o,shouldUpdateFileNameAlias:l}=t;bn(e,n)&&!e.internalPlugins.getEnabledPluginById(wt.Canvas)||await nl(e,n,u=>{let d=xs(u.original);if(!(o!==void 0&&o!==d))return Yy({app:e,link:u,newSourcePathOrFile:n,oldSourcePathOrFile:r,shouldForceMarkdownLinks:s,shouldUpdateFileNameAlias:l})},t)}function qd(t,e,n,r){if(e>n)return;let s=t.slice(e,n+1);Me(s,/(?<Url>\S+)/g,(o,l)=>{Za(l)&&r.push({encodedUrl:rl(l),endOffset:e+o.offset+l.length,hasAngleBrackets:!1,isEmbed:!1,isExternal:!0,isWikilink:!1,raw:l,startOffset:e+o.offset,url:l})})}function $y(t,e,n,r,s){n==="/"&&(n="");let o;return e.path===n&&r?o=r:s.shouldForceRelativePath?o=$n(se(n),s.isWikilink?vu(t,e):e.path)+r:o=t.metadataCache.fileToLinktext(e,n,s.isWikilink)+r,s.shouldForceRelativePath&&s.shouldUseLeadingDot&&!o.startsWith(".")&&!o.startsWith("#")&&(o=`./${o}`),o}function jy(t){let{app:e}=t,n=ve(e,t.targetPathOrFile,t.isNonExistingFileAllowed),r=fe(e,t.sourcePathOrFile),s=t.subpath??"",o=Zy(t,n),l=$y(e,n,r,s,o);return o.isWikilink?qy(l,t.alias,o.isEmbed):Gy(l,n,t,o)}function Gy(t,e,n,r){let{app:s}=n,o=r.isEmbed?"!":"",l=r.shouldUseAngleBrackets?`<${t}>`:rl(t),u=n.alias??"";!u&&(!r.isEmbed||!n.isEmptyEmbedAliasAllowed)&&(u=!n.shouldIncludeAttachmentExtensionToEmbedAlias||ke(s,e)?e.basename:e.name);let d=Me(u,By,"\\$&");return`${o}[${d}](${l})`}function qy(t,e,n){let r=n?"!":"",s=e??"";if(s&&s.toLowerCase()===t.toLowerCase())return`${r}[[${s}]]`;let o=s?`|${s}`:"";return`${r}[[${t}${o}]]`}async function Ky(t,e,n){if(!t)return[];let r=[],s=(t.sections??[]).filter(o=>o.type==="table").map(o=>({end:o.position.end.offset,start:o.position.start.offset}));for(let o of Pt(t)){let l=await n(o);if(l===void 0)continue;let u=Mn(o,l);e?Gr(u)?r.push(u):console.warn("Unsupported file change",u):(Xy(u,s)&&(u.newContent=u.newContent.replaceAll(Zd,Ny)),r.push(u))}return r}function Zy(t,e){let{app:n}=t;return{isEmbed:t.isEmbed??(t.originalLink?xs(t.originalLink):void 0)??!ke(n,e),isWikilink:t.isWikilink??(t.originalLink?hr(t.originalLink):void 0)??Gd(n),shouldForceRelativePath:t.shouldForceRelativePath??jd(n),shouldUseAngleBrackets:t.shouldUseAngleBrackets??(t.originalLink?Uy(t.originalLink):void 0)??!1,shouldUseLeadingDot:t.shouldUseLeadingDot??(t.originalLink?Hy(t.originalLink):void 0)??!1}}function Jd(t,e){return e.slice(t.position?.start.offset??0,t.position?.end.offset??0)}function Qy(t,e){let o=Jd(t,e),l=t.children[0],u=e.slice((l?.position?.end.offset??1)+2,(t.position?.end.offset??0)-1),d=o.startsWith("<")||u.startsWith("<"),p=Za(t.url),h=t.url;if(!p&&!d)try{h=decodeURIComponent(h)}catch(m){console.error(`Failed to decode URL ${h}`,m)}return{alias:l?.value,encodedUrl:p?rl(h):void 0,endOffset:t.position?.end.offset??0,hasAngleBrackets:d,isEmbed:!1,isExternal:p,isWikilink:!1,raw:o,startOffset:t.position?.start.offset??0,title:t.title??void 0,url:h}}function Jy(t,e){return{alias:e.includes(Qd)?t.data.alias:void 0,endOffset:t.position?.end.offset??0,isEmbed:!1,isExternal:!1,isWikilink:!0,raw:Jd(t,e),startOffset:t.position?.start.offset??0,url:t.value}}function Xy(t,e){return!jt(t)||!Zd.test(t.newContent)?!1:e.some(n=>n.start<=t.reference.position.start.offset&&t.reference.position.end.offset<=n.end)}function Xd(t,e){let n=Object.keys(e).map(r=>ek(t,r,e[r]));return n.length===1?n[0]:function(){n.forEach(r=>r())}}function ek(t,e,n){let r=t[e],s=t.hasOwnProperty(e),o=s?r:function(){return Object.getPrototypeOf(t)[e].apply(this,arguments)},l=n(o);return r&&Object.setPrototypeOf(l,r),Object.setPrototypeOf(u,l),t[e]=u,d;function u(...p){return l===o&&t[e]===u&&d(),l.apply(this,p)}function d(){t[e]===u&&(s?t[e]=o:delete t[e]),l!==o&&(l=o,Object.setPrototypeOf(u,r||Function))}}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();function tk(t,e){return Xd(t,e)}function ef(t,e,n){let r=tk(e,n),s=!1;function o(){if(!s)try{r()}finally{s=!0}}return t.register(o),r}var tf=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();async function Zr(t,e){let n=bt(t,e);for(;n;){if(!await Xa(t,n))return;let r=n.parent;await Kt(t,n.path),n=r}}async function Kt(t,e,n,r,s){let o=Dr(t,e);if(!o)return!1;let l=nt(o)||(s??!0);if(nt(o)){let u=await Gt(t,o);n&&u.clear(n),u.count()!==0&&(r&&new tf.Notice(`Attachment ${o.path} is still used by other notes. It will not be deleted.`),l=!1)}else if(Mr(o)){let u=await fr(t,o);for(let d of[...u.files,...u.folders])l&&=await Kt(t,d,n,r);l&&=await Xa(t,o)}if(l)try{await t.fileManager.trashFile(o)}catch(u){await t.vault.exists(o.path)&&(Fr(new Error(`Failed to delete ${o.path}`,{cause:u})),l=!1)}return l}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var sl=new Map,Qr=new Set,As=new Map,_e=(t=>(t.Delete="Delete",t.DeleteWithEmptyParents="DeleteWithEmptyParents",t.Keep="Keep",t))(_e||{});function of(t,e){let n=Es(t.app),r=t.manifest.id;n.set(r,e),rf(t.app),t.register(()=>{n.delete(r),rf(t.app)});let s=t.app;t.registerEvent(s.vault.on("delete",o=>{ok(t,o)})),t.registerEvent(s.vault.on("rename",(o,l)=>{ck(t,o,l)})),t.registerEvent(s.metadataCache.on("deleted",(o,l)=>{lk(t,o,l)})),ef(t,s.fileManager,{runAsyncLinkUpdate:o=>l=>fk(s,o,l)})}async function af(t,e,n){let r=ln(t);if(r.emptyAttachmentFolderBehavior!=="Keep")for(let s of e)switch(r.emptyAttachmentFolderBehavior){case"Delete":await Kt(t,s,n,void 0,!0);break;case"DeleteWithEmptyParents":await Zr(t,s);break;default:break}}async function nk(t,e,n,r,s){let o=As.get(e);if(o){As.delete(e);for(let l of o)await ol(t,l.oldPath,n,r,s,l.combinedBacklinksMap)}}async function rk(t,e,n,r,s){if(r.set(e,n),!Jr(t,e))return;let o=ln(t),l=await er(t,e),u=o.shouldRenameAttachmentFolder?await er(t,n):l,d=l==="/",p=bt(t,l);if(!p||l===u&&!o.shouldRenameAttachmentFiles)return;let h=[];if(await na(t,e))sf.Vault.recurseChildren(p,y=>{nt(y)&&h.push(y)});else for(let y of s){let x=qt(t,y,e);x&&(d||x.path.startsWith(l))&&(await Gt(t,x)).keys().length===1&&h.push(x)}let m=Ve(e,tt(e)),w=Ve(n,tt(n));for(let y of h){if(Jr(t,y.path))continue;let x=d?y.path:$n(l,y.path),P=ge(u,se(x)),S=o.shouldRenameAttachmentFiles?Me(y.basename,m,w):y.basename,C=ge(P,mu(S,y.extension));if(y.path!==C){if(o.shouldDeleteConflictingAttachments){let T=de(t,C);T&&(console.warn(`Removing conflicting attachment ${T.path}.`),await t.fileManager.trashFile(T))}else C=t.vault.getAvailablePath(ge(P,S),y.extension);r.set(y.path,C)}}}function Es(t){return Ht(t,"renameDeleteHandlersMap",new Map).value}function ln(t){let e=Es(t),n=Array.from(e.values()).reverse(),r={};r.isNote=s=>Ir(t,s),r.isPathIgnored=()=>!1;for(let s of n){let o=s();r.shouldDeleteConflictingAttachments||=o.shouldDeleteConflictingAttachments??!1,o.emptyAttachmentFolderBehavior&&(r.emptyAttachmentFolderBehavior??=o.emptyAttachmentFolderBehavior),r.shouldHandleDeletions||=o.shouldHandleDeletions??!1,r.shouldHandleRenames||=o.shouldHandleRenames??!1,r.shouldRenameAttachmentFiles||=o.shouldRenameAttachmentFiles??!1,r.shouldRenameAttachmentFolder||=o.shouldRenameAttachmentFolder??!1,r.shouldUpdateFileNameAliases||=o.shouldUpdateFileNameAliases??!1;let l=r.isPathIgnored;r.isPathIgnored=d=>l(d)||(o.isPathIgnored?.(d)??!1);let u=r.isNote;r.isNote=d=>u(d)&&(o.isNote?.(d)??!0)}return r.emptyAttachmentFolderBehavior??="Keep",r}async function ik(t,e,n,r,s){if(!t.vault.adapter.insensitive||e.toLowerCase()!==n.toLowerCase())return!1;let o=ge(se(n),`__temp__${Ve(n)}`);return await uf(t,n,o),await ol(t,e,o,r,s),await t.vault.rename(ve(t,o),n),!0}async function sk(t,e){if(it("RenameDeleteHandler:handleDelete")(`Handle Delete ${e}`),!Jr(t,e))return;let n=ln(t);if(!n.shouldHandleDeletions)return;if(n.isPathIgnored?.(e)){console.warn(`Skipping delete handler of ${e} as the path is ignored.`);return}let r=sl.get(e);sl.delete(e);let s=new Set;if(r){let u=Pt(r);for(let d of u){let p=qt(t,d,e);p&&(Jr(t,p.path)||(s.add(p.parent?.path??""),await Kt(t,p,e,!1,n.emptyAttachmentFolderBehavior!=="Keep")))}}await af(t,Array.from(s),e);let o=await er(t,e),l=bt(t,o);l&&await na(t,e)&&await Kt(t,l,e,!1,n.emptyAttachmentFolderBehavior!=="Keep")}function ok(t,e){let n=t.app;if(!al(t))return;let r=e.path;st(n,()=>sk(n,r))}function ak(t,e,n){let r=ln(t);if(r.isPathIgnored?.(e.path)){console.warn(`Skipping metadata delete handler of ${e.path} as the path is ignored.`);return}r.shouldHandleDeletions&&ke(t,e)&&n&&sl.set(e.path,n)}function lk(t,e,n){al(t)&&ak(t.app,e,n)}function uk(t,e,n){let r=lf(e,n);if(it("RenameDeleteHandler:handleRename")(`Handle Rename ${r}`),Qr.has(r)){Qr.delete(r);return}let s=ln(t);if(!s.shouldHandleRenames)return;if(s.isPathIgnored?.(e)){console.warn(`Skipping rename handler of old path ${e} as the path is ignored.`);return}if(s.isPathIgnored?.(n)){console.warn(`Skipping rename handler of new path ${n} as the path is ignored.`);return}let o=t.metadataCache.getCache(e)??t.metadataCache.getCache(n),l=o?Pt(o):[],u=tl(t,e).data;st(t,()=>ol(t,e,n,u,l))}async function ol(t,e,n,r,s,o){if(await nk(t,e,n,r,s),await dk(t,e,n,r,s),!await ik(t,e,n,r,s))try{let l=new Map;await rk(t,e,n,l,s);let u=new Map;nf(r,l,u,e);for(let h of l.keys()){if(h===e)continue;let m=(await Gt(t,h)).data;nf(m,l,u,h)}let d=new Set;for(let[h,m]of l.entries()){if(h===e)continue;let w=await uf(t,h,m);l.set(h,w),d.add(se(h))}await af(t,Array.from(d),e);let p=ln(t);for(let[h,m]of Array.from(u.entries()).concat(Array.from(o?.entries()??[])))await nl(t,h,w=>{let y=m.get(Ui(w));if(!y)return;let x=l.get(y);if(x)return il({app:t,link:w,newSourcePathOrFile:h,newTargetPathOrFile:x,oldTargetPathOrFile:y,shouldUpdateFileNameAlias:p.shouldUpdateFileNameAliases})},{shouldFailOnMissingFile:!1});if(Jr(t,n)&&await Cs({app:t,newSourcePathOrFile:n,oldSourcePathOrFile:e,shouldFailOnMissingFile:!1,shouldUpdateFileNameAlias:p.shouldUpdateFileNameAliases}),!de(t,n)){let h=As.get(n);h||(h=[],As.set(n,h)),h.push({combinedBacklinksMap:u,oldPath:e})}}finally{let l=Array.from(Qr);st(t,()=>{for(let u of l)Qr.delete(u)})}}function ck(t,e,n){if(!al(t)||!nt(e))return;let r=e.path;uk(t.app,n,r)}function nf(t,e,n,r){for(let[s,o]of t.entries()){let l=e.get(s)??s,u=n.get(l)??new Map;n.set(l,u);for(let d of o)u.set(Ui(d),r)}}function Jr(t,e){return ln(t).isNote?.(e)??!1}function rf(t){let e=Es(t);it("RenameDeleteHandler:logRegisteredHandlers")(`Plugins with registered rename/delete handlers: ${JSON.stringify(Array.from(e.keys()))}`)}function lf(t,e){return`${t} -> ${e}`}async function dk(t,e,n,r,s){let o=t.metadataCache.getCache(e)??t.metadataCache.getCache(n),l=o?Pt(o):[],u=ve(t,e,!0),d=new Map;await qr(t,[u],async()=>{d=(await Gt(t,u)).data});for(let p of l)s.includes(p)||s.push(p);for(let[p,h]of d.entries()){let m=r.get(p);m||(m=[],r.set(p,m));for(let w of h)m.includes(w)||m.push(w)}}async function uf(t,e,n){if(n=Ja(t,e,n),e===n)return n;let r=lf(e,n);return Qr.add(r),n=await gs(t,e,n),n}async function fk(t,e,n){await e.call(t.fileManager,r);async function r(s){let o=!1,l=t.vault.on("rename",()=>{o=!0});try{await n(s)}finally{t.vault.offref(l)}let u=ln(t);o&&u.shouldHandleRenames&&Tr(s,d=>u.isPathIgnored?.(d.sourceFile.path)?(console.warn(`Roll back to default link update of source file ${d.sourceFile.path} as the path is ignored.`),!0):u.isPathIgnored?.(d.resolvedFile.path)?(console.warn(`Roll back to default link update of resolved file ${d.resolvedFile.path} as the path is ignored.`),!0):!t.internalPlugins.getEnabledPluginById(wt.Canvas)||t.plugins.getPlugin("backlink-cache")?!1:d.sourceFile.extension==="canvas"||d.resolvedFile.extension==="canvas")}}function al(t){let e=t.app,n=t.manifest.id,r=Es(e);return Array.from(r.keys())[0]===n}var wT=require("obsidian");var cf=require("obsidian");var un=class extends Map{constructor(n){super();this.title=n}add(n,r){this.has(n)||this.set(n,[]);let s=this.get(n);s&&s.push(r)}toString(n,r){if(this.size>0){let s=`# ${this.title} (${this.size.toString()} files)
`;for(let o of this.keys()){let l=de(n,o);if(!l)continue;let u=vs({app:n,sourcePathOrFile:r,targetPathOrFile:l});s+=`${u}:
`;for(let d of this.get(o)??[])kt(d)?s+=`- (line ${(d.position.start.line+1).toString()}): \`${d.link}\`
`:Ye(d)&&(s+=`- (key ${d.key}): \`${d.link}\`
`);s+=`

`}return s}return`# ${this.title}
No problems found

`}},Xr=class{constructor(e){this.plugin=e;}async checkConsistency(e,n,r,s,o,l){if(this.plugin.settings.isPathIgnored(e.path))return;let u=await Dt(this.plugin.app,e.path);if(!u)return;let d=u.links??[],p=u.embeds??[],h=u.frontmatterLinks??[];for(let m of d)await this.isValidLink(m,e.path)||n.add(e.path,m),hr(m.original)&&s.add(e.path,m);for(let m of p)await this.isValidLink(m,e.path)||r.add(e.path,m),hr(m.original)&&o.add(e.path,m);for(let m of h)await this.isValidLink(m,e.path)||l.add(e.path,m)}async convertAllNoteEmbedsPathsToRelative(e){return await this.convertAllNoteRefPathsToRelative(e,!0)}async convertAllNoteLinksPathsToRelative(e){return await this.convertAllNoteRefPathsToRelative(e,!1)}async getCachedNotesThatHaveLinkToFile(e){let n=de(this.plugin.app,e);return n?(await Gt(this.plugin.app,n)).keys():[]}getFullPathForLink(e,n){({linkPath:e}=an(e));let r=se(n);return ge(r,e)}async replaceAllNoteWikilinksWithMarkdownLinks(e,n){if(this.plugin.settings.isPathIgnored(e))return 0;let r=de(this.plugin.app,e);if(!r)return console.warn(`can't update wikilinks in note, file not found: ${e}`),0;let s=await Dt(this.plugin.app,r);if(!s)return 0;let l=((n?s.embeds:s.links)??[]).filter(u=>hr(u.original)).length;return await Cs({app:this.plugin.app,newSourcePathOrFile:r,shouldForceMarkdownLinks:!0,shouldUpdateEmbedOnlyLinks:n}),l}async updateChangedPathsInNote(e,n){if(this.plugin.settings.isPathIgnored(e))return;let r=de(this.plugin.app,e);if(!r){console.warn(`can't update links in note, file not found: ${e}`);return}let s=new Map;for(let o of n)s.set(o.oldPath,o.newPath);await this.updateLinks(r,r.path,s)}async convertAllNoteRefPathsToRelative(e,n){if(this.plugin.settings.isPathIgnored(e))return[];let r=de(this.plugin.app,e);if(!r)return[];let s=[];return await jr(this.plugin.app,r,async()=>{let o=await Dt(this.plugin.app,r);if(!o)return[];let l=(n?o.embeds:o.links)??[],u=[];for(let d of l){let p=this.convertLink({forceRelativePath:!0,link:d,note:r,oldNotePath:e});u.push(Mn(d,p)),s.push({newLink:p,old:d})}return u}),s}convertLink({forceRelativePath:e,link:n,note:r,oldNotePath:s,pathChangeMap:o}){let{linkPath:l,subpath:u}=an(n.link),d=qt(this.plugin.app,n,s)?.path??ge(se(s),l),p=o?o.get(d):qt(this.plugin.app,n,r.path)?.path??ge(se(r.path),l);if(!p)return n.original;let h=de(this.plugin.app,p)??de(this.plugin.app,d);if(!h)return n.original;let m=n.displayText&&ge(r.parent?.path??"",n.displayText)===d?void 0:n.displayText;return vs({alias:m,app:this.plugin.app,originalLink:n.original,shouldForceRelativePath:e,sourcePathOrFile:r.path,subpath:u,targetPathOrFile:h})}async isValidLink(e,n){let{linkPath:r,subpath:s}=an(e.link),o;r?r.startsWith("/")?o=(0,cf.normalizePath)(r):o=ge(se(n),r):o=n;let l=de(this.plugin.app,o);if(!l)return!1;if(!s)return!0;let u=l.extension.toLocaleLowerCase();if(u==="pdf")return s.startsWith("#page=");if(u!==Si)return!1;let d=await Dt(this.plugin.app,l);if(!d)return!1;let p="#^";if(s.startsWith(p))return Object.keys(d.blocks??{}).includes(kn(s,p));let h="#";return(d.headings??[]).map(m=>m.heading.replaceAll(h," ")).includes(kn(s,h))}async updateLinks(e,n,r){await jr(this.plugin.app,e,async()=>{let s=await Dt(this.plugin.app,e);return s?Pt(s).map(l=>Mn(l,this.convertLink({link:l,note:e,oldNotePath:n,pathChangeMap:r}))):[]})}};var ei=class{constructor(e,n){this.plugin=e;this.lh=n;}async collectAttachmentsForCachedNote(e){if(this.plugin.settings.isPathIgnored(e))return{movedAttachments:[]};let n={movedAttachments:[]},r=await Dt(this.plugin.app,e);if(!r)return n;for(let s of Pt(r)){let{linkPath:o}=an(s.link);if(!o)continue;let l=this.lh.getFullPathForLink(o,e);if(n.movedAttachments.findIndex(h=>h.oldPath===l)!==-1)continue;let u=qt(this.plugin.app,s,e);if(!u){let h=xs(s.original)?"embed":"link";console.warn(`${e} has bad ${h} (file does not exist): ${o}`);continue}if(this.isNoteEx(u)||this.plugin.settings.isExcludedFromAttachmentCollecting(u.path))continue;let d=await ta(this.plugin.app,u.path,e);if(se(d)===se(u.path))continue;let p=await this.moveAttachment(u,d,[e]);n.movedAttachments=n.movedAttachments.concat(p.movedAttachments)}return n}async deleteEmptyFolders(e){if(this.plugin.settings.isPathIgnored(e))return;e=kn(e,"./");let n=await fr(this.plugin.app,e);for(let r of n.folders)await this.deleteEmptyFolders(r);if(n=await fr(this.plugin.app,e),n.files.length===0&&n.folders.length===0&&(this.plugin.consoleDebug(`delete empty folder: 
   ${e}`),await this.plugin.app.vault.exists(e)))try{await this.plugin.app.vault.adapter.rmdir(e,!1)}catch(r){if(await this.plugin.app.vault.adapter.exists(e))throw r}}isNoteEx(e){if(!e||!Ir(this.plugin.app,e))return!1;let n=fe(this.plugin.app,e);return this.plugin.settings.treatAsAttachmentExtensions.every(r=>!n.endsWith(r))}async createFolderForAttachmentFromPath(e){await cr(this.plugin.app,se(e))}async deleteFile(e){if(await this.plugin.app.fileManager.trashFile(e),!!e.parent)switch(this.plugin.settings.emptyAttachmentFolderBehavior){case _e.Delete:await Kt(this.plugin.app,e.parent,void 0,void 0,!0);break;case _e.DeleteWithEmptyParents:await Zr(this.plugin.app,e.parent);break;default:break}}async moveAttachment(e,n,r){let s=e.path,o={movedAttachments:[]};if(this.plugin.settings.isPathIgnored(s)||this.isNoteEx(e))return o;if(s===n)return console.warn("Can't move file. Source and destination path the same."),o;await this.createFolderForAttachmentFromPath(n);let l=await this.lh.getCachedNotesThatHaveLinkToFile(s);for(let h of r)l.remove(h);if(s!==e.path)return console.warn("File was moved already"),await this.moveAttachment(e,n,r);let u=e.parent,d=l.length===0,p=de(this.plugin.app,n);if(p&&(this.plugin.settings.shouldDeleteExistingFilesWhenMovingNote?(this.plugin.consoleDebug(`delete: ${n}`),await this.deleteFile(p)):n=ms(this.plugin.app,n)),this.plugin.consoleDebug(`${d?"move":"copy"}
  from: ${s}
  to: ${n}`),o.movedAttachments.push({newPath:n,oldPath:s}),d?await gs(this.plugin.app,e,n):await Yd(this.plugin.app,e,n),u)switch(this.plugin.settings.emptyAttachmentFolderBehavior){case _e.Delete:await Kt(this.plugin.app,u,void 0,void 0,!0);break;case _e.DeleteWithEmptyParents:await Zr(this.plugin.app,u);break;default:break}return o}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var cn=class{getTransformer(e){if(e===this.id)return this;throw new Error(`Transformer with id ${e} not found`)}transformObjectRecursively(e){return this.transformValueRecursively(e,"")}getTransformerId(e,n){return this.canTransform(e,n)?this.id:null}transformValueRecursively(e,n){let r=this.getTransformerId(e,n);if(r){let l=this.transformValue(e,n);return l===void 0?void 0:{__transformerId:r,transformedValue:l}}if(e===null)return null;if(typeof e!="object")return e;if(Array.isArray(e))return e.map((l,u)=>this.transformValueRecursively(l,u.toString()));let s=e;if(s.__transformerId)return this.getTransformer(s.__transformerId).restoreValue(s.transformedValue,n);let o={};for(let l of Jn(e)){let u=e[l],d=this.transformValueRecursively(u,l);o[l]=d}return o}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var lt=class extends cn{};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Ss=class extends lt{get id(){return"date"}canTransform(e){return e instanceof Date}restoreValue(e){return new Date(e)}transformValue(e){return e.toISOString()}};var df=et(In(),1);(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var _s=class extends lt{get id(){return"duration"}canTransform(e){let n=e??{};return!!n.asHours&&!!n.asMinutes&&!!n.asSeconds&&!!n.asMilliseconds}restoreValue(e){return(0,df.duration)(e)}transformValue(e){return e.toISOString()}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Ts=class extends cn{constructor(e){super(),this.transformers=e}get id(){return"group"}canTransform(e,n){return this.getFirstTransformerThatCanTransform(e,n)!==null}getTransformer(e){return this.transformers.find(n=>n.id===e)??yn(`No transformer with id ${e} found`)}transformValue(e,n){let r=this.getFirstTransformerThatCanTransform(e,n);if(r===null)throw new Error("No transformer can transform the value");return r.transformValue(e,n)}getTransformerId(e,n){let r=this.getFirstTransformerThatCanTransform(e,n);return r===null?null:r.id}restoreValue(){throw new Error("GroupTransformer does not support restoring values")}getFirstTransformerThatCanTransform(e,n){return this.transformers.find(r=>r.canTransform(e,n))??null}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Fs=class extends lt{get id(){return"map"}canTransform(e){return e instanceof Map}restoreValue(e){return new Map(e)}transformValue(e){return Array.from(e.entries())}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Ps=class extends lt{get id(){return"set"}canTransform(e){return e instanceof Set}restoreValue(e){return new Set(e)}transformValue(e){return Array.from(e)}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var hk="_",Ds=class extends cn{get id(){return"skip-private-property"}canTransform(e,n){return n.startsWith(hk)}transformValue(){}restoreValue(){throw new Error("SkipPrivatePropertyTransformer does not support restoring values")}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var ti=class{keyValueMap=new Map;valueKeyMap=new Map;constructor(e=[]){for(let[n,r]of e)this.set(n,r)}clear(){this.keyValueMap.clear(),this.valueKeyMap.clear()}deleteKey(e){let n=this.getValue(e);n!==void 0&&this.valueKeyMap.delete(n),this.keyValueMap.delete(e)}deleteValue(e){let n=this.getKey(e);n!==void 0&&this.keyValueMap.delete(n),this.valueKeyMap.delete(e)}entries(){return this.keyValueMap.entries()}getKey(e){return this.valueKeyMap.get(e)}getValue(e){return this.keyValueMap.get(e)}hasKey(e){return this.keyValueMap.has(e)}hasValue(e){return this.valueKeyMap.has(e)}keys(){return this.keyValueMap.keys()}set(e,n){this.deleteKey(e),this.deleteValue(n),this.keyValueMap.set(e,n),this.valueKeyMap.set(n,e)}values(){return this.valueKeyMap.keys()}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Ms=class extends lt{get id(){return"two-way-map"}canTransform(e){return e instanceof ti}restoreValue(e){return new ti(e)}transformValue(e){return Array.from(e.entries())}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var pk=new Ts([new Ds,new Ss,new _s,new Fs,new Ps,new Ms]),Is=class extends Et{constructor(e){super(),this.plugin=e,this.app=e.app,this.defaultSettings=this.createDefaultSettings(),this.currentSettingsWrapper=this.createDefaultSettingsWrapper(),this.lastSavedSettingsWrapper=this.createDefaultSettingsWrapper(),this.propertyNames=Jn(this.currentSettingsWrapper.settings),this.registerValidators(),this.registerLegacySettingsConverters()}app;defaultSettings;get settingsWrapper(){return this.currentSettingsWrapper}currentSettingsWrapper;lastSavedSettingsWrapper;legacySettingsConverters=[];propertyNames;validators=new Map;async editAndSave(e,n){await this.edit(e),await this.saveToFile(n)}async ensureSafe(e){let n=await this.validate(e);for(let r of this.propertyNames)n[r]&&(e[r]=this.defaultSettings[r])}async getSafeCopy(e){let n=await this.cloneSettings(e);return await this.ensureSafe(n),n}async loadFromFile(e){let n=await this.plugin.loadData();this.lastSavedSettingsWrapper=this.createDefaultSettingsWrapper(),this.currentSettingsWrapper=this.createDefaultSettingsWrapper();try{if(n==null)return;if(typeof n!="object"){console.error(`Invalid settings from data.json. Expected Object, got: ${typeof n}`);return}let r=n,s=await this.rawRecordToSettings(r),o=await this.validate(s);for(let u of this.propertyNames)this.setPropertyImpl(u,s[u],o[u]);this.lastSavedSettingsWrapper=await this.cloneSettingsWrapper(this.currentSettingsWrapper);let l=await this.settingsToRawRecord(this.currentSettingsWrapper.settings);ot(l,n)||await this.saveToFileImpl()}finally{await this.triggerAsync("loadSettings",this.currentSettingsWrapper,e)}}on(e,n,r){return super.on(e,n,r)}async saveToFile(e){ot(this.lastSavedSettingsWrapper.settings,this.currentSettingsWrapper.settings)||(await this.saveToFileImpl(),await this.triggerAsync("saveSettings",this.currentSettingsWrapper,this.lastSavedSettingsWrapper,e),this.lastSavedSettingsWrapper=await this.cloneSettingsWrapper(this.currentSettingsWrapper))}async setProperty(e,n){return await this.edit(r=>{r[e]=n}),this.currentSettingsWrapper.validationMessages[e]}async validate(e){let n={};for(let[r,s]of this.validators.entries()){let o=await s(e[r],e);o&&(n[r]=o)}return n}getTransformer(){return pk}async onLoadRecord(e){for(let n of this.legacySettingsConverters)n(e);await Promise.resolve()}async onSavingRecord(e){await Ct()}registerLegacySettingsConverter(e,n){let r=this;this.legacySettingsConverters.push(s);function s(o){let l=new Set(Object.keys(new e)),u=new Set(r.propertyNames),d=o;n(d);for(let p of Object.keys(d))u.has(p)||l.has(p)&&delete o[p]}}registerLegacySettingsConverters(){}registerValidator(e,n){this.validators.set(e,n)}registerValidators(){}async cloneSettings(e){let n=await this.settingsToRawRecord(e),r=JSON.stringify(n),s=JSON.parse(r);return await this.rawRecordToSettings(s)}async cloneSettingsWrapper(e){return{safeSettings:await this.cloneSettings(e.safeSettings),settings:await this.cloneSettings(e.settings),validationMessages:{...e.validationMessages}}}createDefaultSettingsWrapper(){return{safeSettings:this.createDefaultSettings(),settings:this.createDefaultSettings(),validationMessages:{}}}async edit(e){try{await e(this.currentSettingsWrapper.settings)}finally{let n=await this.validate(this.currentSettingsWrapper.settings);for(let r of this.propertyNames){let s=n[r]??"";this.currentSettingsWrapper.validationMessages[r]=s,this.currentSettingsWrapper.safeSettings[r]=s?this.defaultSettings[r]:this.currentSettingsWrapper.settings[r]}}}isValidPropertyName(e){return typeof e!="string"?!1:this.propertyNames.includes(e)}async rawRecordToSettings(e){e=this.getTransformer().transformObjectRecursively(e),await this.onLoadRecord(e);let n=this.createDefaultSettings();for(let[r,s]of Object.entries(e)){if(!this.isValidPropertyName(r)){console.warn(`Unknown property: ${r}`);continue}typeof s!=typeof this.defaultSettings[r]&&console.warn("Possible invalid value type. It might lead to an unexpected behavior of the plugin. There is also a chance it is a false-negative warning, as we are unable to determine the exact type of the value in runtime.",{defaultValue:this.defaultSettings[r],propertyName:r,value:s}),n[r]=s}return n}async saveToFileImpl(){await this.plugin.saveData(await this.settingsToRawRecord(this.currentSettingsWrapper.settings))}setPropertyImpl(e,n,r){this.currentSettingsWrapper.settings[e]=n,this.currentSettingsWrapper.validationMessages[e]=r??"",this.currentSettingsWrapper.safeSettings[e]=r?this.defaultSettings[e]:n}async settingsToRawRecord(e){let n={};for(let r of this.propertyNames)n[r]=e[r];return await this.onSavingRecord(n),this.getTransformer().transformObjectRecursively(n)}};var ff=/(?:)/,Os=/$./,Ls=class{consistencyReportFile="consistency-report.md";emptyAttachmentFolderBehavior=_e.DeleteWithEmptyParents;shouldChangeNoteBacklinksDisplayText=!0;shouldCollectAttachmentsAutomatically=!1;shouldDeleteAttachmentsWithNote=!1;shouldDeleteExistingFilesWhenMovingNote=!1;shouldMoveAttachmentsWithNote=!1;shouldShowBackupWarning=!0;shouldUpdateLinks=!0;treatAsAttachmentExtensions=[".excalidraw.md"];get excludePaths(){return this._excludePaths}set excludePaths(e){this._excludePaths=e.filter(Boolean),this._excludePathsRegExp=ul(this._excludePaths,Os)}get excludePathsFromAttachmentCollecting(){return this._excludePathsFromAttachmentCollecting}set excludePathsFromAttachmentCollecting(e){this._excludePathsFromAttachmentCollecting=e.filter(Boolean),this._excludePathsFromAttachmentCollectingRegExp=ul(this._excludePathsFromAttachmentCollecting,Os)}get hadDangerousSettingsReverted(){return this._hadDangerousSettingsReverted}get includePaths(){return this._includePaths}set includePaths(e){this._includePaths=e.filter(Boolean),this._includePathsRegExp=ul(this._includePaths,ff)}_excludePaths=["/consistency-report\\.md$/"];_excludePathsFromAttachmentCollecting=[];_excludePathsFromAttachmentCollectingRegExp=Os;_excludePathsRegExp=Os;_hadDangerousSettingsReverted=!1;_includePaths=[];_includePathsRegExp=ff;isExcludedFromAttachmentCollecting(e){return this._excludePathsFromAttachmentCollectingRegExp.test(e)}isPathIgnored(e){return!this._includePathsRegExp.test(e)||this._excludePathsRegExp.test(e)}revertDangerousSettings(){this.shouldShowBackupWarning&&(this._hadDangerousSettingsReverted=this.shouldDeleteAttachmentsWithNote||this.shouldDeleteExistingFilesWhenMovingNote||this.shouldMoveAttachmentsWithNote||this.shouldCollectAttachmentsAutomatically,this.shouldDeleteAttachmentsWithNote=!1,this.shouldDeleteExistingFilesWhenMovingNote=!1,this.shouldMoveAttachmentsWithNote=!1,this.shouldCollectAttachmentsAutomatically=!1)}};function ul(t,e){if(t.length===0)return e;let n=t.map(r=>r.startsWith("/")&&r.endsWith("/")?r.slice(1,-1):`^${Bo(r)}`).map(r=>`(${r})`).join("|");return new RegExp(n)}var Rs=class extends Is{createDefaultSettings(){return new Ls}async onLoadRecord(e){await super.onLoadRecord(e);let n=e,r=n.excludePaths??[];if(n.ignoreFiles){for(let s of n.ignoreFiles)r.push(`/${s}$/`);delete n.ignoreFiles}if(n.ignoreFolders){for(let s of n.ignoreFolders??[])r.push(s);delete n.ignoreFolders}r.length>0&&(n.excludePaths=r),n.deleteEmptyFolders!==void 0&&(n.emptyAttachmentFolderBehavior=n.deleteEmptyFolders?_e.DeleteWithEmptyParents:_e.Keep,delete n.deleteEmptyFolders),n.autoCollectAttachments!==void 0&&(n.shouldCollectAttachmentsAutomatically=n.autoCollectAttachments,delete n.autoCollectAttachments),n.changeNoteBacklinksAlt!==void 0&&(n.shouldChangeNoteBacklinksDisplayText=n.changeNoteBacklinksAlt,delete n.changeNoteBacklinksAlt),n.deleteAttachmentsWithNote!==void 0&&(n.shouldDeleteAttachmentsWithNote=n.deleteAttachmentsWithNote,delete n.deleteAttachmentsWithNote),n.deleteExistFilesWhenMoveNote!==void 0&&(n.shouldDeleteExistingFilesWhenMovingNote=n.deleteExistFilesWhenMoveNote,delete n.deleteExistFilesWhenMoveNote),n.moveAttachmentsWithNote!==void 0&&(n.shouldMoveAttachmentsWithNote=n.moveAttachmentsWithNote,delete n.moveAttachmentsWithNote),n.showBackupWarning!==void 0&&(n.shouldShowBackupWarning=n.showBackupWarning,delete n.showBackupWarning),n.updateLinks!==void 0&&(n.shouldUpdateLinks=n.updateLinks,delete n.updateLinks)}registerValidators(){super.registerValidators(),this.registerValidator("includePaths",hf),this.registerValidator("excludePaths",hf)}};function hf(t){for(let e of t)if(e.startsWith("/")&&e.endsWith("/")){let n=e.slice(1,-1);if(!fu(n))return`Invalid regular expression ${e}`}}var Tf=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();function pf(t,e){let n=Object.keys(t).find(r=>t[r]===e);if(n===void 0)throw new Error(`Invalid enum value: ${e}`);return n}function mf(t,e){let n=t[e];if(n===void 0)throw new Error(`Invalid enum key: ${e}`);return n}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();function ut(t,e){t.createEl("strong",{cls:"markdown-rendered code"},n=>{n.createEl("code",{text:e})})}var On=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();function Ns(t){let e=t.parentElement;if(!e)throw new Error("Element must be attached to the DOM");if(e.classList.contains(W.SettingComponentWrapper))return e;let n=Array.from(e.children),r=createDiv();oe(r,W.SettingComponentWrapper);for(let s of n)r.appendChild(s);return e.appendChild(r),r}var gf=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var cl=class{constructor(e){this.abstractTextComponent=e}empty(){this.abstractTextComponent.setValue("")}isEmpty(){return this.abstractTextComponent.getValue()===""}setPlaceholderValue(e){return this.abstractTextComponent.setPlaceholder(e),this}};function wf(t){return mk(t)?t:t instanceof gf.AbstractTextComponent?new cl(t):null}function mk(t){let e=t;return typeof e.setPlaceholderValue=="function"&&typeof e.isEmpty=="function"}var Oe=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Ws=class{constructor(e){this.el=e;let n=Ns(e);this._validatorEl=n.createEl("input",{attr:{tabindex:-1}}),oe(this._validatorEl,W.OverlayValidator),this._validatorEl.addEventListener("focus",()=>{this.el.focus()}),this._validatorEl.isActiveElement=this.isElementOrDescendantActive.bind(this);let r=this.el.querySelector("[tabindex]");r||(this.el.getAttr("tabindex")===null&&(this.el.tabIndex=-1),r=this.el),this.el.addEventListener("focusin",()=>{this.forceBlurValidatorEl()}),this.el.addEventListener("click",()=>{r.focus()}),this.el.addEventListener("focusout",()=>{window.setTimeout(()=>{this.isElementOrDescendantActive()||this.forceBlurValidatorEl()},0)})}get validatorEl(){return this._validatorEl}_validatorEl;forceBlurValidatorEl(){this._validatorEl.dispatchEvent(new Event("blur"))}isElementOrDescendantActive(){return this.el.contains(document.activeElement)}},dn=class{constructor(e){this.validatorEl=e}};function yf(t){return gk(t)?t:t instanceof Oe.ColorComponent?new dn(t.colorPickerEl):t instanceof Oe.DropdownComponent?new dn(t.selectEl):t instanceof Oe.ProgressBarComponent?new Ws(t.progressBar):t instanceof Oe.SearchComponent?new dn(t.inputEl):t instanceof Oe.SliderComponent?new dn(t.sliderEl):t instanceof Oe.TextAreaComponent?new dn(t.inputEl):t instanceof Oe.TextComponent?new dn(t.inputEl):t instanceof Oe.ToggleComponent?new Ws(t.toggleEl):null}function gk(t){return!!t.validatorEl}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();function kf(t){return t.validationMessage!==void 0}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var dl="PluginSettingsTab",Bs=class extends On.PluginSettingTab{constructor(e){super(e.app,e),this.plugin=e,oe(this.containerEl,W.PluginSettingsTab),this.saveSettingsDebounced=(0,On.debounce)(xn(()=>this.plugin.settingsManager.saveToFile(dl)),this.saveSettingsDebounceTimeoutInMilliseconds),this.asyncEventsComponent=new Bi,this.asyncEvents=new Et}get isOpen(){return this._isOpen}get saveSettingsDebounceTimeoutInMilliseconds(){return 2e3}_isOpen=!1;asyncEvents;asyncEventsComponent;saveSettingsDebounced;get pluginSettings(){return this.plugin.settingsManager.settingsWrapper.settings}bind(e,n,r){let o={...{componentToPluginSettingsValueConverter:T=>T,onChanged:Ut,pluginSettingsToComponentValueConverter:T=>T,shouldResetSettingWhenComponentIsEmpty:!0,shouldShowPlaceholderForDefaultValues:!0,shouldShowValidationMessage:!0},...r},l=yf(e)?.validatorEl,u=wf(e),d=this.pluginSettings[n],p=this.plugin.settingsManager.defaultSettings[n];u?.setPlaceholderValue(o.pluginSettingsToComponentValueConverter(p));let h,m=null,w=null;if(l){let T=Ns(l);m=T.createDiv(),oe(m,W.Tooltip,W.TooltipValidator),w=m.createSpan();let F=m.createDiv();oe(F,W.TooltipArrow),m.hide(),T.appendChild(m)}this.asyncEventsComponent.registerAsyncEvent(this.on("validationMessageChanged",(T,F)=>{n===T&&(h=F,S())}));let y=!1;u&&o.shouldShowPlaceholderForDefaultValues&&ot(d,p)?u.empty():e.setValue(o.pluginSettingsToComponentValueConverter(d));let x=!1,S=(0,On.debounce)(()=>{requestAnimationFrame(()=>{C()})},100);return e.onChange(async T=>{if(x){x=!1;return}y=!1;let F=this.pluginSettings[n],B,Y=!0;if(u?.isEmpty()&&o.shouldResetSettingWhenComponentIsEmpty)B=p;else{let E=o.componentToPluginSettingsValueConverter(T);kf(E)?(h=E.validationMessage,Y=!1):B=E}Y&&(h=await this.plugin.settingsManager.setProperty(n,B),u&&o.shouldShowPlaceholderForDefaultValues&&!u.isEmpty()&&ot(B,p)&&(y=!0)),S(),B!==void 0&&await o.onChanged(B,F),this.saveSettingsDebounced()}),l?.addEventListener("focus",()=>{S()}),l?.addEventListener("blur",()=>{S()}),l?.addEventListener("click",()=>{requestAnimationFrame(()=>{S()})}),h=this.plugin.settingsManager.settingsWrapper.validationMessages[n]??"",S(),e;function C(){y&&!l?.isActiveElement()&&(y=!1,u?.isEmpty()||(x=!0,u?.empty())),l&&(h===""&&(l.setCustomValidity(""),l.checkValidity(),h=l.validationMessage),l.setCustomValidity(h),o.shouldShowValidationMessage?(w&&(w.textContent=h),m?.toggle(!!h)):h&&(0,On.setTooltip)(l,h))}}display(){this.containerEl.empty(),this._isOpen=!0,this.asyncEventsComponent.load(),this.asyncEventsComponent.registerAsyncEvent(this.plugin.settingsManager.on("loadSettings",this.onLoadSettings.bind(this))),this.asyncEventsComponent.registerAsyncEvent(this.plugin.settingsManager.on("saveSettings",this.onSaveSettings.bind(this)))}hide(){super.hide(),this.saveSettingsDebounced.cancel(),this._isOpen=!1,this.asyncEventsComponent.unload(),this.asyncEventsComponent.load(),Tt(()=>this.hideAsync())}async hideAsync(){await this.plugin.settingsManager.saveToFile(dl)}show(){this.app.setting.openTab(this)}async onLoadSettings(e,n){this.display(),await Ct()}on(e,n,r){return this.asyncEvents.on(e,n,r)}async onSaveSettings(e,n,r){if(r===dl){for(let[s,o]of Object.entries(e.validationMessages))await this.asyncEvents.triggerAsync("validationMessageChanged",s,o);return}this.display()}};var _f=require("obsidian");var bf=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Ys=class extends bf.ValueComponent{inputEl;get validatorEl(){return this.inputEl}changeCallback;constructor(e){super(),oe(e,W.CheckboxComponent),this.inputEl=e.createEl("input",{type:"checkbox"}),this.inputEl.addEventListener("change",this.onChanged.bind(this))}getValue(){return this.inputEl.checked}onChange(e){return this.changeCallback=e,this}onChanged(){this.changeCallback?.(this.getValue())}setDisabled(e){return super.setDisabled(e),this.inputEl.disabled=e,this}setValue(e){return this.inputEl.checked=e,this}};var mr=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Vs=class extends mr.ValueComponent{get inputEl(){return this.textAreaComponent.inputEl}get validatorEl(){return this.inputEl}codeEl;placeholder="";preEl;tabSize;textAreaComponent;constructor(e){super(),oe(e,W.CodeHighlighterComponent);let n=e.createDiv();oe(n,W.SettingComponentWrapper),this.textAreaComponent=new mr.TextAreaComponent(n),this.preEl=n.createEl("pre"),this.codeEl=this.preEl.createEl("code"),this.inputEl.addEventListener("input",xn(this.updateHighlightedCode.bind(this))),this.inputEl.addEventListener("scroll",this.handleScroll.bind(this)),this.inputEl.addEventListener("keydown",this.handleKeyDown.bind(this));let r=2;this.tabSize=r}empty(){this.setValue("")}getValue(){return this.textAreaComponent.getValue()}isEmpty(){return this.textAreaComponent.getValue()===""}onChange(e){return this.textAreaComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.textAreaComponent.setDisabled(e),this}setLanguage(e){let n="language-";for(let r of[this.preEl,this.codeEl]){for(let s of Array.from(r.classList))s.startsWith(n)&&r.classList.remove(s);r.classList.add(`${n}${e}`)}return this}setPlaceholder(e){return this.placeholder=e,Tt(this.updateHighlightedCode.bind(this)),this}setPlaceholderValue(e){return this.setPlaceholder(e),this}setTabSize(e){return this.tabSize=e,this}setValue(e){return this.textAreaComponent.setValue(e),Tt(this.updateHighlightedCode.bind(this)),this}handleKeyDown(e){if(e.key!=="Tab")return;e.preventDefault();let n=this.getValue(),r=this.inputEl.selectionStart,s=this.inputEl.selectionEnd,o=n.slice(0,r),l=n.slice(s),u=" ".repeat(this.tabSize),d=o;e.shiftKey?o.endsWith(u)&&(d=o.slice(0,-this.tabSize)):d=o+u;let p=`${d}${l}`;this.setValue(p),this.inputEl.selectionStart=d.length,this.inputEl.selectionEnd=d.length}handleScroll(){this.preEl.scrollTop=this.inputEl.scrollTop,this.preEl.scrollLeft=this.inputEl.scrollLeft}async updateHighlightedCode(){this.codeEl.textContent=this.inputEl.value||this.placeholder,(await(0,mr.loadPrism)()).highlightElement(this.codeEl),this.preEl.toggleClass(W.IsPlaceholder,this.isEmpty())}};var fl=et(In(),1);var zs=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Ee=class extends zs.ValueComponent{inputEl;get validatorEl(){return this.inputEl}textComponent;constructor(e,n,r){super(),this.textComponent=new zs.TextComponent(e),this.inputEl=this.textComponent.inputEl,this.inputEl.type=n,oe(e,r)}getValue(){return this.valueFromString(this.textComponent.getValue())}onChange(e){return this.textComponent.onChange(()=>e(this.getValue())),this}onChanged(){this.textComponent.onChanged()}setDisabled(e){return super.setDisabled(e),this.textComponent.setDisabled(e),this}setValue(e){return this.textComponent.setValue(this.valueToString(e)),this}valueToString(e){return String(e)}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var qe=class extends Ee{setMax(e){return this.inputEl.max=this.valueToString(e),this}setMin(e){return this.inputEl.min=this.valueToString(e),this}setStep(e){return this.inputEl.step=e.toString(),this}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var vf="YYYY-MM-DD",Us=class extends qe{constructor(e){super(e,"date",W.DateComponent)}valueFromString(e){return(0,fl.default)(e,vf).toDate()}valueToString(e){return(0,fl.default)(e).format(vf)}};var hl=et(In(),1);(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var xf="YYYY-MM-DDTHH:mm",Hs=class extends qe{constructor(e){super(e,"datetime-local",W.DateTimeComponent)}valueFromString(e){return(0,hl.default)(e,xf).toDate()}valueToString(e){return(0,hl.default)(e).format(xf)}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var $s=class extends Ee{constructor(e){super(e,"email",W.EmailComponent)}empty(){this.setValue("")}isEmpty(){return this.getValue()===""}setPlaceholderValue(e){return this.textComponent.setPlaceholder(e),this}valueFromString(e){return e}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var js=class extends Ee{constructor(e){super(e,"file",W.FileComponent)}getValue(){return this.inputEl.files?.[0]??null}valueFromString(){return this.getValue()}valueToString(e){return e?.name??""}};var pl=et(In(),1);(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Cf="YYYY-MM",Gs=class extends qe{constructor(e){super(e,"month",W.MonthComponent)}valueFromString(e){let n=(0,pl.default)(e,Cf);if(!n.isValid())throw new Error("Invalid month");return{month:n.month()+1,year:n.year()}}valueToString(e){return(0,pl.default)().year(e.year).month(e.month-1).format(Cf)}};var qs=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var gr=class extends qs.ValueComponent{get selectEl(){return this.dropdownComponent.selectEl}get validatorEl(){return this.selectEl}dropdownComponent;constructor(e){super(),this.dropdownComponent=new qs.DropdownComponent(e),this.dropdownComponent.selectEl.multiple=!0,oe(e,W.MultipleDropdownComponent)}addOption(e,n){return this.dropdownComponent.addOption(e,n),this}addOptions(e){return this.dropdownComponent.addOptions(e),this}getValue(){return Array.from(this.dropdownComponent.selectEl.selectedOptions).map(e=>e.value)}onChange(e){return this.dropdownComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.dropdownComponent.setDisabled(e),this}setValue(e){for(let n of Array.from(this.dropdownComponent.selectEl.options))n.selected=e.includes(n.value);return this}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Ks=class extends Ee{constructor(e){super(e,"email",W.MultipleEmailComponent),this.inputEl.multiple=!0}valueFromString(e){return e.split(",").map(n=>n.trim())}valueToString(e){return e.join(", ")}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Zs=class extends Ee{constructor(e){super(e,"file",W.MultipleFileComponent),this.inputEl.multiple=!0}getValue(){return Array.from(this.inputEl.files??[])}valueFromString(){return this.getValue()}valueToString(e){return e[0]?.name??""}};var Js=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Qs=class extends Js.ValueComponent{get inputEl(){return this.textAreaComponent.inputEl}get validatorEl(){return this.inputEl}textAreaComponent;constructor(e){super(),this.textAreaComponent=new Js.TextAreaComponent(e),oe(e,W.MultipleTextComponent)}empty(){this.textAreaComponent.setValue("")}getValue(){return this.textAreaComponent.getValue().split(`
`)}isEmpty(){return this.textAreaComponent.getValue()===""}onChange(e){return this.textAreaComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.textAreaComponent.setDisabled(e),this}setPlaceholder(e){return this.textAreaComponent.setPlaceholder(e),this}setPlaceholderValue(e){return this.setPlaceholder(this.valueToString(e)),this}setValue(e){return this.textAreaComponent.setValue(this.valueToString(e)),this}valueToString(e){return e.join(`
`)}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Xs=class extends qe{constructor(e){super(e,"number",W.NumberComponent)}empty(){this.textComponent.setValue("")}isEmpty(){return this.textComponent.getValue()===""}setPlaceholder(e){return this.textComponent.setPlaceholder(e),this}setPlaceholderValue(e){return this.textComponent.setPlaceholder(this.valueToString(e)),this}valueFromString(e){return parseInt(e,10)}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var eo=class extends Ee{constructor(e){super(e,"password",W.PasswordComponent)}setPlaceholder(e){return this.textComponent.setPlaceholder(e),this}valueFromString(e){return e}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var to=class extends Ee{constructor(e){super(e,"tel",W.TelephoneComponent)}empty(){this.textComponent.setValue("")}isEmpty(){return this.textComponent.getValue()===""}setPlaceholderValue(e){return this.textComponent.setPlaceholder(e),this}valueFromString(e){return e}};var ro=et(In(),1);(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var no=class extends qe{constructor(e){super(e,"time",W.TimeComponent)}valueFromString(e){return(0,ro.duration)(e)}valueToString(e){let n;return e.milliseconds()>0?n="HH:mm:ss.SSS":e.seconds()>0?n="HH:mm:ss":n="HH:mm",(0,ro.utc)(e.asMilliseconds()).format(n)}};var Af=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var io=class extends Af.ValueComponent{inputEl;get validatorEl(){return this.inputEl}changeCallback;constructor(e){super(),oe(e,W.TriStateCheckboxComponent),this.inputEl=e.createEl("input",{type:"checkbox"}),this.inputEl.addEventListener("change",this.onChanged.bind(this))}getValue(){return this.inputEl.indeterminate?null:this.inputEl.checked}onChange(e){return this.changeCallback=e,this}onChanged(){this.changeCallback?.(this.getValue())}setDisabled(e){return super.setDisabled(e),this.inputEl.disabled=e,this}setValue(e){return this.inputEl.indeterminate=e===null,this.inputEl.checked=e??!1,this}};var oo=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var so=class extends oo.ValueComponent{get selectEl(){return this.dropdownComponent.selectEl}get validatorEl(){return this.selectEl}dropdownComponent;values=[];constructor(e){super(),this.dropdownComponent=new oo.DropdownComponent(e),oe(e,W.TypedDropdownComponent)}addOption(e,n){let r=this.values.indexOf(e);return r===-1&&(this.values.push(e),r=this.values.length-1),this.dropdownComponent.addOption(r.toString(),n),this}addOptions(e){for(let[n,r]of e.entries())this.addOption(n,r);return this}getValue(){return this.values[this.dropdownComponent.selectEl.selectedIndex]??null}onChange(e){return this.dropdownComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.dropdownComponent.setDisabled(e),this}setValue(e){let n=e===null?-1:this.values.indexOf(e);return this.dropdownComponent.selectEl.selectedIndex=n,this}};var Ef=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var ao=class extends Ef.ValueComponent{get selectEl(){return this.multipleDropdownComponent.selectEl}get validatorEl(){return this.selectEl}multipleDropdownComponent;values=[];constructor(e){super(),this.multipleDropdownComponent=new gr(e),oe(e,W.TypedMultipleDropdownComponent)}addOption(e,n){let r=this.values.indexOf(e);return r===-1&&(this.values.push(e),r=this.values.length-1),this.multipleDropdownComponent.addOption(r.toString(),n),this}addOptions(e){for(let[n,r]of e.entries())this.addOption(n,r);return this}getValue(){return this.multipleDropdownComponent.getValue().map(n=>parseInt(n,10)).map(n=>this.values[n]).filter(n=>n!==void 0)}onChange(e){return this.multipleDropdownComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.multipleDropdownComponent.setDisabled(e),this}setValue(e){let n=e.map(r=>this.values.indexOf(r)).filter(r=>r!==-1);return this.multipleDropdownComponent.setValue(n.map(r=>r.toString())),this}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var lo=class extends Ee{constructor(e){super(e,"url",W.UrlComponent)}empty(){this.setValue("")}isEmpty(){return this.getValue()===""}setPlaceholderValue(e){return this.textComponent.setPlaceholder(e),this}valueFromString(e){return e}};var ml=et(In(),1);(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Sf="YYYY-[W]WW",uo=class extends qe{constructor(e){super(e,"week",W.WeekComponent)}valueFromString(e){let n=(0,ml.default)(e,Sf);if(!n.isValid())throw new Error("Invalid week");return{weekNumber:n.isoWeek(),year:n.year()}}valueToString(e){return(0,ml.default)().year(e.year).isoWeek(e.weekNumber).format(Sf)}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var He=class extends _f.Setting{addCheckbox(e){return this.addComponent(Ys,e)}addCodeHighlighter(e){return this.addComponent(Vs,e)}addComponent(e,n){let r=new e(this.controlEl);return this.components.push(r),n(r),this}addDate(e){return this.addComponent(Us,e)}addDateTime(e){return this.addComponent(Hs,e)}addEmail(e){return this.addComponent($s,e)}addFile(e){return this.addComponent(js,e)}addMonth(e){return this.addComponent(Gs,e)}addMultipleDropdown(e){return this.addComponent(gr,e)}addMultipleEmail(e){return this.addComponent(Ks,e)}addMultipleFile(e){return this.addComponent(Zs,e)}addMultipleText(e){return this.addComponent(Qs,e)}addNumber(e){return this.addComponent(Xs,e)}addPassword(e){return this.addComponent(eo,e)}addTelephone(e){return this.addComponent(to,e)}addTime(e){return this.addComponent(no,e)}addTriStateCheckbox(e){return this.addComponent(io,e)}addTypedDropdown(e){return this.addComponent(so,e)}addTypedMultipleDropdown(e){return this.addComponent(ao,e)}addUrl(e){return this.addComponent(lo,e)}addWeek(e){return this.addComponent(uo,e)}};var co=class extends Bs{display(){super.display(),this.containerEl.empty();let e="Move Attachments with Note";new He(this.containerEl).setName(e).setDesc("Automatically move attachments when a note is relocated. This includes attachments located in the same folder or any of its subfolders.").addToggle(o=>this.bind(o,"shouldMoveAttachmentsWithNote",{onChanged:async()=>{await this.checkDangerousSetting("shouldMoveAttachmentsWithNote",e)}}));let n="Delete Unused Attachments with Note";new He(this.containerEl).setName(n).setDesc("Automatically remove attachments that are no longer referenced in other notes when the note is deleted.").addToggle(o=>this.bind(o,"shouldDeleteAttachmentsWithNote",{onChanged:async()=>{await this.checkDangerousSetting("shouldDeleteAttachmentsWithNote",n)}})),new He(this.containerEl).setName("Update Links").setDesc("Automatically update links to attachments and other notes when moving notes or attachments.").addToggle(o=>this.bind(o,"shouldUpdateLinks")),new He(this.containerEl).setName("Empty attachment folder behavior").setDesc(createFragment(o=>{o.appendText("When the attachment folder becomes empty, "),o.createEl("br"),ut(o,"Keep"),o.appendText(" - will keep the empty attachment folder, "),o.createEl("br"),ut(o,"Delete"),o.appendText(" - will delete the empty attachment folder, "),o.createEl("br"),ut(o,"Delete with empty parents"),o.appendText(" - will delete the empty attachment folder and its empty parent folders.")})).addDropdown(o=>{o.addOptions({[_e.Keep]:"Keep",[_e.Delete]:"Delete",[_e.DeleteWithEmptyParents]:"Delete with empty parents"}),this.bind(o,"emptyAttachmentFolderBehavior",{componentToPluginSettingsValueConverter:l=>mf(_e,l),pluginSettingsToComponentValueConverter:l=>pf(_e,l)})});let r="Delete Duplicate Attachments on Note Move";new He(this.containerEl).setName(r).setDesc("Automatically delete attachments when moving a note if a file with the same name exists in the destination folder. If disabled, the file will be renamed and moved.").addToggle(o=>this.bind(o,"shouldDeleteExistingFilesWhenMovingNote",{onChanged:async()=>{await this.checkDangerousSetting("shouldDeleteExistingFilesWhenMovingNote",r)}})),new He(this.containerEl).setName("Update Backlink Text on Note Rename").setDesc("When a note is renamed, its linked references are automatically updated. If this option is enabled, the text of backlinks to this note will also be modified.").addToggle(o=>this.bind(o,"shouldChangeNoteBacklinksDisplayText")),new He(this.containerEl).setName("Consistency Report Filename").setDesc("Specify the name of the file for the consistency report.").addText(o=>{this.bind(o,"consistencyReportFile")});let s="Auto Collect Attachments";new He(this.containerEl).setName(s).setDesc("Automatically collect attachments when the note is edited.").addToggle(o=>this.bind(o,"shouldCollectAttachmentsAutomatically",{onChanged:async()=>{await this.checkDangerousSetting("shouldCollectAttachmentsAutomatically",s)}})),new He(this.containerEl).setName("Include paths").setDesc(createFragment(o=>{o.appendText("Include notes from the following paths"),o.createEl("br"),o.appendText("Insert each path on a new line"),o.createEl("br"),o.appendText("You can use path string or "),ut(o,"/regular expression/"),o.createEl("br"),o.appendText("If the setting is empty, all notes are included")})).addMultipleText(o=>{this.bind(o,"includePaths")}),new He(this.containerEl).setName("Exclude paths").setDesc(createFragment(o=>{o.appendText("Exclude notes from the following paths"),o.createEl("br"),o.appendText("Insert each path on a new line"),o.createEl("br"),o.appendText("You can use path string or "),ut(o,"/regular expression/"),o.createEl("br"),o.appendText("If the setting is empty, no notes are excluded")})).addMultipleText(o=>{this.bind(o,"excludePaths")}),new He(this.containerEl).setName("Exclude paths from attachment collecting").setDesc(createFragment(o=>{o.appendText("Exclude attachments from the following paths when "),ut(o,"Collect attachments"),o.appendText(" command is executed."),o.createEl("br"),o.appendText("Insert each path on a new line"),o.createEl("br"),o.appendText("You can use path string or "),ut(o,"/regular expression/"),o.createEl("br"),o.appendText("If the setting is empty, no paths are excluded from attachment collecting.")})).addMultipleText(o=>{this.bind(o,"excludePathsFromAttachmentCollecting")}),new He(this.containerEl).setName("Treat as attachment extensions").setDesc(createFragment(o=>{o.appendText("Treat files with these extensions as attachments."),o.createEl("br"),o.appendText("By default, "),ut(o,".md"),o.appendText(" and "),ut(o,".canvas"),o.appendText(" linked files are not treated as attachments and are not moved with the note."),o.createEl("br"),o.appendText("You can add custom extensions, e.g. "),ut(o,".foo.md"),o.appendText(", "),ut(o,".bar.canvas"),o.appendText(", to override this behavior.")})).addMultipleText(o=>{this.bind(o,"treatAsAttachmentExtensions")})}async checkDangerousSetting(e,n){this.plugin.settings[e]&&await Wi({app:this.app,message:createFragment(r=>{r.createDiv({cls:"community-modal-readme"},s=>{s.appendText("You enabled "),s.createEl("strong",{cls:"markdown-rendered-code",text:n}),s.appendText(" setting. Without proper configuration it might lead to inconvenient attachment rearrangements or even data loss in your vault."),s.createEl("br"),s.appendText("It is "),s.createEl("strong",{text:"STRONGLY"}),s.appendText(" recommended to backup your vault before using the plugin."),s.createEl("br"),s.createEl("a",{href:"https://github.com/dy-sh/obsidian-consistent-attachments-and-links?tab=readme-ov-file",text:"Read more"}),s.appendText(" about how to use the plugin.")})}),title:createFragment(r=>{(0,Tf.setIcon)(r.createSpan(),"triangle-alert"),r.appendText(" Consistent Attachments and Links")})})}};var fo=class extends Vi{deletedNoteCache=new Map;fh;lh;async onLoadSettings(e,n){await super.onLoadSettings(e,n),e.settings.revertDangerousSettings()}async onSaveSettings(e,n,r){await super.onSaveSettings(e,n,r),this.lh=new Xr(this),this.fh=new ei(this,this.lh)}createSettingsManager(){return new Rs(this)}createSettingsTab(){return new co(this)}async onLayoutReady(){await this.showBackupWarning(),this.registerEvent(this.app.metadataCache.on("deleted",(e,n)=>{n&&this.handleDeletedMetadata(e,n)})),this.registerEvent(this.app.metadataCache.on("changed",e=>{st(this.app,()=>this.handleMetadataCacheChanged(e))}))}async onloadImpl(){await super.onloadImpl(),of(this,()=>({emptyAttachmentFolderBehavior:this.settings.emptyAttachmentFolderBehavior,isNote:n=>this.fh.isNoteEx(n),isPathIgnored:n=>this.settings.isPathIgnored(n),shouldDeleteConflictingAttachments:this.settings.shouldDeleteExistingFilesWhenMovingNote,shouldHandleDeletions:this.settings.shouldDeleteAttachmentsWithNote,shouldHandleRenames:this.settings.shouldUpdateLinks,shouldRenameAttachmentFolder:this.settings.shouldMoveAttachmentsWithNote,shouldUpdateFileNameAliases:this.settings.shouldChangeNoteBacklinksDisplayText})),this.addCommand({callback:()=>this.collectAllAttachments(),id:"collect-all-attachments",name:"Collect All Attachments"}),this.addCommand({checkCallback:e=>this.collectAttachmentsCurrentFolder(e),id:"collect-attachments-current-folder",name:"Collect Attachments in Current Folder"}),this.addCommand({checkCallback:this.collectAttachmentsCurrentNote.bind(this),id:"collect-attachments-current-note",name:"Collect Attachments in Current Note"}),this.addCommand({callback:()=>this.deleteEmptyFolders(),id:"delete-empty-folders",name:"Delete Empty Folders"}),this.addCommand({callback:()=>this.convertAllLinkPathsToRelative(),id:"convert-all-link-paths-to-relative",name:"Convert All Link Paths to Relative"}),this.addCommand({checkCallback:this.convertAllLinkPathsToRelativeCurrentNote.bind(this),id:"convert-all-link-paths-to-relative-current-note",name:"Convert All Link Paths to Relative in Current Note"}),this.addCommand({callback:()=>this.convertAllEmbedsPathsToRelative(),id:"convert-all-embed-paths-to-relative",name:"Convert All Embed Paths to Relative"}),this.addCommand({checkCallback:this.convertAllEmbedsPathsToRelativeCurrentNote.bind(this),id:"convert-all-embed-paths-to-relative-current-note",name:"Convert All Embed Paths to Relative in Current Note"}),this.addCommand({callback:()=>this.replaceAllWikilinksWithMarkdownLinks(),id:"replace-all-wikilinks-with-markdown-links",name:"Replace All Wiki Links with Markdown Links"}),this.addCommand({checkCallback:this.replaceAllWikilinksWithMarkdownLinksCurrentNote.bind(this),id:"replace-all-wikilinks-with-markdown-links-current-note",name:"Replace All Wiki Links with Markdown Links in Current Note"}),this.addCommand({callback:()=>this.replaceAllWikiEmbedsWithMarkdownEmbeds(),id:"replace-all-wiki-embeds-with-markdown-embeds",name:"Replace All Wiki Embeds with Markdown Embeds"}),this.addCommand({checkCallback:this.replaceAllWikiEmbedsWithMarkdownEmbedsCurrentNote.bind(this),id:"replace-all-wiki-embeds-with-markdown-embeds-current-note",name:"Replace All Wiki Embeds with Markdown Embeds in Current Note"}),this.addCommand({callback:()=>this.reorganizeVault(),id:"reorganize-vault",name:"Reorganize Vault"}),this.addCommand({callback:()=>this.checkConsistency(),id:"check-consistency",name:"Check Vault consistency"}),this.registerEvent(this.app.workspace.on("file-menu",(e,n)=>{this.handleFileMenu(e,n)})),this.lh=new Xr(this),this.fh=new ei(this,this.lh)}async checkConsistency(){await this.saveAllOpenNotes();let e=new un("Bad links"),n=new un("Bad embeds"),r=new un("Wiki links"),s=new un("Wiki embeds"),o=new un("Bad frontmatter links");await Cn({abortSignal:this.abortSignal,buildNoticeMessage:(h,m)=>`Checking note ${m} - ${h.path}`,items:dr(this.app),processItem:async h=>{await this.lh.checkConsistency(h,e,n,r,s,o)},progressBarTitle:"Consistent Attachments and Links: Checking vault consistency...",shouldContinueOnError:!0,shouldShowProgressBar:!0});let l=this.settings.consistencyReportFile,u=[e,n,r,s,o].map(h=>h.toString(this.app,l)).join("");await cr(this.app,se(l));let d=await ku(this.app,l);await this.app.vault.modify(d,u);let p=!1;this.app.workspace.iterateAllLeaves(h=>{h.getDisplayText()!==""&&l.startsWith(h.getDisplayText())&&(p=!0)}),p||await this.app.workspace.openLinkText(l,"/",!1)}async collectAllAttachments(){await this.collectAttachmentsInFolder("/")}async collectAttachments(e,n=!0){if(this.settings.isPathIgnored(e.path)){n&&new be.Notice("Note path is ignored");return}await this.saveAllOpenNotes();let r=await this.fh.collectAttachmentsForCachedNote(e.path);r.movedAttachments.length>0&&await this.lh.updateChangedPathsInNote(e.path,r.movedAttachments),r.movedAttachments.length===0?n&&new be.Notice("No files found that need to be moved"):new be.Notice(`Moved ${r.movedAttachments.length.toString()} attachment${r.movedAttachments.length>1?"s":""}`)}collectAttachmentsCurrentFolder(e){let n=this.app.workspace.getActiveFile();return!n||!ke(this.app,n)?!1:(e||st(this.app,()=>this.collectAttachmentsInFolder(n.parent?.path??"/")),!0)}collectAttachmentsCurrentNote(e){let n=this.app.workspace.getActiveFile();return!n||!ke(this.app,n)?!1:(e||st(this.app,()=>this.collectAttachments(n)),!0)}async collectAttachmentsInFolder(e){let n=0,r=0;await this.saveAllOpenNotes(),await Cn({abortSignal:this.abortSignal,buildNoticeMessage:(s,o)=>`Collecting attachments ${o} - ${s.path}`,items:yu(this.app,e,!0),processItem:async s=>{if(this.settings.isPathIgnored(s.path))return;let o=await this.fh.collectAttachmentsForCachedNote(s.path);o.movedAttachments.length>0&&(await this.lh.updateChangedPathsInNote(s.path,o.movedAttachments),n+=o.movedAttachments.length,r++)},progressBarTitle:"Consistent Attachments and Links: Collecting attachments...",shouldContinueOnError:!0,shouldShowProgressBar:!0}),n===0?new be.Notice("No files found that need to be moved"):new be.Notice(`Moved ${n.toString()} attachment${n>1?"s":""} from ${r.toString()} note${r>1?"s":""}`)}async convertAllEmbedsPathsToRelative(){await this.saveAllOpenNotes();let e=0,n=0;await Cn({abortSignal:this.abortSignal,buildNoticeMessage:(r,s)=>`Converting embed paths to relative ${s} - ${r.path}`,items:dr(this.app),processItem:async r=>{if(this.settings.isPathIgnored(r.path))return;let s=await this.lh.convertAllNoteEmbedsPathsToRelative(r.path);s.length>0&&(e+=s.length,n++)},progressBarTitle:"Consistent Attachments and Links: Converting embed paths to relative...",shouldContinueOnError:!0,shouldShowProgressBar:!0}),e===0?new be.Notice("No embeds found that need to be converted"):new be.Notice(`Converted ${e.toString()} embed${e>1?"s":""} from ${n.toString()} note${n>1?"s":""}`)}convertAllEmbedsPathsToRelativeCurrentNote(e){let n=this.app.workspace.getActiveFile();return!n||!ke(this.app,n)?!1:(e||st(this.app,_r(()=>this.lh.convertAllNoteEmbedsPathsToRelative(n.path))),!0)}async convertAllLinkPathsToRelative(){await this.saveAllOpenNotes();let e=0,n=0;await Cn({abortSignal:this.abortSignal,buildNoticeMessage:(r,s)=>`Converting link paths to relative ${s} - ${r.path}`,items:dr(this.app),processItem:async r=>{if(this.settings.isPathIgnored(r.path))return;let s=await this.lh.convertAllNoteLinksPathsToRelative(r.path);s.length>0&&(e+=s.length,n++)},progressBarTitle:"Consistent Attachments and Links: Converting link paths to relative...",shouldContinueOnError:!0,shouldShowProgressBar:!0}),e===0?new be.Notice("No links found that need to be converted"):new be.Notice(`Converted ${e.toString()} link${e>1?"s":""} from ${n.toString()} note${n>1?"s":""}`)}convertAllLinkPathsToRelativeCurrentNote(e){let n=this.app.workspace.getActiveFile();return!n||!ke(this.app,n)?!1:(e||st(this.app,_r(()=>this.lh.convertAllNoteLinksPathsToRelative(n.path))),!0)}async deleteEmptyFolders(){await this.fh.deleteEmptyFolders("/")}handleDeletedMetadata(e,n){!this.settings.shouldDeleteAttachmentsWithNote||this.settings.isPathIgnored(e.path)||!ke(this.app,e)||this.deletedNoteCache.set(e.path,n)}handleFileMenu(e,n){Mr(n)&&e.addItem(r=>{r.setTitle("Collect attachments in folder").setIcon("download").onClick(()=>this.collectAttachmentsInFolder(n.path))})}async handleMetadataCacheChanged(e){if(!this.settings.shouldCollectAttachmentsAutomatically)return;let n=document.querySelector(".suggestion-container");n&&n.style.display!=="none"||await this.collectAttachments(e,!1)}async reorganizeVault(){await this.saveAllOpenNotes(),await this.replaceAllWikilinksWithMarkdownLinks(),await this.replaceAllWikiEmbedsWithMarkdownEmbeds(),await this.convertAllEmbedsPathsToRelative(),await this.convertAllLinkPathsToRelative(),await this.collectAllAttachments(),await this.deleteEmptyFolders(),new be.Notice("Reorganization of the vault completed")}async replaceAllWikiEmbedsWithMarkdownEmbeds(){await this.saveAllOpenNotes();let e=0,n=0;await Cn({abortSignal:this.abortSignal,buildNoticeMessage:(r,s)=>`Replacing wiki embeds with markdown embeds ${s} - ${r.path}`,items:dr(this.app),processItem:async r=>{if(this.settings.isPathIgnored(r.path))return;let s=await this.lh.replaceAllNoteWikilinksWithMarkdownLinks(r.path,!0);e+=s,n++},progressBarTitle:"Consistent Attachments and Links: Replacing wiki embeds with markdown embeds...",shouldContinueOnError:!0,shouldShowProgressBar:!0}),e===0?new be.Notice("No wiki embeds found that need to be replaced"):new be.Notice(`Replaced ${e.toString()} wiki embed${e>1?"s":""} from ${n.toString()} note${n>1?"s":""}`)}replaceAllWikiEmbedsWithMarkdownEmbedsCurrentNote(e){let n=this.app.workspace.getActiveFile();return!n||!ke(this.app,n)?!1:(e||st(this.app,_r(()=>this.lh.replaceAllNoteWikilinksWithMarkdownLinks(n.path,!0))),!0)}async replaceAllWikilinksWithMarkdownLinks(){await this.saveAllOpenNotes();let e=0,n=0;await Cn({abortSignal:this.abortSignal,buildNoticeMessage:(r,s)=>`Replacing wikilinks with markdown links ${s} - ${r.path}`,items:dr(this.app),processItem:async r=>{if(this.settings.isPathIgnored(r.path))return;let s=await this.lh.replaceAllNoteWikilinksWithMarkdownLinks(r.path,!1);e+=s,n++},progressBarTitle:"Consistent Attachments and Links: Replacing wikilinks with markdown links...",shouldContinueOnError:!0,shouldShowProgressBar:!0}),e===0?new be.Notice("No wiki links found that need to be replaced"):new be.Notice(`Replaced ${e.toString()} wikilink${e>1?"s":""} from ${n.toString()} note${n>1?"s":""}`)}replaceAllWikilinksWithMarkdownLinksCurrentNote(e){let n=this.app.workspace.getActiveFile();return!n||!ke(this.app,n)?!1:(e||st(this.app,_r(()=>this.lh.replaceAllNoteWikilinksWithMarkdownLinks(n.path,!1))),!0)}async saveAllOpenNotes(){for(let e of this.app.workspace.getLeavesOfType("markdown"))e.view instanceof be.MarkdownView&&await e.view.save()}async showBackupWarning(){this.settings.shouldShowBackupWarning&&(await Wi({app:this.app,message:createFragment(e=>{e.createDiv({cls:"community-modal-readme"},n=>{n.appendText("Using 'Consistent Attachments and Links' plugin without proper configuration might lead to inconvenient attachment rearrangements or even data loss in your vault."),n.createEl("br"),n.appendText("It is "),n.createEl("strong",{text:"STRONGLY"}),n.appendText(" recommended to backup your vault before using the plugin."),n.createEl("br"),this.settings.hadDangerousSettingsReverted&&(n.appendText("Some of your plugin settings has been changed to their safe values."),n.createEl("br")),n.createEl("a",{href:"https://github.com/dy-sh/obsidian-consistent-attachments-and-links?tab=readme-ov-file",text:"Read more"}),n.appendText(" about how to use the plugin."),n.createEl("br"),n.appendText("This warning will not appear again.")})}),title:createFragment(e=>{(0,be.setIcon)(e.createSpan(),"triangle-alert"),e.appendText(" Consistent Attachments and Links")})}),await this.settingsManager.editAndSave(e=>{e.shouldShowBackupWarning=!1}))}};var wk=fo;
/*! Bundled license information:

moment/moment.js:
  (*! moment.js *)
  (*! version : 2.30.1 *)
  (*! authors : Tim Wood, Iskren Chernev, Moment.js contributors *)
  (*! license : MIT *)
  (*! momentjs.com *)
*/

/* nosourcemap */